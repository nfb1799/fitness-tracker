(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ld={exports:{}},Al={};var q_;function BA(){if(q_)return Al;q_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Al.Fragment=e,Al.jsx=i,Al.jsxs=i,Al}var H_;function qA(){return H_||(H_=1,Ld.exports=BA()),Ld.exports}var E=qA(),Pd={exports:{}},we={};var F_;function HA(){if(F_)return we;F_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),I=Symbol.iterator;function P(V){return V===null||typeof V!="object"?null:(V=I&&V[I]||V["@@iterator"],typeof V=="function"?V:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,W={};function ne(V,X,re){this.props=V,this.context=X,this.refs=W,this.updater=re||Y}ne.prototype.isReactComponent={},ne.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},ne.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ce(){}ce.prototype=ne.prototype;function fe(V,X,re){this.props=V,this.context=X,this.refs=W,this.updater=re||Y}var Oe=fe.prototype=new ce;Oe.constructor=fe,B(Oe,ne.prototype),Oe.isPureReactComponent=!0;var Ne=Array.isArray;function oe(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function D(V,X,re){var le=re.ref;return{$$typeof:s,type:V,key:X,ref:le!==void 0?le:null,props:re}}function M(V,X){return D(V.type,X,V.props)}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function L(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(re){return X[re]})}var C=/\/+/g;function rt(V,X){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):X.toString(36)}function gt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(oe,oe):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,X,re,le,Te){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var ee=!1;if(V===null)ee=!0;else switch(Ae){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(V.$$typeof){case s:case e:ee=!0;break;case S:return ee=V._init,G(ee(V._payload),X,re,le,Te)}}if(ee)return Te=Te(V),ee=le===""?"."+rt(V,0):le,Ne(Te)?(re="",ee!=null&&(re=ee.replace(C,"$&/")+"/"),G(Te,X,re,"",function(qe){return qe})):Te!=null&&(x(Te)&&(Te=M(Te,re+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(C,"$&/")+"/")+ee)),X.push(Te)),1;ee=0;var ie=le===""?".":le+":";if(Ne(V))for(var Se=0;Se<V.length;Se++)le=V[Se],Ae=ie+rt(le,Se),ee+=G(le,X,re,Ae,Te);else if(Se=P(V),typeof Se=="function")for(V=Se.call(V),Se=0;!(le=V.next()).done;)le=le.value,Ae=ie+rt(le,Se++),ee+=G(le,X,re,Ae,Te);else if(Ae==="object"){if(typeof V.then=="function")return G(gt(V),X,re,le,Te);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ee}function se(V,X,re){if(V==null)return V;var le=[],Te=0;return G(V,le,"","",function(Ae){return X.call(re,Ae,Te++)}),le}function me(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(re){(V._status===0||V._status===-1)&&(V._status=1,V._result=re)},function(re){(V._status===0||V._status===-1)&&(V._status=2,V._result=re)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Me=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:se,forEach:function(V,X,re){se(V,function(){X.apply(this,arguments)},re)},count:function(V){var X=0;return se(V,function(){X++}),X},toArray:function(V){return se(V,function(X){return X})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return we.Activity=b,we.Children=Ge,we.Component=ne,we.Fragment=i,we.Profiler=l,we.PureComponent=fe,we.StrictMode=r,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,we.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},we.cache=function(V){return function(){return V.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(V,X,re){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=B({},V.props),Te=V.key;if(X!=null)for(Ae in X.key!==void 0&&(Te=""+X.key),X)!w.call(X,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&X.ref===void 0||(le[Ae]=X[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=re;else if(1<Ae){for(var ee=Array(Ae),ie=0;ie<Ae;ie++)ee[ie]=arguments[ie+2];le.children=ee}return D(V.type,Te,le)},we.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},we.createElement=function(V,X,re){var le,Te={},Ae=null;if(X!=null)for(le in X.key!==void 0&&(Ae=""+X.key),X)w.call(X,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Te[le]=X[le]);var ee=arguments.length-2;if(ee===1)Te.children=re;else if(1<ee){for(var ie=Array(ee),Se=0;Se<ee;Se++)ie[Se]=arguments[Se+2];Te.children=ie}if(V&&V.defaultProps)for(le in ee=V.defaultProps,ee)Te[le]===void 0&&(Te[le]=ee[le]);return D(V,Ae,Te)},we.createRef=function(){return{current:null}},we.forwardRef=function(V){return{$$typeof:g,render:V}},we.isValidElement=x,we.lazy=function(V){return{$$typeof:S,_payload:{_status:-1,_result:V},_init:me}},we.memo=function(V,X){return{$$typeof:_,type:V,compare:X===void 0?null:X}},we.startTransition=function(V){var X=R.T,re={};R.T=re;try{var le=V(),Te=R.S;Te!==null&&Te(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(oe,Me)}catch(Ae){Me(Ae)}finally{X!==null&&re.types!==null&&(X.types=re.types),R.T=X}},we.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},we.use=function(V){return R.H.use(V)},we.useActionState=function(V,X,re){return R.H.useActionState(V,X,re)},we.useCallback=function(V,X){return R.H.useCallback(V,X)},we.useContext=function(V){return R.H.useContext(V)},we.useDebugValue=function(){},we.useDeferredValue=function(V,X){return R.H.useDeferredValue(V,X)},we.useEffect=function(V,X){return R.H.useEffect(V,X)},we.useEffectEvent=function(V){return R.H.useEffectEvent(V)},we.useId=function(){return R.H.useId()},we.useImperativeHandle=function(V,X,re){return R.H.useImperativeHandle(V,X,re)},we.useInsertionEffect=function(V,X){return R.H.useInsertionEffect(V,X)},we.useLayoutEffect=function(V,X){return R.H.useLayoutEffect(V,X)},we.useMemo=function(V,X){return R.H.useMemo(V,X)},we.useOptimistic=function(V,X){return R.H.useOptimistic(V,X)},we.useReducer=function(V,X,re){return R.H.useReducer(V,X,re)},we.useRef=function(V){return R.H.useRef(V)},we.useState=function(V){return R.H.useState(V)},we.useSyncExternalStore=function(V,X,re){return R.H.useSyncExternalStore(V,X,re)},we.useTransition=function(){return R.H.useTransition()},we.version="19.2.3",we}var G_;function Im(){return G_||(G_=1,Pd.exports=HA()),Pd.exports}var pe=Im(),Ud={exports:{}},bl={},jd={exports:{}},zd={};var Y_;function FA(){return Y_||(Y_=1,(function(s){function e(G,se){var me=G.length;G.push(se);e:for(;0<me;){var Me=me-1>>>1,Ge=G[Me];if(0<l(Ge,se))G[Me]=se,G[me]=Ge,me=Me;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var se=G[0],me=G.pop();if(me!==se){G[0]=me;e:for(var Me=0,Ge=G.length,V=Ge>>>1;Me<V;){var X=2*(Me+1)-1,re=G[X],le=X+1,Te=G[le];if(0>l(re,me))le<Ge&&0>l(Te,re)?(G[Me]=Te,G[le]=me,Me=le):(G[Me]=re,G[X]=me,Me=X);else if(le<Ge&&0>l(Te,me))G[Me]=Te,G[le]=me,Me=le;else break e}}return se}function l(G,se){var me=G.sortIndex-se.sortIndex;return me!==0?me:G.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],_=[],S=1,b=null,I=3,P=!1,Y=!1,B=!1,W=!1,ne=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function Oe(G){for(var se=i(_);se!==null;){if(se.callback===null)r(_);else if(se.startTime<=G)r(_),se.sortIndex=se.expirationTime,e(p,se);else break;se=i(_)}}function Ne(G){if(B=!1,Oe(G),!Y)if(i(p)!==null)Y=!0,oe||(oe=!0,L());else{var se=i(_);se!==null&&gt(Ne,se.startTime-G)}}var oe=!1,R=-1,w=5,D=-1;function M(){return W?!0:!(s.unstable_now()-D<w)}function x(){if(W=!1,oe){var G=s.unstable_now();D=G;var se=!0;try{e:{Y=!1,B&&(B=!1,ce(R),R=-1),P=!0;var me=I;try{t:{for(Oe(G),b=i(p);b!==null&&!(b.expirationTime>G&&M());){var Me=b.callback;if(typeof Me=="function"){b.callback=null,I=b.priorityLevel;var Ge=Me(b.expirationTime<=G);if(G=s.unstable_now(),typeof Ge=="function"){b.callback=Ge,Oe(G),se=!0;break t}b===i(p)&&r(p),Oe(G)}else r(p);b=i(p)}if(b!==null)se=!0;else{var V=i(_);V!==null&&gt(Ne,V.startTime-G),se=!1}}break e}finally{b=null,I=me,P=!1}se=void 0}}finally{se?L():oe=!1}}}var L;if(typeof fe=="function")L=function(){fe(x)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,rt=C.port2;C.port1.onmessage=x,L=function(){rt.postMessage(null)}}else L=function(){ne(x,0)};function gt(G,se){R=ne(function(){G(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(G){switch(I){case 1:case 2:case 3:var se=3;break;default:se=I}var me=I;I=se;try{return G()}finally{I=me}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var me=I;I=G;try{return se()}finally{I=me}},s.unstable_scheduleCallback=function(G,se,me){var Me=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Me+me:Me):me=Me,G){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,G={id:S++,callback:se,priorityLevel:G,startTime:me,expirationTime:Ge,sortIndex:-1},me>Me?(G.sortIndex=me,e(_,G),i(p)===null&&G===i(_)&&(B?(ce(R),R=-1):B=!0,gt(Ne,me-Me))):(G.sortIndex=Ge,e(p,G),Y||P||(Y=!0,oe||(oe=!0,L()))),G},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(G){var se=I;return function(){var me=I;I=se;try{return G.apply(this,arguments)}finally{I=me}}}})(zd)),zd}var K_;function GA(){return K_||(K_=1,jd.exports=FA()),jd.exports}var Bd={exports:{}},Wt={};var Q_;function YA(){if(Q_)return Wt;Q_=1;var s=Im();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wt.createPortal=function(p,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(p,_,null,S)},Wt.flushSync=function(p){var _=d.T,S=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=_,r.p=S,r.d.f()}},Wt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},Wt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Wt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var S=_.as,b=g(S,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,P=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:I,fetchPriority:P}):S==="script"&&r.d.X(p,{crossOrigin:b,integrity:I,fetchPriority:P,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Wt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},Wt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,b=g(S,_.crossOrigin);r.d.L(p,S,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Wt.preloadModule=function(p,_){if(typeof p=="string")if(_){var S=g(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},Wt.requestFormReset=function(p){r.d.r(p)},Wt.unstable_batchedUpdates=function(p,_){return p(_)},Wt.useFormState=function(p,_,S){return d.H.useFormState(p,_,S)},Wt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Wt.version="19.2.3",Wt}var X_;function KA(){if(X_)return Bd.exports;X_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Bd.exports=YA(),Bd.exports}var $_;function QA(){if($_)return bl;$_=1;var s=GA(),e=Im(),i=KA();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),t;if(f===o)return p(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,o=f;break}if(T===o){y=!0,o=h,a=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===a){y=!0,a=f,o=h;break}if(T===o){y=!0,o=f,a=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,I=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),Oe=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case ne:return"Profiler";case W:return"StrictMode";case Ne:return"Suspense";case oe:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case fe:return t.displayName||"Context";case ce:return(t._context.displayName||"Context")+".Consumer";case Oe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:rt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return rt(t(n))}catch{}}return null}var gt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Me=[],Ge=-1;function V(t){return{current:t}}function X(t){0>Ge||(t.current=Me[Ge],Me[Ge]=null,Ge--)}function re(t,n){Ge++,Me[Ge]=t.current,t.current=n}var le=V(null),Te=V(null),Ae=V(null),ee=V(null);function ie(t,n){switch(re(Ae,n),re(Te,t),re(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?h_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=h_(n),t=f_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(le),re(le,t)}function Se(){X(le),X(Te),X(Ae)}function qe(t){t.memoizedState!==null&&re(ee,t);var n=le.current,a=f_(n,t.type);n!==a&&(re(Te,t),re(le,a))}function nt(t){Te.current===t&&(X(le),X(Te)),ee.current===t&&(X(ee),vl._currentValue=me)}var un,Gn;function rn(t){if(un===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);un=n&&n[1]||"",Gn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+un+t+Gn}var _n=!1;function pt(t,n){if(!t||_n)return"";_n=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var q=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){q=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){q=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var N=y.split(`
`),z=T.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===z.length)for(o=N.length-1,h=z.length-1;1<=o&&0<=h&&N[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==z[h]){var K=`
`+N[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{_n=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?rn(a):""}function Ut(t,n){switch(t.tag){case 26:case 27:case 5:return rn(t.type);case 16:return rn("Lazy");case 13:return t.child!==n&&n!==null?rn("Suspense Fallback"):rn("Suspense");case 19:return rn("SuspenseList");case 0:case 15:return pt(t.type,!1);case 11:return pt(t.type.render,!1);case 1:return pt(t.type,!0);case 31:return rn("Activity");default:return""}}function To(t){try{var n="",a=null;do n+=Ut(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var St=Object.prototype.hasOwnProperty,kt=s.unstable_scheduleCallback,ys=s.unstable_cancelCallback,Ph=s.unstable_shouldYield,ru=s.unstable_requestPaint,an=s.unstable_now,mr=s.unstable_getCurrentPriorityLevel,So=s.unstable_ImmediatePriority,Ao=s.unstable_UserBlockingPriority,_s=s.unstable_NormalPriority,Uh=s.unstable_LowPriority,au=s.unstable_IdlePriority,ou=s.log,lu=s.unstable_setDisableYieldValue,Yn=null,Ht=null;function Cn(t){if(typeof ou=="function"&&lu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Yn,t)}catch{}}var yt=Math.clz32?Math.clz32:cu,uu=Math.log,sa=Math.LN2;function cu(t){return t>>>=0,t===0?32:31-(uu(t)/sa|0)|0}var hi=256,gr=262144,At=4194304;function fi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=fi(o):(y&=T,y!==0?h=fi(y):a||(a=T&~t,a!==0&&(h=fi(a))))):(T=o&~f,T!==0?h=fi(T):y!==0?h=fi(y):a||(a=o&~t,a!==0&&(h=fi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Kn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hu(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function mi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function pr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zh(t,n,a,o,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=y&~a;0<a;){var K=31-yt(a),J=1<<K;T[K]=0,N[K]=-1;var q=z[K];if(q!==null)for(z[K]=null,K=0;K<q.length;K++){var F=q[K];F!==null&&(F.lane&=-536870913)}a&=~J}o!==0&&yr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function yr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-yt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function bo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-yt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function wo(t,n){var a=n&-n;return a=(a&42)!==0?1:_r(a),(a&(t.suspendedLanes|n))!==0?0:a}function _r(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:k_(t.type))}function Qn(t,n){var a=se.p;try{return se.p=t,n()}finally{se.p=a}}var Xn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Xn,jt="__reactProps$"+Xn,gi="__reactContainer$"+Xn,ra="__reactEvents$"+Xn,Bh="__reactListeners$"+Xn,du="__reactHandles$"+Xn,mu="__reactResources$"+Xn,pi="__reactMarker$"+Xn;function aa(t){delete t[bt],delete t[jt],delete t[ra],delete t[Bh],delete t[du]}function yi(t){var n=t[bt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[gi]||a[bt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=v_(t);t!==null;){if(a=t[bt])return a;t=v_(t)}return n}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[bt]||t[gi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function vn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function _i(t){var n=t[mu];return n||(n=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function wt(t){t[pi]=!0}var Ro=new Set,Io={};function vi(t,n){Ei(t,n),Ei(t+"Capture",n)}function Ei(t,n){for(Io[t]=n,t=0;t<n.length;t++)Ro.add(n[t])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Do={};function gu(t){return St.call(Do,t)?!0:St.call(No,t)?!1:Co.test(t)?Do[t]=!0:(No[t]=!0,!1)}function oa(t,n,a){if(gu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function En(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Rt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Xe(t){if(!t._valueTracker){var n=vs(t)?"checked":"value";t._valueTracker=Oo(t,n,""+t[n])}}function vr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=vs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Er=/[\n"\\]/g;function cn(t){return t.replace(Er,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function la(t,n,a,o,h,f,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+zt(n)):t.value!==""+zt(n)&&(t.value=""+zt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?xo(t,y,zt(n)):a!=null?xo(t,y,zt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+zt(T):t.removeAttribute("name")}function pu(t,n,a,o,h,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xe(t);return}a=a!=null?""+zt(a):"",n=n!=null?""+zt(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Xe(t)}function xo(t,n,a){n==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Es(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function yu(t,n,a){if(n!=null&&(n=""+zt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+zt(a):""}function Ts(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(gt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=zt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Xe(t)}function hn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||_u.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Mo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Vo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(t,f,n[f])}function ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(t){return Ss.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var ko=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var As=null,Si=null;function Tr(t){var n=Nn(t);if(n&&(t=n.stateNode)){var a=t[jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(la(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[jt]||null;if(!h)throw Error(r(90));la(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&vr(o)}break e;case"textarea":yu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Es(t,!!a.multiple,n,!1)}}}var ha=!1;function bs(t,n,a){if(ha)return t(n,a);ha=!0;try{var o=t(n);return o}finally{if(ha=!1,(As!==null||Si!==null)&&(fc(),As&&(n=As,t=Si,Si=As=null,Tr(n),t)))for(n=0;n<t.length;n++)Tr(t[n])}}function Jn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[jt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(On)try{var We={};Object.defineProperty(We,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Sr=!1}var Ai=null,Lo=null,Ar=null;function Po(){if(Ar)return Ar;var t,n=Lo,a=n.length,o,h="value"in Ai?Ai.value:Ai.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return Ar=h.slice(t,1<o?1-o:void 0)}function br(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function Wn(){return!1}function Ft(t){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:Wn,this.isPropagationStopped=Wn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Ft(qi),ws=b({},qi,{view:0,detail:0}),Uo=Ft(ws),Rs,fa,wi,da=b({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Rs=t.screenX-wi.screenX,fa=t.screenY-wi.screenY):fa=Rs=0,wi=t),Rs)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),jo=Ft(da),wr=b({},da,{dataTransfer:0}),Eu=Ft(wr),Tu=b({},ws,{relatedTarget:0}),Rr=Ft(Tu),zo=b({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=Ft(zo),ma=b({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Au=Ft(ma),bu=b({},qi,{data:0}),Ri=Ft(bu),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Iu[t])?!!n[t]:!1}function Is(){return Cu}var on=b({},ws,{key:function(t){if(t.key){var n=wu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(t){return t.type==="keypress"?br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=Ft(on),Du=b({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Ft(Du),u=b({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),m=Ft(u),v=b({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ft(v),U=b({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Ft(U),te=b({},qi,{newState:0,oldState:0}),Ie=Ft(te),_t=[9,13,27,32],Ye=On&&"CompositionEvent"in window,ut=null;On&&"documentMode"in document&&(ut=document.documentMode);var xn=On&&"TextEvent"in window&&!ut,Ii=On&&(!Ye||ut&&8<ut&&11>=ut),Zn=" ",ei=!1;function Ir(t,n){switch(t){case"keyup":return _t.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function hS(t,n){switch(t){case"compositionend":return ga(n);case"keypress":return n.which!==32?null:(ei=!0,Zn);case"textInput":return t=n.data,t===Zn&&ei?null:t;default:return null}}function fS(t,n){if(pa)return t==="compositionend"||!Ye&&Ir(t,n)?(t=Po(),Ar=Lo=Ai=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ii&&n.locale!=="ko"?null:n.data;default:return null}}var dS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!dS[t.type]:n==="textarea"}function Ag(t,n,a,o){As?Si?Si.push(o):Si=[o]:As=o,n=vc(n,"onChange"),0<n.length&&(a=new bi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Bo=null,qo=null;function mS(t){r_(t,0)}function Ou(t){var n=vn(t);if(vr(n))return t}function bg(t,n){if(t==="change")return n}var wg=!1;if(On){var qh;if(On){var Hh="oninput"in document;if(!Hh){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Hh=typeof Rg.oninput=="function"}qh=Hh}else qh=!1;wg=qh&&(!document.documentMode||9<document.documentMode)}function Ig(){Bo&&(Bo.detachEvent("onpropertychange",Cg),qo=Bo=null)}function Cg(t){if(t.propertyName==="value"&&Ou(qo)){var n=[];Ag(n,qo,t,Dn(t)),bs(mS,n)}}function gS(t,n,a){t==="focusin"?(Ig(),Bo=n,qo=a,Bo.attachEvent("onpropertychange",Cg)):t==="focusout"&&Ig()}function pS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(qo)}function yS(t,n){if(t==="click")return Ou(n)}function _S(t,n){if(t==="input"||t==="change")return Ou(n)}function vS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Tn=typeof Object.is=="function"?Object.is:vS;function Ho(t,n){if(Tn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!St.call(n,h)||!Tn(t[h],n[h]))return!1}return!0}function Ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,n){var a=Ng(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ng(a)}}function Og(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Og(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ti(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ti(t.document)}return n}function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ES=On&&"documentMode"in document&&11>=document.documentMode,ya=null,Gh=null,Fo=null,Yh=!1;function Vg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||ya==null||ya!==Ti(o)||(o=ya,"selectionStart"in o&&Fh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Fo&&Ho(Fo,o)||(Fo=o,o=vc(Gh,"onSelect"),0<o.length&&(n=new bi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ya)))}function Cr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var _a={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},Kh={},Mg={};On&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Nr(t){if(Kh[t])return Kh[t];if(!_a[t])return t;var n=_a[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Mg)return Kh[t]=n[a];return t}var kg=Nr("animationend"),Lg=Nr("animationiteration"),Pg=Nr("animationstart"),TS=Nr("transitionrun"),SS=Nr("transitionstart"),AS=Nr("transitioncancel"),Ug=Nr("transitionend"),jg=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function ti(t,n){jg.set(t,n),vi(n,[t])}var xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],va=0,Xh=0;function Vu(){for(var t=va,n=Xh=va=0;n<t;){var a=Vn[n];Vn[n++]=null;var o=Vn[n];Vn[n++]=null;var h=Vn[n];Vn[n++]=null;var f=Vn[n];if(Vn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&zg(a,h,f)}}function Mu(t,n,a,o){Vn[va++]=t,Vn[va++]=n,Vn[va++]=a,Vn[va++]=o,Xh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function $h(t,n,a,o){return Mu(t,n,a,o),ku(t)}function Dr(t,n){return Mu(t,null,null,n),ku(t)}function zg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-yt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function ku(t){if(50<fl)throw fl=0,ad=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ea={};function bS(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,n,a,o){return new bS(t,n,a,o)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,n){var a=t.alternate;return a===null?(a=Sn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lu(t,n,a,o,h,f){var y=0;if(o=t,typeof t=="function")Jh(t)&&(y=1);else if(typeof t=="string")y=NA(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=Sn(31,a,n,h),t.elementType=D,t.lanes=f,t;case B:return Or(a.children,h,f,n);case W:y=8,h|=24;break;case ne:return t=Sn(12,a,n,h|2),t.elementType=ne,t.lanes=f,t;case Ne:return t=Sn(13,a,n,h),t.elementType=Ne,t.lanes=f,t;case oe:return t=Sn(19,a,n,h),t.elementType=oe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:y=10;break e;case ce:y=9;break e;case Oe:y=11;break e;case R:y=14;break e;case w:y=16,o=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Sn(y,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Or(t,n,a,o){return t=Sn(7,t,o,n),t.lanes=a,t}function Wh(t,n,a){return t=Sn(6,t,null,n),t.lanes=a,t}function qg(t){var n=Sn(18,null,null,0);return n.stateNode=t,n}function Zh(t,n,a){return n=Sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Hg=new WeakMap;function Mn(t,n){if(typeof t=="object"&&t!==null){var a=Hg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:To(n)},Hg.set(t,n),n)}return{value:t,source:n,stack:To(n)}}var Ta=[],Sa=0,Pu=null,Go=0,kn=[],Ln=0,Cs=null,Ci=1,Ni="";function Gi(t,n){Ta[Sa++]=Go,Ta[Sa++]=Pu,Pu=t,Go=n}function Fg(t,n,a){kn[Ln++]=Ci,kn[Ln++]=Ni,kn[Ln++]=Cs,Cs=t;var o=Ci;t=Ni;var h=32-yt(o)-1;o&=~(1<<h),a+=1;var f=32-yt(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ci=1<<32-yt(n)+h|a<<h|o,Ni=f+t}else Ci=1<<f|a<<h|o,Ni=t}function ef(t){t.return!==null&&(Gi(t,1),Fg(t,1,0))}function tf(t){for(;t===Pu;)Pu=Ta[--Sa],Ta[Sa]=null,Go=Ta[--Sa],Ta[Sa]=null;for(;t===Cs;)Cs=kn[--Ln],kn[Ln]=null,Ni=kn[--Ln],kn[Ln]=null,Ci=kn[--Ln],kn[Ln]=null}function Gg(t,n){kn[Ln++]=Ci,kn[Ln++]=Ni,kn[Ln++]=Cs,Ci=n.id,Ni=n.overflow,Cs=t}var Gt=null,ot=null,ze=!1,Ns=null,Pn=!1,nf=Error(r(519));function Ds(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(Mn(n,t)),nf}function Yg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[bt]=t,n[jt]=o,a){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(a=0;a<ml.length;a++)Ve(ml[a],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),pu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),Ts(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||u_(n.textContent,a)?(o.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),o.onScroll!=null&&Ve("scroll",n),o.onScrollEnd!=null&&Ve("scrollend",n),o.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||Ds(t,!0)}function Kg(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Gt=Gt.return}}function Aa(t){if(t!==Gt)return!1;if(!ze)return Kg(t),ze=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Td(t.type,t.memoizedProps)),a=!a),a&&ot&&Ds(t),Kg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=__(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=__(t)}else n===27?(n=ot,Fs(t.type)?(t=Rd,Rd=null,ot=t):ot=n):ot=Gt?jn(t.stateNode.nextSibling):null;return!0}function xr(){ot=Gt=null,ze=!1}function sf(){var t=Ns;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Ns=null),t}function Yo(t){Ns===null?Ns=[t]:Ns.push(t)}var rf=V(null),Vr=null,Yi=null;function Os(t,n,a){re(rf,n._currentValue),n._currentValue=a}function Ki(t){t._currentValue=rf.current,X(rf)}function af(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function of(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var N=0;N<n.length;N++)if(T.context===n[N]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),af(f.return,a,t),o||(y=null);break e}f=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),af(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ba(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;Tn(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===ee.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(vl):t=[vl])}h=h.return}t!==null&&of(n,t,a,o),n.flags|=262144}function Uu(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mr(t){Vr=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Qg(Vr,t)}function ju(t,n){return Vr===null&&Mr(t),Qg(t,n)}function Qg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Yi===null){if(t===null)throw Error(r(308));Yi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Yi=Yi.next=n;return a}var wS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},RS=s.unstable_scheduleCallback,IS=s.unstable_NormalPriority,It={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new wS,data:new Map,refCount:0}}function Ko(t){t.refCount--,t.refCount===0&&RS(IS,function(){t.controller.abort()})}var Qo=null,uf=0,wa=0,Ra=null;function CS(t,n){if(Qo===null){var a=Qo=[];uf=0,wa=fd(),Ra={status:"pending",value:void 0,then:function(o){a.push(o)}}}return uf++,n.then(Xg,Xg),n}function Xg(){if(--uf===0&&Qo!==null){Ra!==null&&(Ra.status="fulfilled");var t=Qo;Qo=null,wa=0,Ra=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function NS(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var $g=G.S;G.S=function(t,n){Vy=an(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&CS(t,n),$g!==null&&$g(t,n)};var kr=V(null);function cf(){var t=kr.current;return t!==null?t:it.pooledCache}function zu(t,n){n===null?re(kr,kr.current):re(kr,n.pool)}function Jg(){var t=cf();return t===null?null:{parent:It._currentValue,pool:t}}var Ia=Error(r(460)),hf=Error(r(474)),Bu=Error(r(542)),qu={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then($n,$n),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tp(t),t;default:if(typeof n.status=="string")n.then($n,$n);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tp(t),t}throw Pr=n,Ia}}function Lr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Pr=a,Ia):a}}var Pr=null;function ep(){if(Pr===null)throw Error(r(459));var t=Pr;return Pr=null,t}function tp(t){if(t===Ia||t===Bu)throw Error(r(483))}var Ca=null,Xo=0;function Hu(t){var n=Xo;return Xo+=1,Ca===null&&(Ca=[]),Zg(Ca,t,n)}function $o(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fu(t,n){throw n.$$typeof===I?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function np(t){function n(k,O){if(t){var j=k.deletions;j===null?(k.deletions=[O],k.flags|=16):j.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Fi(k,O),k.index=0,k.sibling=null,k}function f(k,O,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<O?(k.flags|=67108866,O):j):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function y(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,j,Q){return O===null||O.tag!==6?(O=Wh(j,k.mode,Q),O.return=k,O):(O=h(O,j),O.return=k,O)}function N(k,O,j,Q){var ge=j.type;return ge===B?K(k,O,j.props.children,Q,j.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Lr(ge)===O.type)?(O=h(O,j.props),$o(O,j),O.return=k,O):(O=Lu(j.type,j.key,j.props,null,k.mode,Q),$o(O,j),O.return=k,O)}function z(k,O,j,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Zh(j,k.mode,Q),O.return=k,O):(O=h(O,j.children||[]),O.return=k,O)}function K(k,O,j,Q,ge){return O===null||O.tag!==7?(O=Or(j,k.mode,Q,ge),O.return=k,O):(O=h(O,j),O.return=k,O)}function J(k,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Wh(""+O,k.mode,j),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return j=Lu(O.type,O.key,O.props,null,k.mode,j),$o(j,O),j.return=k,j;case Y:return O=Zh(O,k.mode,j),O.return=k,O;case w:return O=Lr(O),J(k,O,j)}if(gt(O)||L(O))return O=Or(O,k.mode,j,null),O.return=k,O;if(typeof O.then=="function")return J(k,Hu(O),j);if(O.$$typeof===fe)return J(k,ju(k,O),j);Fu(k,O)}return null}function q(k,O,j,Q){var ge=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ge!==null?null:T(k,O,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case P:return j.key===ge?N(k,O,j,Q):null;case Y:return j.key===ge?z(k,O,j,Q):null;case w:return j=Lr(j),q(k,O,j,Q)}if(gt(j)||L(j))return ge!==null?null:K(k,O,j,Q,null);if(typeof j.then=="function")return q(k,O,Hu(j),Q);if(j.$$typeof===fe)return q(k,O,ju(k,j),Q);Fu(k,j)}return null}function F(k,O,j,Q,ge){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(j)||null,T(O,k,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return k=k.get(Q.key===null?j:Q.key)||null,N(O,k,Q,ge);case Y:return k=k.get(Q.key===null?j:Q.key)||null,z(O,k,Q,ge);case w:return Q=Lr(Q),F(k,O,j,Q,ge)}if(gt(Q)||L(Q))return k=k.get(j)||null,K(O,k,Q,ge,null);if(typeof Q.then=="function")return F(k,O,j,Hu(Q),ge);if(Q.$$typeof===fe)return F(k,O,j,ju(O,Q),ge);Fu(O,Q)}return null}function he(k,O,j,Q){for(var ge=null,He=null,de=O,De=O=0,Le=null;de!==null&&De<j.length;De++){de.index>De?(Le=de,de=null):Le=de.sibling;var Fe=q(k,de,j[De],Q);if(Fe===null){de===null&&(de=Le);break}t&&de&&Fe.alternate===null&&n(k,de),O=f(Fe,O,De),He===null?ge=Fe:He.sibling=Fe,He=Fe,de=Le}if(De===j.length)return a(k,de),ze&&Gi(k,De),ge;if(de===null){for(;De<j.length;De++)de=J(k,j[De],Q),de!==null&&(O=f(de,O,De),He===null?ge=de:He.sibling=de,He=de);return ze&&Gi(k,De),ge}for(de=o(de);De<j.length;De++)Le=F(de,k,De,j[De],Q),Le!==null&&(t&&Le.alternate!==null&&de.delete(Le.key===null?De:Le.key),O=f(Le,O,De),He===null?ge=Le:He.sibling=Le,He=Le);return t&&de.forEach(function(Xs){return n(k,Xs)}),ze&&Gi(k,De),ge}function _e(k,O,j,Q){if(j==null)throw Error(r(151));for(var ge=null,He=null,de=O,De=O=0,Le=null,Fe=j.next();de!==null&&!Fe.done;De++,Fe=j.next()){de.index>De?(Le=de,de=null):Le=de.sibling;var Xs=q(k,de,Fe.value,Q);if(Xs===null){de===null&&(de=Le);break}t&&de&&Xs.alternate===null&&n(k,de),O=f(Xs,O,De),He===null?ge=Xs:He.sibling=Xs,He=Xs,de=Le}if(Fe.done)return a(k,de),ze&&Gi(k,De),ge;if(de===null){for(;!Fe.done;De++,Fe=j.next())Fe=J(k,Fe.value,Q),Fe!==null&&(O=f(Fe,O,De),He===null?ge=Fe:He.sibling=Fe,He=Fe);return ze&&Gi(k,De),ge}for(de=o(de);!Fe.done;De++,Fe=j.next())Fe=F(de,k,De,Fe.value,Q),Fe!==null&&(t&&Fe.alternate!==null&&de.delete(Fe.key===null?De:Fe.key),O=f(Fe,O,De),He===null?ge=Fe:He.sibling=Fe,He=Fe);return t&&de.forEach(function(zA){return n(k,zA)}),ze&&Gi(k,De),ge}function tt(k,O,j,Q){if(typeof j=="object"&&j!==null&&j.type===B&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case P:e:{for(var ge=j.key;O!==null;){if(O.key===ge){if(ge=j.type,ge===B){if(O.tag===7){a(k,O.sibling),Q=h(O,j.props.children),Q.return=k,k=Q;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Lr(ge)===O.type){a(k,O.sibling),Q=h(O,j.props),$o(Q,j),Q.return=k,k=Q;break e}a(k,O);break}else n(k,O);O=O.sibling}j.type===B?(Q=Or(j.props.children,k.mode,Q,j.key),Q.return=k,k=Q):(Q=Lu(j.type,j.key,j.props,null,k.mode,Q),$o(Q,j),Q.return=k,k=Q)}return y(k);case Y:e:{for(ge=j.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(k,O.sibling),Q=h(O,j.children||[]),Q.return=k,k=Q;break e}else{a(k,O);break}else n(k,O);O=O.sibling}Q=Zh(j,k.mode,Q),Q.return=k,k=Q}return y(k);case w:return j=Lr(j),tt(k,O,j,Q)}if(gt(j))return he(k,O,j,Q);if(L(j)){if(ge=L(j),typeof ge!="function")throw Error(r(150));return j=ge.call(j),_e(k,O,j,Q)}if(typeof j.then=="function")return tt(k,O,Hu(j),Q);if(j.$$typeof===fe)return tt(k,O,ju(k,j),Q);Fu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(k,O.sibling),Q=h(O,j),Q.return=k,k=Q):(a(k,O),Q=Wh(j,k.mode,Q),Q.return=k,k=Q),y(k)):a(k,O)}return function(k,O,j,Q){try{Xo=0;var ge=tt(k,O,j,Q);return Ca=null,ge}catch(de){if(de===Ia||de===Bu)throw de;var He=Sn(29,de,null,k.mode);return He.lanes=Q,He.return=k,He}}}var Ur=np(!0),ip=np(!1),xs=!1;function ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ke&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ku(t),zg(t,null,a),n}return Mu(t,o,n,a),ku(t)}function Jo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,bo(t,a)}}function mf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var gf=!1;function Wo(){if(gf){var t=Ra;if(t!==null)throw t}}function Zo(t,n,a,o){gf=!1;var h=t.updateQueue;xs=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,z=N.next;N.next=null,y===null?f=z:y.next=z,y=N;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==y&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=N))}if(f!==null){var J=h.baseState;y=0,K=z=N=null,T=f;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(ke&q)===q:(o&q)===q){q!==0&&q===wa&&(gf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,_e=T;q=n;var tt=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){J=he.call(tt,J,q);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,q=typeof he=="function"?he.call(tt,J,q):he,q==null)break e;J=b({},J,q);break e;case 2:xs=!0}}q=T.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=F,N=J):K=K.next=F,y|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(N=J),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),js|=y,t.lanes=y,t.memoizedState=J}}function sp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function rp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sp(a[t],n)}var Na=V(null),Gu=V(0);function ap(t,n){t=ns,re(Gu,t),re(Na,n),ns=t|n.baseLanes}function pf(){re(Gu,ns),re(Na,Na.current)}function yf(){ns=Gu.current,X(Na),X(Gu)}var An=V(null),Un=null;function ks(t){var n=t.alternate;re(vt,vt.current&1),re(An,t),Un===null&&(n===null||Na.current!==null||n.memoizedState!==null)&&(Un=t)}function _f(t){re(vt,vt.current),re(An,t),Un===null&&(Un=t)}function op(t){t.tag===22?(re(vt,vt.current),re(An,t),Un===null&&(Un=t)):Ls()}function Ls(){re(vt,vt.current),re(An,An.current)}function bn(t){X(An),Un===t&&(Un=null),X(vt)}var vt=V(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bd(a)||wd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,Ce=null,Ze=null,Ct=null,Ku=!1,Da=!1,jr=!1,Qu=0,el=0,Oa=null,DS=0;function ft(){throw Error(r(321))}function vf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Tn(t[a],n[a]))return!1;return!0}function Ef(t,n,a,o,h,f){return Qi=f,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Fp:kf,jr=!1,f=a(o,h),jr=!1,Da&&(f=up(n,a,o,h)),lp(t),f}function lp(t){G.H=il;var n=Ze!==null&&Ze.next!==null;if(Qi=0,Ct=Ze=Ce=null,Ku=!1,el=0,Oa=null,n)throw Error(r(300));t===null||Nt||(t=t.dependencies,t!==null&&Uu(t)&&(Nt=!0))}function up(t,n,a,o){Ce=t;var h=0;do{if(Da&&(Oa=null),el=0,Da=!1,25<=h)throw Error(r(301));if(h+=1,Ct=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Gp,f=n(a,o)}while(Da);return f}function OS(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?tl(n):n,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ce.flags|=1024),n}function Tf(){var t=Qu!==0;return Qu=0,t}function Sf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Af(t){if(Ku){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ku=!1}Qi=0,Ct=Ze=Ce=null,Da=!1,el=Qu=0,Oa=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ce.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Et(){if(Ze===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var n=Ct===null?Ce.memoizedState:Ct.next;if(n!==null)Ct=n,Ze=t;else{if(t===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ct===null?Ce.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(t){var n=el;return el+=1,Oa===null&&(Oa=[]),t=Zg(Oa,t,n),n=Ce,(Ct===null?n.memoizedState:Ct.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Fp:kf),t}function $u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===fe)return Yt(t)}throw Error(r(438,String(t)))}function bf(t){var n=null,a=Ce.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Xu(),Ce.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=M;return n.index++,a}function Xi(t,n){return typeof n=="function"?n(t):n}function Ju(t){var n=Et();return wf(n,Ze,t)}function wf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=y=null,N=null,z=n,K=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(ke&J)===J:(Qi&J)===J){var q=z.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===wa&&(K=!0);else if((Qi&q)===q){z=z.next,q===wa&&(K=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(T=N=J,y=f):N=N.next=J,Ce.lanes|=q,js|=q;J=z.action,jr&&a(f,J),f=z.hasEagerState?z.eagerState:a(f,J)}else q={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(T=N=q,y=f):N=N.next=q,Ce.lanes|=J,js|=J;z=z.next}while(z!==null&&z!==n);if(N===null?y=f:N.next=T,!Tn(f,t.memoizedState)&&(Nt=!0,K&&(a=Ra,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Rf(t){var n=Et(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);Tn(f,n.memoizedState)||(Nt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function cp(t,n,a){var o=Ce,h=Et(),f=ze;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!Tn((Ze||h).memoizedState,a);if(y&&(h.memoizedState=a,Nt=!0),h=h.queue,Nf(dp.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||Ct!==null&&Ct.memoizedState.tag&1){if(o.flags|=2048,xa(9,{destroy:void 0},fp.bind(null,o,h,a,n),null),it===null)throw Error(r(349));f||(Qi&127)!==0||hp(o,n,a)}return a}function hp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ce.updateQueue,n===null?(n=Xu(),Ce.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function fp(t,n,a,o){n.value=a,n.getSnapshot=o,mp(n)&&gp(t)}function dp(t,n,a){return a(function(){mp(n)&&gp(t)})}function mp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Tn(t,a)}catch{return!0}}function gp(t){var n=Dr(t,2);n!==null&&pn(n,t,2)}function If(t){var n=ln();if(typeof t=="function"){var a=t;if(t=a(),jr){Cn(!0);try{a()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:t},n}function pp(t,n,a,o){return t.baseState=a,wf(t,Ze,typeof o=="function"?o:Xi)}function xS(t,n,a,o,h){if(ec(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,yp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function yp(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var T=a(h,o),N=G.S;N!==null&&N(y,T),_p(t,n,T)}catch(z){Cf(t,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),G.T=f}}else try{f=a(h,o),_p(t,n,f)}catch(z){Cf(t,n,z)}}function _p(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){vp(t,n,o)},function(o){return Cf(t,n,o)}):vp(t,n,a)}function vp(t,n,a){n.status="fulfilled",n.value=a,Ep(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,yp(t,a)))}function Cf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Ep(n),n=n.next;while(n!==o)}t.action=null}function Ep(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Tp(t,n){return n}function Sp(t,n){if(ze){var a=it.formState;if(a!==null){e:{var o=Ce;if(ze){if(ot){t:{for(var h=ot,f=Pn;h.nodeType!==8;){if(!f){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ot=jn(h.nextSibling),o=h.data==="F!";break e}}Ds(o)}o=!1}o&&(n=a[0])}}return a=ln(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:n},a.queue=o,a=Bp.bind(null,Ce,o),o.dispatch=a,o=If(!1),f=Mf.bind(null,Ce,!1,o.queue),o=ln(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=xS.bind(null,Ce,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Ap(t){var n=Et();return bp(n,Ze,t)}function bp(t,n,a){if(n=wf(t,n,Tp)[0],t=Ju(Xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=tl(n)}catch(y){throw y===Ia?Bu:y}else o=n;n=Et();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ce.flags|=2048,xa(9,{destroy:void 0},VS.bind(null,h,a),null)),[o,f,t]}function VS(t,n){t.action=n}function wp(t){var n=Et(),a=Ze;if(a!==null)return bp(n,a,t);Et(),n=n.memoizedState,a=Et();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function xa(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Ce.updateQueue,n===null&&(n=Xu(),Ce.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Rp(){return Et().memoizedState}function Wu(t,n,a,o){var h=ln();Ce.flags|=t,h.memoizedState=xa(1|n,{destroy:void 0},a,o===void 0?null:o)}function Zu(t,n,a,o){var h=Et();o=o===void 0?null:o;var f=h.memoizedState.inst;Ze!==null&&o!==null&&vf(o,Ze.memoizedState.deps)?h.memoizedState=xa(n,f,a,o):(Ce.flags|=t,h.memoizedState=xa(1|n,f,a,o))}function Ip(t,n){Wu(8390656,8,t,n)}function Nf(t,n){Zu(2048,8,t,n)}function MS(t){Ce.flags|=4;var n=Ce.updateQueue;if(n===null)n=Xu(),Ce.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Cp(t){var n=Et().memoizedState;return MS({ref:n,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Np(t,n){return Zu(4,2,t,n)}function Dp(t,n){return Zu(4,4,t,n)}function Op(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xp(t,n,a){a=a!=null?a.concat([t]):null,Zu(4,4,Op.bind(null,n,t),a)}function Df(){}function Vp(t,n){var a=Et();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&vf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Mp(t,n){var a=Et();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&vf(n,o[1]))return o[0];if(o=t(),jr){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[o,n],o}function Of(t,n,a){return a===void 0||(Qi&1073741824)!==0&&(ke&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=ky(),Ce.lanes|=t,js|=t,a)}function kp(t,n,a,o){return Tn(a,n)?a:Na.current!==null?(t=Of(t,a,o),Tn(t,n)||(Nt=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(ke&261930)===0?(Nt=!0,t.memoizedState=a):(t=ky(),Ce.lanes|=t,js|=t,n)}function Lp(t,n,a,o,h){var f=se.p;se.p=f!==0&&8>f?f:8;var y=G.T,T={};G.T=T,Mf(t,!1,n,a);try{var N=h(),z=G.S;if(z!==null&&z(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=NS(N,o);nl(t,n,K,In(t))}else nl(t,n,o,In(t))}catch(J){nl(t,n,{then:function(){},status:"rejected",reason:J},In())}finally{se.p=f,y!==null&&T.types!==null&&(y.types=T.types),G.T=y}}function kS(){}function xf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Pp(t).queue;Lp(t,h,n,me,a===null?kS:function(){return Up(t),a(o)})}function Pp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:me},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Up(t){var n=Pp(t);n.next===null&&(n=t.alternate.memoizedState),nl(t,n.next.queue,{},In())}function Vf(){return Yt(vl)}function jp(){return Et().memoizedState}function zp(){return Et().memoizedState}function LS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=In();t=Vs(a);var o=Ms(n,t,a);o!==null&&(pn(o,n,a),Jo(o,n,a)),n={cache:lf()},t.payload=n;return}n=n.return}}function PS(t,n,a){var o=In();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ec(t)?qp(n,a):(a=$h(t,n,a,o),a!==null&&(pn(a,t,o),Hp(a,n,o)))}function Bp(t,n,a){var o=In();nl(t,n,a,o)}function nl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ec(t))qp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,a);if(h.hasEagerState=!0,h.eagerState=T,Tn(T,y))return Mu(t,n,h,0),it===null&&Vu(),!1}catch{}if(a=$h(t,n,h,o),a!==null)return pn(a,t,o),Hp(a,n,o),!0}return!1}function Mf(t,n,a,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(n)throw Error(r(479))}else n=$h(t,a,o,2),n!==null&&pn(n,t,2)}function ec(t){var n=t.alternate;return t===Ce||n!==null&&n===Ce}function qp(t,n){Da=Ku=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Hp(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,bo(t,a)}}var il={readContext:Yt,use:$u,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};il.useEffectEvent=ft;var Fp={readContext:Yt,use:$u,useCallback:function(t,n){return ln().memoizedState=[t,n===void 0?null:n],t},useContext:Yt,useEffect:Ip,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Wu(4194308,4,Op.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Wu(4194308,4,t,n)},useInsertionEffect:function(t,n){Wu(4,2,t,n)},useMemo:function(t,n){var a=ln();n=n===void 0?null:n;var o=t();if(jr){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=ln();if(a!==void 0){var h=a(n);if(jr){Cn(!0);try{a(n)}finally{Cn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=PS.bind(null,Ce,t),[o.memoizedState,t]},useRef:function(t){var n=ln();return t={current:t},n.memoizedState=t},useState:function(t){t=If(t);var n=t.queue,a=Bp.bind(null,Ce,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(t,n){var a=ln();return Of(a,t,n)},useTransition:function(){var t=If(!1);return t=Lp.bind(null,Ce,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Ce,h=ln();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),it===null)throw Error(r(349));(ke&127)!==0||hp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ip(dp.bind(null,o,f,t),[t]),o.flags|=2048,xa(9,{destroy:void 0},fp.bind(null,o,f,a,n),null),a},useId:function(){var t=ln(),n=it.identifierPrefix;if(ze){var a=Ni,o=Ci;a=(o&~(1<<32-yt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Qu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=DS++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:Sp,useActionState:Sp,useOptimistic:function(t){var n=ln();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Mf.bind(null,Ce,!0,a),a.dispatch=n,[t,n]},useMemoCache:bf,useCacheRefresh:function(){return ln().memoizedState=LS.bind(null,Ce)},useEffectEvent:function(t){var n=ln(),a={impl:t};return n.memoizedState=a,function(){if((Ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},kf={readContext:Yt,use:$u,useCallback:Vp,useContext:Yt,useEffect:Nf,useImperativeHandle:xp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:Mp,useReducer:Ju,useRef:Rp,useState:function(){return Ju(Xi)},useDebugValue:Df,useDeferredValue:function(t,n){var a=Et();return kp(a,Ze.memoizedState,t,n)},useTransition:function(){var t=Ju(Xi)[0],n=Et().memoizedState;return[typeof t=="boolean"?t:tl(t),n]},useSyncExternalStore:cp,useId:jp,useHostTransitionStatus:Vf,useFormState:Ap,useActionState:Ap,useOptimistic:function(t,n){var a=Et();return pp(a,Ze,t,n)},useMemoCache:bf,useCacheRefresh:zp};kf.useEffectEvent=Cp;var Gp={readContext:Yt,use:$u,useCallback:Vp,useContext:Yt,useEffect:Nf,useImperativeHandle:xp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:Mp,useReducer:Rf,useRef:Rp,useState:function(){return Rf(Xi)},useDebugValue:Df,useDeferredValue:function(t,n){var a=Et();return Ze===null?Of(a,t,n):kp(a,Ze.memoizedState,t,n)},useTransition:function(){var t=Rf(Xi)[0],n=Et().memoizedState;return[typeof t=="boolean"?t:tl(t),n]},useSyncExternalStore:cp,useId:jp,useHostTransitionStatus:Vf,useFormState:wp,useActionState:wp,useOptimistic:function(t,n){var a=Et();return Ze!==null?pp(a,Ze,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:zp};Gp.useEffectEvent=Cp;function Lf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=In(),h=Vs(o);h.payload=n,a!=null&&(h.callback=a),n=Ms(t,h,o),n!==null&&(pn(n,t,o),Jo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=In(),h=Vs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ms(t,h,o),n!==null&&(pn(n,t,o),Jo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=In(),o=Vs(a);o.tag=2,n!=null&&(o.callback=n),n=Ms(t,o,a),n!==null&&(pn(n,t,a),Jo(n,t,a))}};function Yp(t,n,a,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ho(a,o)||!Ho(h,f):!0}function Kp(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Pf.enqueueReplaceState(n,n.state,null)}function zr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Qp(t){xu(t)}function Xp(t){console.error(t)}function $p(t){xu(t)}function tc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Jp(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(t,n,a){return a=Vs(a),a.tag=3,a.payload={element:null},a.callback=function(){tc(t,n)},a}function Wp(t){return t=Vs(t),t.tag=3,t}function Zp(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Jp(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Jp(n,a,o),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function US(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ba(n,a,h,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?dc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===qu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ud(t,o,h)),!1;case 22:return a.flags|=65536,o===qu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ud(t,o,h)),!1}throw Error(r(435,a.tag))}return ud(t,o,h),dc(),!1}if(ze)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==nf&&(t=Error(r(422),{cause:o}),Yo(Mn(t,a)))):(o!==nf&&(n=Error(r(423),{cause:o}),Yo(Mn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Mn(o,a),h=Uf(t.stateNode,o,h),mf(t,h),dt!==4&&(dt=2)),!1;var f=Error(r(520),{cause:o});if(f=Mn(f,a),hl===null?hl=[f]:hl.push(f),dt!==4&&(dt=2),n===null)return!0;o=Mn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Uf(a.stateNode,o,t),mf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zs===null||!zs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Wp(h),Zp(h,t,a,o),mf(a,h),!1}a=a.return}while(a!==null);return!1}var jf=Error(r(461)),Nt=!1;function Kt(t,n,a,o){n.child=t===null?ip(n,null,a,o):Ur(n,t.child,a,o)}function ey(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var T in o)T!=="ref"&&(y[T]=o[T])}else y=o;return Mr(n),o=Ef(t,n,a,y,f,h),T=Tf(),t!==null&&!Nt?(Sf(t,n,h),$i(t,n,h)):(ze&&T&&ef(n),n.flags|=1,Kt(t,n,o,h),n.child)}function ty(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ny(t,n,f,o,h)):(t=Lu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Kf(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(y,o)&&t.ref===n.ref)return $i(t,n,h)}return n.flags|=1,t=Fi(f,o),t.ref=n.ref,t.return=n,n.child=t}function ny(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Ho(f,o)&&t.ref===n.ref)if(Nt=!1,n.pendingProps=o=f,Kf(t,h))(t.flags&131072)!==0&&(Nt=!0);else return n.lanes=t.lanes,$i(t,n,h)}return zf(t,n,a,o,h)}function iy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return sy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,f!==null?f.cachePool:null),f!==null?ap(n,f):pf(),op(n);else return o=n.lanes=536870912,sy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(zu(n,f.cachePool),ap(n,f),Ls(),n.memoizedState=null):(t!==null&&zu(n,null),pf(),Ls());return Kt(t,n,h,a),n.child}function sl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sy(t,n,a,o,h){var f=cf();return f=f===null?null:{parent:It._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&zu(n,null),pf(),op(n),t!==null&&ba(t,n,o,!0),n.childLanes=h,null}function nc(t,n){return n=sc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ry(t,n,a){return Ur(n,t.child,null,a),t=nc(n,n.pendingProps),t.flags|=2,bn(n),n.memoizedState=null,t}function jS(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=nc(n,o),n.lanes=536870912,sl(null,t);if(_f(n),(t=ot)?(t=y_(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Cs!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=n,n.child=a,Gt=n,ot=null)):t=null,t===null)throw Ds(n);return n.lanes=536870912,null}return nc(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(_f(n),h)if(n.flags&256)n.flags&=-257,n=ry(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Nt||ba(t,n,a,!1),h=(a&t.childLanes)!==0,Nt||h){if(o=it,o!==null&&(y=wo(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Dr(t,y),pn(o,t,y),jf;dc(),n=ry(t,n,a)}else t=f.treeContext,ot=jn(y.nextSibling),Gt=n,ze=!0,Ns=null,Pn=!1,t!==null&&Gg(n,t),n=nc(n,o),n.flags|=4096;return n}return t=Fi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ic(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function zf(t,n,a,o,h){return Mr(n),a=Ef(t,n,a,o,void 0,h),o=Tf(),t!==null&&!Nt?(Sf(t,n,h),$i(t,n,h)):(ze&&o&&ef(n),n.flags|=1,Kt(t,n,a,h),n.child)}function ay(t,n,a,o,h,f){return Mr(n),n.updateQueue=null,a=up(n,o,a,h),lp(t),o=Tf(),t!==null&&!Nt?(Sf(t,n,f),$i(t,n,f)):(ze&&o&&ef(n),n.flags|=1,Kt(t,n,a,f),n.child)}function oy(t,n,a,o,h){if(Mr(n),n.stateNode===null){var f=Ea,y=a.contextType;typeof y=="object"&&y!==null&&(f=Yt(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ff(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Yt(y):Ea,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Lf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Pf.enqueueReplaceState(f,f.state,null),Zo(n,o,f,h),Wo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,N=zr(a,T);f.props=N;var z=f.context,K=a.contextType;y=Ea,typeof K=="object"&&K!==null&&(y=Yt(K));var J=a.getDerivedStateFromProps;K=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==y)&&Kp(n,f,o,y),xs=!1;var q=n.memoizedState;f.state=q,Zo(n,o,f,h),Wo(),z=n.memoizedState,T||q!==z||xs?(typeof J=="function"&&(Lf(n,a,J,o),z=n.memoizedState),(N=xs||Yp(n,a,N,o,q,z,y))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,df(t,n),y=n.memoizedProps,K=zr(a,y),f.props=K,J=n.pendingProps,q=f.context,z=a.contextType,N=Ea,typeof z=="object"&&z!==null&&(N=Yt(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==J||q!==N)&&Kp(n,f,o,N),xs=!1,q=n.memoizedState,f.state=q,Zo(n,o,f,h),Wo();var F=n.memoizedState;y!==J||q!==F||xs||t!==null&&t.dependencies!==null&&Uu(t.dependencies)?(typeof T=="function"&&(Lf(n,a,T,o),F=n.memoizedState),(K=xs||Yp(n,a,K,o,q,F,N)||t!==null&&t.dependencies!==null&&Uu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=N,o=K):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ic(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Ur(n,t.child,null,h),n.child=Ur(n,null,a,h)):Kt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=$i(t,n,h),t}function ly(t,n,a,o){return xr(),n.flags|=256,Kt(t,n,a,o),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(t){return{baseLanes:t,cachePool:Jg()}}function Hf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Rn),t}function uy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?ks(n):Ls(),(t=ot)?(t=y_(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Cs!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=n,n.child=a,Gt=n,ot=null)):t=null,t===null)throw Ds(n);return wd(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Ls(),h=n.mode,T=sc({mode:"hidden",children:T},h),o=Or(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(t,y,a),n.memoizedState=Bf,sl(null,o)):(ks(n),Ff(n,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(f)n.flags&256?(ks(n),n.flags&=-257,n=Gf(t,n,a)):n.memoizedState!==null?(Ls(),n.child=t.child,n.flags|=128,n=null):(Ls(),T=o.fallback,h=n.mode,o=sc({mode:"visible",children:o.children},h),T=Or(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Ur(n,t.child,null,a),o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(t,y,a),n.memoizedState=Bf,n=sl(null,o));else if(ks(n),wd(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(r(419)),o.stack="",o.digest=y,Yo({value:o,source:null,stack:null}),n=Gf(t,n,a)}else if(Nt||ba(t,n,a,!1),y=(a&t.childLanes)!==0,Nt||y){if(y=it,y!==null&&(o=wo(y,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,Dr(t,o),pn(y,t,o),jf;bd(T)||dc(),n=Gf(t,n,a)}else bd(T)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ot=jn(T.nextSibling),Gt=n,ze=!0,Ns=null,Pn=!1,t!==null&&Gg(n,t),n=Ff(n,o.children),n.flags|=4096);return n}return h?(Ls(),T=o.fallback,h=n.mode,N=t.child,z=N.sibling,o=Fi(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,z!==null?T=Fi(z,T):(T=Or(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,sl(null,o),o=n.child,T=t.child.memoizedState,T===null?T=qf(a):(h=T.cachePool,h!==null?(N=It._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Jg(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Hf(t,y,a),n.memoizedState=Bf,sl(t.child,o)):(ks(n),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Ff(t,n){return n=sc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sc(t,n){return t=Sn(22,t,null,n),t.lanes=0,t}function Gf(t,n,a){return Ur(n,t.child,null,a),t=Ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),af(t.return,n,a)}function Yf(t,n,a,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function hy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=vt.current,T=(y&2)!==0;if(T?(y=y&1|2,n.flags|=128):y&=1,re(vt,y),Kt(t,n,o,a),o=ze?Go:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,a,n);else if(t.tag===19)cy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Yu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Yf(n,!0,a,null,f,o);break;case"together":Yf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function $i(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),js|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ba(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Fi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Uu(t)))}function zS(t,n,a){switch(n.tag){case 3:ie(n,n.stateNode.containerInfo),Os(n,It,t.memoizedState.cache),xr();break;case 27:case 5:qe(n);break;case 4:ie(n,n.stateNode.containerInfo);break;case 10:Os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_f(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ks(n),n.flags|=128,null):(a&n.child.childLanes)!==0?uy(t,n,a):(ks(n),t=$i(t,n,a),t!==null?t.sibling:null);ks(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ba(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return hy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(vt,vt.current),o)break;return null;case 22:return n.lanes=0,iy(t,n,a,n.pendingProps);case 24:Os(n,It,t.memoizedState.cache)}return $i(t,n,a)}function fy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Nt=!0;else{if(!Kf(t,a)&&(n.flags&128)===0)return Nt=!1,zS(t,n,a);Nt=(t.flags&131072)!==0}else Nt=!1,ze&&(n.flags&1048576)!==0&&Fg(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Lr(n.elementType),n.type=t,typeof t=="function")Jh(t)?(o=zr(t,o),n.tag=1,n=oy(null,n,t,o,a)):(n.tag=0,n=zf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Oe){n.tag=11,n=ey(null,n,t,o,a);break e}else if(h===R){n.tag=14,n=ty(null,n,t,o,a);break e}}throw n=rt(t)||t,Error(r(306,n,""))}}return n;case 0:return zf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=zr(o,n.pendingProps),oy(t,n,o,h,a);case 3:e:{if(ie(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,df(t,n),Zo(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Os(n,It,o),o!==f.cache&&of(n,[It],a,!0),Wo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ly(t,n,o,a);break e}else if(o!==h){h=Mn(Error(r(424)),n),Yo(h),n=ly(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ot=jn(t.firstChild),Gt=n,ze=!0,Ns=null,Pn=!0,a=ip(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(xr(),o===h){n=$i(t,n,a);break e}Kt(t,n,o,a)}n=n.child}return n;case 26:return ic(t,n),t===null?(a=A_(n.type,null,n.pendingProps,null))?n.memoizedState=a:ze||(a=n.type,t=n.pendingProps,o=Ec(Ae.current).createElement(a),o[bt]=n,o[jt]=t,Qt(o,a,t),wt(o),n.stateNode=o):n.memoizedState=A_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qe(n),t===null&&ze&&(o=n.stateNode=E_(n.type,n.pendingProps,Ae.current),Gt=n,Pn=!0,h=ot,Fs(n.type)?(Rd=h,ot=jn(o.firstChild)):ot=h),Kt(t,n,n.pendingProps.children,a),ic(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=o=ot)&&(o=pA(o,n.type,n.pendingProps,Pn),o!==null?(n.stateNode=o,Gt=n,ot=jn(o.firstChild),Pn=!1,h=!0):h=!1),h||Ds(n)),qe(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,Td(h,f)?o=null:y!==null&&Td(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(t,n,OS,null,null,a),vl._currentValue=h),ic(t,n),Kt(t,n,o,a),n.child;case 6:return t===null&&ze&&((t=a=ot)&&(a=yA(a,n.pendingProps,Pn),a!==null?(n.stateNode=a,Gt=n,ot=null,t=!0):t=!1),t||Ds(n)),null;case 13:return uy(t,n,a);case 4:return ie(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Ur(n,null,o,a):Kt(t,n,o,a),n.child;case 11:return ey(t,n,n.type,n.pendingProps,a);case 7:return Kt(t,n,n.pendingProps,a),n.child;case 8:return Kt(t,n,n.pendingProps.children,a),n.child;case 12:return Kt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Os(n,n.type,o.value),Kt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Mr(n),h=Yt(h),o=o(h),n.flags|=1,Kt(t,n,o,a),n.child;case 14:return ty(t,n,n.type,n.pendingProps,a);case 15:return ny(t,n,n.type,n.pendingProps,a);case 19:return hy(t,n,a);case 31:return jS(t,n,a);case 22:return iy(t,n,a,n.pendingProps);case 24:return Mr(n),o=Yt(It),t===null?(h=cf(),h===null&&(h=it,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},ff(n),Os(n,It,h)):((t.lanes&a)!==0&&(df(t,n),Zo(n,null,null,a),Wo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Os(n,It,o)):(o=f.cache,Os(n,It,o),o!==h.cache&&of(n,[It],a,!0))),Kt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ji(t){t.flags|=4}function Qf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(jy())t.flags|=8192;else throw Pr=qu,hf}else t.flags&=-16777217}function dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!C_(n))if(jy())t.flags|=8192;else throw Pr=qu,hf}function rc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?hu():536870912,t.lanes|=n,La|=n)}function rl(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function lt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function BS(t,n,a){var o=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(n),null;case 1:return lt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ki(It),Se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Aa(n)?Ji(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sf())),lt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Ji(n),f!==null?(lt(n),dy(n,f)):(lt(n),Qf(n,h,null,o,a))):f?f!==t.memoizedState?(Ji(n),lt(n),dy(n,f)):(lt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Ji(n),lt(n),Qf(n,h,t,o,a)),null;case 27:if(nt(n),a=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ji(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return lt(n),null}t=le.current,Aa(n)?Yg(n):(t=E_(h,o,a),n.stateNode=t,Ji(n))}return lt(n),null;case 5:if(nt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ji(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return lt(n),null}if(f=le.current,Aa(n))Yg(n);else{var y=Ec(Ae.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[bt]=n,f[jt]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Qt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ji(n)}}return lt(n),Qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ae.current,Aa(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Gt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[bt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||u_(t.nodeValue,a)),t||Ds(n,!0)}else t=Ec(t).createTextNode(o),t[bt]=n,n.stateNode=t}return lt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Aa(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[bt]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),t=!1}else a=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return lt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[bt]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),h=!1}else h=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),rc(n,n.updateQueue),lt(n),null);case 4:return Se(),t===null&&pd(n.stateNode.containerInfo),lt(n),null;case 10:return Ki(n.type),lt(n),null;case 19:if(X(vt),o=n.memoizedState,o===null)return lt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)rl(o,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,rl(o,!1),t=f.updateQueue,n.updateQueue=t,rc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Bg(a,t),a=a.sibling;return re(vt,vt.current&1|2),ze&&Gi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&an()>cc&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Yu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,rc(n,t),rl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ze)return lt(n),null}else 2*an()-o.renderingStartTime>cc&&a!==536870912&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=an(),t.sibling=null,a=vt.current,re(vt,h?a&1|2:a&1),ze&&Gi(n,o.treeForkCount),t):(lt(n),null);case 22:case 23:return bn(n),yf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(lt(n),n.subtreeFlags&6&&(n.flags|=8192)):lt(n),a=n.updateQueue,a!==null&&rc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&X(kr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ki(It),lt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function qS(t,n){switch(tf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ki(It),Se(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return nt(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(r(340));xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(bn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(vt),null;case 4:return Se(),null;case 10:return Ki(n.type),null;case 22:case 23:return bn(n),yf(),t!==null&&X(kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ki(It),null;case 25:return null;default:return null}}function my(t,n){switch(tf(n),n.tag){case 3:Ki(It),Se();break;case 26:case 27:case 5:nt(n);break;case 4:Se();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:X(vt);break;case 10:Ki(n.type);break;case 22:case 23:bn(n),yf(),t!==null&&X(kr);break;case 24:Ki(It)}}function al(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(T){Je(n,n.return,T)}}function Ps(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var N=a,z=T;try{z()}catch(K){Je(h,N,K)}}}o=o.next}while(o!==f)}}catch(K){Je(n,n.return,K)}}function gy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{rp(n,a)}catch(o){Je(t,t.return,o)}}}function py(t,n,a){a.props=zr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Je(t,n,o)}}function ol(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Je(t,n,h)}}function Di(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Je(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,n,h)}else a.current=null}function yy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function Xf(t,n,a){try{var o=t.stateNode;cA(o,t.type,a,n),o[jt]=n}catch(h){Je(t,t.return,h)}}function _y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fs(t.type)||t.tag===4}function $f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=$n));else if(o!==4&&(o===27&&Fs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Jf(t,n,a),t=t.sibling;t!==null;)Jf(t,n,a),t=t.sibling}function ac(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Fs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ac(t,n,a),t=t.sibling;t!==null;)ac(t,n,a),t=t.sibling}function vy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Qt(n,o,a),n[bt]=t,n[jt]=a}catch(f){Je(t,t.return,f)}}var Wi=!1,Dt=!1,Wf=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function HS(t,n){if(t=t.containerInfo,vd=Ic,t=xg(t),Fh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,T=-1,N=-1,z=0,K=0,J=t,q=null;t:for(;;){for(var F;J!==a||h!==0&&J.nodeType!==3||(T=y+h),J!==f||o!==0&&J.nodeType!==3||(N=y+o),J.nodeType===3&&(y+=J.nodeValue.length),(F=J.firstChild)!==null;)q=J,J=F;for(;;){if(J===t)break t;if(q===a&&++z===h&&(T=y),q===f&&++K===o&&(N=y),(F=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=F}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:t,selectionRange:a},Ic=!1,Bt=n;Bt!==null;)if(n=Bt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Bt=t;else for(;Bt!==null;){switch(n=Bt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var he=zr(a.type,h);t=o.getSnapshotBeforeUpdate(he,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Je(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ad(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Bt=t;break}Bt=n.return}}function Ty(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:es(t,a),o&4&&al(5,a);break;case 1:if(es(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Je(a,a.return,y)}else{var h=zr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Je(a,a.return,y)}}o&64&&gy(a),o&512&&ol(a,a.return);break;case 3:if(es(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{rp(t,n)}catch(y){Je(a,a.return,y)}}break;case 27:n===null&&o&4&&vy(a);case 26:case 5:es(t,a),n===null&&o&4&&yy(a),o&512&&ol(a,a.return);break;case 12:es(t,a);break;case 31:es(t,a),o&4&&by(t,a);break;case 13:es(t,a),o&4&&wy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=WS.bind(null,a),_A(t,a))));break;case 22:if(o=a.memoizedState!==null||Wi,!o){n=n!==null&&n.memoizedState!==null||Dt,h=Wi;var f=Dt;Wi=o,(Dt=n)&&!f?ts(t,a,(a.subtreeFlags&8772)!==0):es(t,a),Wi=h,Dt=f}break;case 30:break;default:es(t,a)}}function Sy(t){var n=t.alternate;n!==null&&(t.alternate=null,Sy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&aa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,fn=!1;function Zi(t,n,a){for(a=a.child;a!==null;)Ay(t,n,a),a=a.sibling}function Ay(t,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Dt||Di(a,n),Zi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||Di(a,n);var o=ct,h=fn;Fs(a.type)&&(ct=a.stateNode,fn=!1),Zi(t,n,a),pl(a.stateNode),ct=o,fn=h;break;case 5:Dt||Di(a,n);case 6:if(o=ct,h=fn,ct=null,Zi(t,n,a),ct=o,fn=h,ct!==null)if(fn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(f){Je(a,n,f)}else try{ct.removeChild(a.stateNode)}catch(f){Je(a,n,f)}break;case 18:ct!==null&&(fn?(t=ct,g_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fa(t)):g_(ct,a.stateNode));break;case 4:o=ct,h=fn,ct=a.stateNode.containerInfo,fn=!0,Zi(t,n,a),ct=o,fn=h;break;case 0:case 11:case 14:case 15:Ps(2,a,n),Dt||Ps(4,a,n),Zi(t,n,a);break;case 1:Dt||(Di(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&py(a,n,o)),Zi(t,n,a);break;case 21:Zi(t,n,a);break;case 22:Dt=(o=Dt)||a.memoizedState!==null,Zi(t,n,a),Dt=o;break;default:Zi(t,n,a)}}function by(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fa(t)}catch(a){Je(n,n.return,a)}}}function wy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fa(t)}catch(a){Je(n,n.return,a)}}function FS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ey),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ey),n;default:throw Error(r(435,t.tag))}}function oc(t,n){var a=FS(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=ZS.bind(null,t,o);o.then(h,h)}})}function dn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,y=n,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(Fs(T.type)){ct=T.stateNode,fn=!1;break e}break;case 5:ct=T.stateNode,fn=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(ct===null)throw Error(r(160));Ay(f,y,h),ct=null,fn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ry(n,t),n=n.sibling}var ni=null;function Ry(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(n,t),mn(t),o&4&&(Ps(3,t,t.return),al(3,t),Ps(5,t,t.return));break;case 1:dn(n,t),mn(t),o&512&&(Dt||a===null||Di(a,a.return)),o&64&&Wi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ni;if(dn(n,t),mn(t),o&512&&(Dt||a===null||Di(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pi]||f[bt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Qt(f,o,a),f[bt]=t,wt(f),o=f;break e;case"link":var y=R_("link","href",h).get(o+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break t}}f=h.createElement(o),Qt(f,o,a),h.head.appendChild(f);break;case"meta":if(y=R_("meta","content",h).get(o+(a.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break t}}f=h.createElement(o),Qt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[bt]=t,wt(f),o=f}t.stateNode=o}else I_(h,t.type,t.stateNode);else t.stateNode=w_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?I_(h,t.type,t.stateNode):w_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Xf(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(n,t),mn(t),o&512&&(Dt||a===null||Di(a,a.return)),a!==null&&o&4&&Xf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(n,t),mn(t),o&512&&(Dt||a===null||Di(a,a.return)),t.flags&32){h=t.stateNode;try{hn(h,"")}catch(he){Je(t,t.return,he)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Xf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Wf=!0);break;case 6:if(dn(n,t),mn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(he){Je(t,t.return,he)}}break;case 3:if(Ac=null,h=ni,ni=Tc(n.containerInfo),dn(n,t),ni=h,mn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(n.containerInfo)}catch(he){Je(t,t.return,he)}Wf&&(Wf=!1,Iy(t));break;case 4:o=ni,ni=Tc(t.stateNode.containerInfo),dn(n,t),mn(t),ni=o;break;case 12:dn(n,t),mn(t);break;case 31:dn(n,t),mn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,oc(t,o)));break;case 13:dn(n,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uc=an()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,oc(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=Wi,K=Dt;if(Wi=z||h,Dt=K||N,dn(n,t),Dt=K,Wi=z,mn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||Wi||Dt||Br(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=N.stateNode;var J=N.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){Je(N,N.return,he)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(he){Je(N,N.return,he)}}}else if(n.tag===18){if(a===null){N=n;try{var F=N.stateNode;h?p_(F,!0):p_(N.stateNode,!1)}catch(he){Je(N,N.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,oc(t,a))));break;case 19:dn(n,t),mn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,oc(t,o)));break;case 30:break;case 21:break;default:dn(n,t),mn(t)}}function mn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(_y(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=$f(t);ac(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(hn(y,""),a.flags&=-33);var T=$f(t);ac(t,T,y);break;case 3:case 4:var N=a.stateNode.containerInfo,z=$f(t);Jf(t,z,N);break;default:throw Error(r(161))}}catch(K){Je(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Iy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function es(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ty(t,n.alternate,n),n=n.sibling}function Br(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ps(4,n,n.return),Br(n);break;case 1:Di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&py(n,n.return,a),Br(n);break;case 27:pl(n.stateNode);case 26:case 5:Di(n,n.return),Br(n);break;case 22:n.memoizedState===null&&Br(n);break;case 30:Br(n);break;default:Br(n)}t=t.sibling}}function ts(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,a),al(4,f);break;case 1:if(ts(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Je(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)sp(N[h],T)}catch(z){Je(o,o.return,z)}}a&&y&64&&gy(f),ol(f,f.return);break;case 27:vy(f);case 26:case 5:ts(h,f,a),a&&o===null&&y&4&&yy(f),ol(f,f.return);break;case 12:ts(h,f,a);break;case 31:ts(h,f,a),a&&y&4&&by(h,f);break;case 13:ts(h,f,a),a&&y&4&&wy(h,f);break;case 22:f.memoizedState===null&&ts(h,f,a),ol(f,f.return);break;case 30:break;default:ts(h,f,a)}n=n.sibling}}function Zf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ko(a))}function ed(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ko(t))}function ii(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cy(t,n,a,o),n=n.sibling}function Cy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(t,n,a,o),h&2048&&al(9,n);break;case 1:ii(t,n,a,o);break;case 3:ii(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ko(t)));break;case 12:if(h&2048){ii(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Je(n,n.return,N)}}else ii(t,n,a,o);break;case 31:ii(t,n,a,o);break;case 13:ii(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ii(t,n,a,o):ll(t,n):f._visibility&2?ii(t,n,a,o):(f._visibility|=2,Va(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(y,n);break;case 24:ii(t,n,a,o),h&2048&&ed(n.alternate,n);break;default:ii(t,n,a,o)}}function Va(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,T=a,N=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Va(f,y,T,N,h),al(8,y);break;case 23:break;case 22:var K=y.stateNode;y.memoizedState!==null?K._visibility&2?Va(f,y,T,N,h):ll(f,y):(K._visibility|=2,Va(f,y,T,N,h)),h&&z&2048&&Zf(y.alternate,y);break;case 24:Va(f,y,T,N,h),h&&z&2048&&ed(y.alternate,y);break;default:Va(f,y,T,N,h)}n=n.sibling}}function ll(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:ll(a,o),h&2048&&Zf(o.alternate,o);break;case 24:ll(a,o),h&2048&&ed(o.alternate,o);break;default:ll(a,o)}n=n.sibling}}var ul=8192;function Ma(t,n,a){if(t.subtreeFlags&ul)for(t=t.child;t!==null;)Ny(t,n,a),t=t.sibling}function Ny(t,n,a){switch(t.tag){case 26:Ma(t,n,a),t.flags&ul&&t.memoizedState!==null&&DA(a,ni,t.memoizedState,t.memoizedProps);break;case 5:Ma(t,n,a);break;case 3:case 4:var o=ni;ni=Tc(t.stateNode.containerInfo),Ma(t,n,a),ni=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ul,ul=16777216,Ma(t,n,a),ul=o):Ma(t,n,a));break;default:Ma(t,n,a)}}function Dy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function cl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Bt=o,xy(o,t)}Dy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Oy(t),t=t.sibling}function Oy(t){switch(t.tag){case 0:case 11:case 15:cl(t),t.flags&2048&&Ps(9,t,t.return);break;case 3:cl(t);break;case 12:cl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lc(t)):cl(t);break;default:cl(t)}}function lc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Bt=o,xy(o,t)}Dy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ps(8,n,n.return),lc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,lc(n));break;default:lc(n)}t=t.sibling}}function xy(t,n){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Ps(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Bt=o;else e:for(a=t;Bt!==null;){o=Bt;var h=o.sibling,f=o.return;if(Sy(o),o===a){Bt=null;break e}if(h!==null){h.return=f,Bt=h;break e}Bt=f}}}var GS={getCacheForType:function(t){var n=Yt(It),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Yt(It).controller.signal}},YS=typeof WeakMap=="function"?WeakMap:Map,Ke=0,it=null,xe=null,ke=0,$e=0,wn=null,Us=!1,ka=!1,td=!1,ns=0,dt=0,js=0,qr=0,nd=0,Rn=0,La=0,hl=null,gn=null,id=!1,uc=0,Vy=0,cc=1/0,hc=null,zs=null,Lt=0,Bs=null,Pa=null,is=0,sd=0,rd=null,My=null,fl=0,ad=null;function In(){return(Ke&2)!==0&&ke!==0?ke&-ke:G.T!==null?fd():fu()}function ky(){if(Rn===0)if((ke&536870912)===0||ze){var t=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),Rn=t}else Rn=536870912;return t=An.current,t!==null&&(t.flags|=32),Rn}function pn(t,n,a){(t===it&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Ua(t,0),qs(t,ke,Rn,!1)),pr(t,a),((Ke&2)===0||t!==it)&&(t===it&&((Ke&2)===0&&(qr|=a),dt===4&&qs(t,ke,Rn,!1)),Oi(t))}function Ly(t,n,a){if((Ke&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Kn(t,n),h=o?XS(t,n):ld(t,n,!0),f=o;do{if(h===0){ka&&!o&&qs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!KS(a)){h=ld(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var T=t;h=hl;var N=T.current.memoizedState.isDehydrated;if(N&&(Ua(T,y).flags|=256),y=ld(T,y,!1),y!==2){if(td&&!N){T.errorRecoveryDisabledLanes|=f,qr|=f,h=4;break e}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ua(t,0),qs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:qs(o,n,Rn,!Us);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=uc+300-an(),10<h)){if(qs(o,n,Rn,!Us),di(o,0,!0)!==0)break e;is=n,o.timeoutHandle=d_(Py.bind(null,o,a,gn,hc,id,n,Rn,qr,La,Us,f,"Throttled",-0,0),h);break e}Py(o,a,gn,hc,id,n,Rn,qr,La,Us,f,null,-0,0)}}break}while(!0);Oi(t)}function Py(t,n,a,o,h,f,y,T,N,z,K,J,q,F){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},Ny(n,f,J);var he=(f&62914560)===f?uc-an():(f&4194048)===f?Vy-an():0;if(he=OA(J,he),he!==null){is=f,t.cancelPendingCommit=he(Gy.bind(null,t,n,f,a,o,h,y,T,N,K,J,null,q,F)),qs(t,f,y,!z);return}}Gy(t,n,f,a,o,h,y,T,N)}function KS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(t,n,a,o){n&=~nd,n&=~qr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-yt(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&yr(t,a,n)}function fc(){return(Ke&6)===0?(dl(0),!1):!0}function od(){if(xe!==null){if($e===0)var t=xe.return;else t=xe,Yi=Vr=null,Af(t),Ca=null,Xo=0,t=xe;for(;t!==null;)my(t.alternate,t),t=t.return;xe=null}}function Ua(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,dA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),is=0,od(),it=t,xe=a=Fi(t.current,null),ke=n,$e=0,wn=null,Us=!1,ka=Kn(t,n),td=!1,La=Rn=nd=qr=js=dt=0,gn=hl=null,id=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-yt(o),f=1<<h;n|=t[h],o&=~f}return ns=n,Vu(),a}function Uy(t,n){Ce=null,G.H=il,n===Ia||n===Bu?(n=ep(),$e=3):n===hf?(n=ep(),$e=4):$e=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,xe===null&&(dt=1,tc(t,Mn(n,t.current)))}function jy(){var t=An.current;return t===null?!0:(ke&4194048)===ke?Un===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Un:!1}function zy(){var t=G.H;return G.H=il,t===null?il:t}function By(){var t=G.A;return G.A=GS,t}function dc(){dt=4,Us||(ke&4194048)!==ke&&An.current!==null||(ka=!0),(js&134217727)===0&&(qr&134217727)===0||it===null||qs(it,ke,Rn,!1)}function ld(t,n,a){var o=Ke;Ke|=2;var h=zy(),f=By();(it!==t||ke!==n)&&(hc=null,Ua(t,n)),n=!1;var y=dt;e:do try{if($e!==0&&xe!==null){var T=xe,N=wn;switch($e){case 8:od(),y=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var z=$e;if($e=0,wn=null,ja(t,T,N,z),a&&ka){y=0;break e}break;default:z=$e,$e=0,wn=null,ja(t,T,N,z)}}QS(),y=dt;break}catch(K){Uy(t,K)}while(!0);return n&&t.shellSuspendCounter++,Yi=Vr=null,Ke=o,G.H=h,G.A=f,xe===null&&(it=null,ke=0,Vu()),y}function QS(){for(;xe!==null;)qy(xe)}function XS(t,n){var a=Ke;Ke|=2;var o=zy(),h=By();it!==t||ke!==n?(hc=null,cc=an()+500,Ua(t,n)):ka=Kn(t,n);e:do try{if($e!==0&&xe!==null){n=xe;var f=wn;t:switch($e){case 1:$e=0,wn=null,ja(t,n,f,1);break;case 2:case 9:if(Wg(f)){$e=0,wn=null,Hy(n);break}n=function(){$e!==2&&$e!==9||it!==t||($e=7),Oi(t)},f.then(n,n);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Wg(f)?($e=0,wn=null,Hy(n)):($e=0,wn=null,ja(t,n,f,7));break;case 5:var y=null;switch(xe.tag){case 26:y=xe.memoizedState;case 5:case 27:var T=xe;if(y?C_(y):T.stateNode.complete){$e=0,wn=null;var N=T.sibling;if(N!==null)xe=N;else{var z=T.return;z!==null?(xe=z,mc(z)):xe=null}break t}}$e=0,wn=null,ja(t,n,f,5);break;case 6:$e=0,wn=null,ja(t,n,f,6);break;case 8:od(),dt=6;break e;default:throw Error(r(462))}}$S();break}catch(K){Uy(t,K)}while(!0);return Yi=Vr=null,G.H=o,G.A=h,Ke=a,xe!==null?0:(it=null,ke=0,Vu(),dt)}function $S(){for(;xe!==null&&!Ph();)qy(xe)}function qy(t){var n=fy(t.alternate,t,ns);t.memoizedProps=t.pendingProps,n===null?mc(t):xe=n}function Hy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ay(a,n,n.pendingProps,n.type,void 0,ke);break;case 11:n=ay(a,n,n.pendingProps,n.type.render,n.ref,ke);break;case 5:Af(n);default:my(a,n),n=xe=Bg(n,ns),n=fy(a,n,ns)}t.memoizedProps=t.pendingProps,n===null?mc(t):xe=n}function ja(t,n,a,o){Yi=Vr=null,Af(n),Ca=null,Xo=0;var h=n.return;try{if(US(t,h,n,a,ke)){dt=1,tc(t,Mn(a,t.current)),xe=null;return}}catch(f){if(h!==null)throw xe=h,f;dt=1,tc(t,Mn(a,t.current)),xe=null;return}n.flags&32768?(ze||o===1?t=!0:ka||(ke&536870912)!==0?t=!1:(Us=t=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),Fy(n,t)):mc(n)}function mc(t){var n=t;do{if((n.flags&32768)!==0){Fy(n,Us);return}t=n.return;var a=BS(n.alternate,n,ns);if(a!==null){xe=a;return}if(n=n.sibling,n!==null){xe=n;return}xe=n=t}while(n!==null);dt===0&&(dt=5)}function Fy(t,n){do{var a=qS(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);dt=6,xe=null}function Gy(t,n,a,o,h,f,y,T,N){t.cancelPendingCommit=null;do gc();while(Lt!==0);if((Ke&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Xh,zh(t,a,f,y,T,N),t===it&&(xe=it=null,ke=0),Pa=n,Bs=t,is=a,sd=f,rd=h,My=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eA(_s,function(){return $y(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=se.p,se.p=2,y=Ke,Ke|=4;try{HS(t,n,a)}finally{Ke=y,se.p=h,G.T=o}}Lt=1,Yy(),Ky(),Qy()}}function Yy(){if(Lt===1){Lt=0;var t=Bs,n=Pa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=se.p;se.p=2;var h=Ke;Ke|=4;try{Ry(n,t);var f=Ed,y=xg(t.containerInfo),T=f.focusedElem,N=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&Og(T.ownerDocument.documentElement,T)){if(N!==null&&Fh(T)){var z=N.start,K=N.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var F=q.getSelection(),he=T.textContent.length,_e=Math.min(N.start,he),tt=N.end===void 0?_e:Math.min(N.end,he);!F.extend&&_e>tt&&(y=tt,tt=_e,_e=y);var k=Dg(T,_e),O=Dg(T,tt);if(k&&O&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var j=J.createRange();j.setStart(k.node,k.offset),F.removeAllRanges(),_e>tt?(F.addRange(j),F.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),F.addRange(j))}}}}for(J=[],F=T;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Q=J[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ic=!!vd,Ed=vd=null}finally{Ke=h,se.p=o,G.T=a}}t.current=n,Lt=2}}function Ky(){if(Lt===2){Lt=0;var t=Bs,n=Pa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=se.p;se.p=2;var h=Ke;Ke|=4;try{Ty(t,n.alternate,n)}finally{Ke=h,se.p=o,G.T=a}}Lt=3}}function Qy(){if(Lt===4||Lt===3){Lt=0,ru();var t=Bs,n=Pa,a=is,o=My;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Lt=5:(Lt=0,Pa=Bs=null,Xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zs=null),zi(a),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Yn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=se.p,se.p=2,G.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var T=o[y];f(T.value,{componentStack:T.stack})}}finally{G.T=n,se.p=h}}(is&3)!==0&&gc(),Oi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ad?fl++:(fl=0,ad=t):fl=0,dl(0)}}function Xy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ko(n)))}function gc(){return Yy(),Ky(),Qy(),$y()}function $y(){if(Lt!==5)return!1;var t=Bs,n=sd;sd=0;var a=zi(is),o=G.T,h=se.p;try{se.p=32>a?32:a,G.T=null,a=rd,rd=null;var f=Bs,y=is;if(Lt=0,Pa=Bs=null,is=0,(Ke&6)!==0)throw Error(r(331));var T=Ke;if(Ke|=4,Oy(f.current),Cy(f,f.current,y,a),Ke=T,dl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Yn,f)}catch{}return!0}finally{se.p=h,G.T=o,Xy(t,n)}}function Jy(t,n,a){n=Mn(a,n),n=Uf(t.stateNode,n,2),t=Ms(t,n,2),t!==null&&(pr(t,2),Oi(t))}function Je(t,n,a){if(t.tag===3)Jy(t,t,a);else for(;n!==null;){if(n.tag===3){Jy(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zs===null||!zs.has(o))){t=Mn(a,t),a=Wp(2),o=Ms(n,a,2),o!==null&&(Zp(a,o,n,t),pr(o,2),Oi(o));break}}n=n.return}}function ud(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new YS;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(td=!0,h.add(a),t=JS.bind(null,t,n,a),n.then(t,t))}function JS(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(ke&a)===a&&(dt===4||dt===3&&(ke&62914560)===ke&&300>an()-uc?(Ke&2)===0&&Ua(t,0):nd|=a,La===ke&&(La=0)),Oi(t)}function Wy(t,n){n===0&&(n=hu()),t=Dr(t,n),t!==null&&(pr(t,n),Oi(t))}function WS(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Wy(t,a)}function ZS(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Wy(t,a)}function eA(t,n){return kt(t,n)}var pc=null,za=null,cd=!1,yc=!1,hd=!1,Hs=0;function Oi(t){t!==za&&t.next===null&&(za===null?pc=za=t:za=za.next=t),yc=!0,cd||(cd=!0,nA())}function dl(t,n){if(!hd&&yc){hd=!0;do for(var a=!1,o=pc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-yt(42|t)+1)-1,f&=h&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,n_(o,f))}else f=ke,f=di(o,o===it?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Kn(o,f)||(a=!0,n_(o,f));o=o.next}while(a);hd=!1}}function tA(){Zy()}function Zy(){yc=cd=!1;var t=0;Hs!==0&&fA()&&(t=Hs);for(var n=an(),a=null,o=pc;o!==null;){var h=o.next,f=e_(o,n);f===0?(o.next=null,a===null?pc=h:a.next=h,h===null&&(za=a)):(a=o,(t!==0||(f&3)!==0)&&(yc=!0)),o=h}Lt!==0&&Lt!==5||dl(t),Hs!==0&&(Hs=0)}function e_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-yt(f),T=1<<y,N=h[y];N===-1?((T&a)===0||(T&o)!==0)&&(h[y]=jh(T,n)):N<=n&&(t.expiredLanes|=T),f&=~T}if(n=it,a=ke,a=di(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&($e===2||$e===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ys(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&ys(o),zi(a)){case 2:case 8:a=Ao;break;case 32:a=_s;break;case 268435456:a=au;break;default:a=_s}return o=t_.bind(null,t),a=kt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&ys(o),t.callbackPriority=2,t.callbackNode=null,2}function t_(t,n){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gc()&&t.callbackNode!==a)return null;var o=ke;return o=di(t,t===it?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ly(t,o,n),e_(t,an()),t.callbackNode!=null&&t.callbackNode===a?t_.bind(null,t):null)}function n_(t,n){if(gc())return null;Ly(t,n,!0)}function nA(){mA(function(){(Ke&6)!==0?kt(So,tA):Zy()})}function fd(){if(Hs===0){var t=wa;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Hs=t}return Hs}function i_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ca(""+t)}function s_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function iA(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=i_((h[jt]||null).action),y=o.submitter;y&&(n=(n=y[jt]||null)?i_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new bi("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var N=y?s_(h,y):new FormData(h);xf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(T.preventDefault(),N=y?s_(h,y):new FormData(h),xf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var dd=0;dd<Qh.length;dd++){var md=Qh[dd],sA=md.toLowerCase(),rA=md[0].toUpperCase()+md.slice(1);ti(sA,"on"+rA)}ti(kg,"onAnimationEnd"),ti(Lg,"onAnimationIteration"),ti(Pg,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(TS,"onTransitionRun"),ti(SS,"onTransitionStart"),ti(AS,"onTransitionCancel"),ti(Ug,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function r_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var T=o[y],N=T.instance,z=T.currentTarget;if(T=T.listener,N!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(K){xu(K)}h.currentTarget=null,f=N}else for(y=0;y<o.length;y++){if(T=o[y],N=T.instance,z=T.currentTarget,T=T.listener,N!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(K){xu(K)}h.currentTarget=null,f=N}}}}function Ve(t,n){var a=n[ra];a===void 0&&(a=n[ra]=new Set);var o=t+"__bubble";a.has(o)||(a_(n,t,2,!1),a.add(o))}function gd(t,n,a){var o=0;n&&(o|=4),a_(a,t,o,n)}var _c="_reactListening"+Math.random().toString(36).slice(2);function pd(t){if(!t[_c]){t[_c]=!0,Ro.forEach(function(a){a!=="selectionchange"&&(aA.has(a)||gd(a,!1,t),gd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_c]||(n[_c]=!0,gd("selectionchange",!1,n))}}function a_(t,n,a,o){switch(k_(n)){case 2:var h=MA;break;case 8:h=kA;break;default:h=Od}a=h.bind(null,n,a,t),h=void 0,!Sr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function yd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var T=o.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=o.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=yi(T),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){o=f=y;continue e}T=T.parentNode}}o=o.return}bs(function(){var z=f,K=Dn(a),J=[];e:{var q=jg.get(t);if(q!==void 0){var F=bi,he=t;switch(t){case"keypress":if(br(a)===0)break e;case"keydown":case"keyup":F=Nu;break;case"focusin":he="focus",F=Rr;break;case"focusout":he="blur",F=Rr;break;case"beforeblur":case"afterblur":F=Rr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case kg:case Lg:case Pg:F=Su;break;case Ug:F=A;break;case"scroll":case"scrollend":F=Uo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Hi;break;case"toggle":case"beforetoggle":F=Ie}var _e=(n&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),k=_e?q!==null?q+"Capture":null:q;_e=[];for(var O=z,j;O!==null;){var Q=O;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||k===null||(Q=Jn(O,k),Q!=null&&_e.push(gl(O,Q,j))),tt)break;O=O.return}0<_e.length&&(q=new F(q,he,null,a,K),J.push({event:q,listeners:_e}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==ko&&(he=a.relatedTarget||a.fromElement)&&(yi(he)||he[gi]))break e;if((F||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,F?(he=a.relatedTarget||a.toElement,F=z,he=he?yi(he):null,he!==null&&(tt=c(he),_e=he.tag,he!==tt||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(F=null,he=z),F!==he)){if(_e=jo,Q="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Hi,Q="onPointerLeave",k="onPointerEnter",O="pointer"),tt=F==null?q:vn(F),j=he==null?q:vn(he),q=new _e(Q,O+"leave",F,a,K),q.target=tt,q.relatedTarget=j,Q=null,yi(K)===z&&(_e=new _e(k,O+"enter",he,a,K),_e.target=j,_e.relatedTarget=tt,Q=_e),tt=Q,F&&he)t:{for(_e=oA,k=F,O=he,j=0,Q=k;Q;Q=_e(Q))j++;Q=0;for(var ge=O;ge;ge=_e(ge))Q++;for(;0<j-Q;)k=_e(k),j--;for(;0<Q-j;)O=_e(O),Q--;for(;j--;){if(k===O||O!==null&&k===O.alternate){_e=k;break t}k=_e(k),O=_e(O)}_e=null}else _e=null;F!==null&&o_(J,q,F,_e,!1),he!==null&&tt!==null&&o_(J,tt,he,_e,!0)}}e:{if(q=z?vn(z):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var He=bg;else if(Sg(q))if(wg)He=_S;else{He=pS;var de=gS}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&ua(z.elementType)&&(He=bg):He=yS;if(He&&(He=He(t,z))){Ag(J,He,a,K);break e}de&&de(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&xo(q,"number",q.value)}switch(de=z?vn(z):window,t){case"focusin":(Sg(de)||de.contentEditable==="true")&&(ya=de,Gh=z,Fo=null);break;case"focusout":Fo=Gh=ya=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Vg(J,a,K);break;case"selectionchange":if(ES)break;case"keydown":case"keyup":Vg(J,a,K)}var De;if(Ye)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else pa?Ir(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Ii&&a.locale!=="ko"&&(pa||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&pa&&(De=Po()):(Ai=K,Lo="value"in Ai?Ai.value:Ai.textContent,pa=!0)),de=vc(z,Le),0<de.length&&(Le=new Ri(Le,t,null,a,K),J.push({event:Le,listeners:de}),De?Le.data=De:(De=ga(a),De!==null&&(Le.data=De)))),(De=xn?hS(t,a):fS(t,a))&&(Le=vc(z,"onBeforeInput"),0<Le.length&&(de=new Ri("onBeforeInput","beforeinput",null,a,K),J.push({event:de,listeners:Le}),de.data=De)),iA(J,t,z,a,K)}r_(J,n)})}function gl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function vc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jn(t,a),h!=null&&o.unshift(gl(t,h,f)),h=Jn(t,n),h!=null&&o.push(gl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function oA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o_(t,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var T=a,N=T.alternate,z=T.stateNode;if(T=T.tag,N!==null&&N===o)break;T!==5&&T!==26&&T!==27||z===null||(N=z,h?(z=Jn(a,f),z!=null&&y.unshift(gl(a,z,N))):h||(z=Jn(a,f),z!=null&&y.push(gl(a,z,N)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var lA=/\r\n?/g,uA=/\u0000|\uFFFD/g;function l_(t){return(typeof t=="string"?t:""+t).replace(lA,`
`).replace(uA,"")}function u_(t,n){return n=l_(n),l_(t)===n}function et(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||hn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&hn(t,""+o);break;case"className":En(t,"class",o);break;case"tabIndex":En(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,o);break;case"style":Mo(t,o,f);break;case"data":if(n!=="object"){En(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ca(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&et(t,n,"name",h.name,h,null),et(t,n,"formEncType",h.formEncType,h,null),et(t,n,"formMethod",h.formMethod,h,null),et(t,n,"formTarget",h.formTarget,h,null)):(et(t,n,"encType",h.encType,h,null),et(t,n,"method",h.method,h,null),et(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ca(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=$n);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ca(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),oa(t,"popover",o);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vu.get(a)||a,oa(t,a,o))}}function _d(t,n,a,o,h,f){switch(a){case"style":Mo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?hn(t,o):(typeof o=="number"||typeof o=="bigint")&&hn(t,""+o);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"onClick":o!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[jt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):oa(t,a,o)}}}function Qt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:et(t,n,f,y,a,null)}}h&&et(t,n,"srcSet",a.srcSet,a,null),o&&et(t,n,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=f=y=h=null,N=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":y=K;break;case"checked":N=K;break;case"defaultChecked":z=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:et(t,n,o,K,a,null)}}pu(t,f,T,N,z,y,h,!1);return;case"select":Ve("invalid",t),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":o=T;default:et(t,n,h,T,a,null)}n=f,a=y,t.multiple=!!o,n!=null?Es(t,!!o,n,!1):a!=null&&Es(t,!!o,a,!0);return;case"textarea":Ve("invalid",t),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:et(t,n,y,T,a,null)}Ts(t,o,h,f);return;case"option":for(N in a)a.hasOwnProperty(N)&&(o=a[N],o!=null)&&(N==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":et(t,n,N,o,a,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(o=0;o<ml.length;o++)Ve(ml[o],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:et(t,n,z,o,a,null)}return;default:if(ua(n)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&_d(t,n,K,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&et(t,n,T,o,a,null))}function cA(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,T=null,N=null,z=null,K=null;for(F in a){var J=a[F];if(a.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=J;default:o.hasOwnProperty(F)||et(t,n,F,null,o,J)}}for(var q in o){var F=o[q];if(J=a[q],o.hasOwnProperty(q)&&(F!=null||J!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":K=F;break;case"value":y=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==J&&et(t,n,q,F,o,J)}}la(t,y,T,N,z,K,f,h);return;case"select":F=y=T=q=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:o.hasOwnProperty(f)||et(t,n,f,null,o,N)}for(h in o)if(f=o[h],N=a[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==N&&et(t,n,h,f,o,N)}n=T,a=y,o=F,q!=null?Es(t,!!a,q,!1):!!o!=!!a&&(n!=null?Es(t,!!a,n,!0):Es(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,n,T,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&et(t,n,y,h,o,f)}yu(t,q,F);return;case"option":for(var he in a)q=a[he],a.hasOwnProperty(he)&&q!=null&&!o.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:et(t,n,he,null,o,q));for(N in o)q=o[N],F=a[N],o.hasOwnProperty(N)&&q!==F&&(q!=null||F!=null)&&(N==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":et(t,n,N,q,o,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)q=a[_e],a.hasOwnProperty(_e)&&q!=null&&!o.hasOwnProperty(_e)&&et(t,n,_e,null,o,q);for(z in o)if(q=o[z],F=a[z],o.hasOwnProperty(z)&&q!==F&&(q!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:et(t,n,z,q,o,F)}return;default:if(ua(n)){for(var tt in a)q=a[tt],a.hasOwnProperty(tt)&&q!==void 0&&!o.hasOwnProperty(tt)&&_d(t,n,tt,void 0,o,q);for(K in o)q=o[K],F=a[K],!o.hasOwnProperty(K)||q===F||q===void 0&&F===void 0||_d(t,n,K,q,o,F);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!o.hasOwnProperty(k)&&et(t,n,k,null,o,q);for(J in o)q=o[J],F=a[J],!o.hasOwnProperty(J)||q===F||q==null&&F==null||et(t,n,J,q,o,F)}function c_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,T=h.duration;if(f&&T&&c_(y)){for(y=0,T=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],z=N.startTime;if(z>T)break;var K=N.transferSize,J=N.initiatorType;K&&c_(J)&&(N=N.responseEnd,y+=K*(N<T?1:(T-z)/(N-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vd=null,Ed=null;function Ec(t){return t.nodeType===9?t:t.ownerDocument}function h_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Td(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function fA(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,dA=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,mA=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(t){return m_.resolve(null).then(t).catch(gA)}:d_;function gA(t){setTimeout(function(){throw t})}function Fs(t){return t==="head"}function g_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Fa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")pl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,pl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,T=f.nodeName;f[pi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&pl(t.ownerDocument.body);a=h}while(a);Fa(n)}function p_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pA(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[pi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function yA(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function y_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jn(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$?"||t.data==="$~"}function wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _A(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function __(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return jn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function v_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function E_(t,n,a){switch(n=Ec(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function pl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);aa(t)}var zn=new Map,T_=new Set;function Tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ss=se.d;se.d={f:vA,r:EA,D:TA,C:SA,L:AA,m:bA,X:RA,S:wA,M:IA};function vA(){var t=ss.f(),n=fc();return t||n}function EA(t){var n=Nn(t);n!==null&&n.tag===5&&n.type==="form"?Up(n):ss.r(t)}var Ba=typeof document>"u"?null:document;function S_(t,n,a){var o=Ba;if(o&&typeof n=="string"&&n){var h=cn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),T_.has(h)||(T_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Qt(n,"link",t),wt(n),o.head.appendChild(n)))}}function TA(t){ss.D(t),S_("dns-prefetch",t,null)}function SA(t,n){ss.C(t,n),S_("preconnect",t,n)}function AA(t,n,a){ss.L(t,n,a);var o=Ba;if(o&&t&&n){var h='link[rel="preload"][as="'+cn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+cn(a.imageSizes)+'"]')):h+='[href="'+cn(t)+'"]';var f=h;switch(n){case"style":f=qa(t);break;case"script":f=Ha(t)}zn.has(f)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),zn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(yl(f))||n==="script"&&o.querySelector(_l(f))||(n=o.createElement("link"),Qt(n,"link",t),wt(n),o.head.appendChild(n)))}}function bA(t,n){ss.m(t,n);var a=Ba;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+cn(o)+'"][href="'+cn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ha(t)}if(!zn.has(f)&&(t=b({rel:"modulepreload",href:t},n),zn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(f)))return}o=a.createElement("link"),Qt(o,"link",t),wt(o),a.head.appendChild(o)}}}function wA(t,n,a){ss.S(t,n,a);var o=Ba;if(o&&t){var h=_i(o).hoistableStyles,f=qa(t);n=n||"default";var y=h.get(f);if(!y){var T={loading:0,preload:null};if(y=o.querySelector(yl(f)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=zn.get(f))&&Id(t,a);var N=y=o.createElement("link");wt(N),Qt(N,"link",t),N._p=new Promise(function(z,K){N.onload=z,N.onerror=K}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Sc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(f,y)}}}function RA(t,n){ss.X(t,n);var a=Ba;if(a&&t){var o=_i(a).hoistableScripts,h=Ha(t),f=o.get(h);f||(f=a.querySelector(_l(h)),f||(t=b({src:t,async:!0},n),(n=zn.get(h))&&Cd(t,n),f=a.createElement("script"),wt(f),Qt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function IA(t,n){ss.M(t,n);var a=Ba;if(a&&t){var o=_i(a).hoistableScripts,h=Ha(t),f=o.get(h);f||(f=a.querySelector(_l(h)),f||(t=b({src:t,async:!0,type:"module"},n),(n=zn.get(h))&&Cd(t,n),f=a.createElement("script"),wt(f),Qt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function A_(t,n,a,o){var h=(h=Ae.current)?Tc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=qa(a.href),a=_i(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var f=_i(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(yl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),f||CA(h,t,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ha(a),a=_i(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function qa(t){return'href="'+cn(t)+'"'}function yl(t){return'link[rel="stylesheet"]['+t+"]"}function b_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function CA(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Qt(n,"link",a),wt(n),t.head.appendChild(n))}function Ha(t){return'[src="'+cn(t)+'"]'}function _l(t){return"script[async]"+t}function w_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+cn(a.href)+'"]');if(o)return n.instance=o,wt(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),wt(o),Qt(o,"style",h),Sc(o,a.precedence,t),n.instance=o;case"stylesheet":h=qa(a.href);var f=t.querySelector(yl(h));if(f)return n.state.loading|=4,n.instance=f,wt(f),f;o=b_(a),(h=zn.get(h))&&Id(o,h),f=(t.ownerDocument||t).createElement("link"),wt(f);var y=f;return y._p=new Promise(function(T,N){y.onload=T,y.onerror=N}),Qt(f,"link",o),n.state.loading|=4,Sc(f,a.precedence,t),n.instance=f;case"script":return f=Ha(a.src),(h=t.querySelector(_l(f)))?(n.instance=h,wt(h),h):(o=a,(h=zn.get(f))&&(o=b({},a),Cd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),wt(h),Qt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Sc(o,a.precedence,t));return n.instance}function Sc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var T=o[y];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ac=null;function R_(t,n,a){if(Ac===null){var o=new Map,h=Ac=new Map;h.set(a,o)}else h=Ac,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[pi]||f[bt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var T=o.get(y);T?T.push(f):o.set(y,[f])}}return o}function I_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function NA(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function C_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function DA(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(o.href),f=n.querySelector(yl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,wt(f);return}f=n.ownerDocument||n,o=b_(o),(h=zn.get(h))&&Id(o,h),f=f.createElement("link"),wt(f);var y=f;y._p=new Promise(function(T,N){y.onload=T,y.onerror=N}),Qt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=bc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Nd=0;function OA(t,n){return t.stylesheets&&t.count===0&&Rc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Nd===0&&(Nd=62500*hA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Nd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wc=null;function Rc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wc=new Map,n.forEach(xA,t),wc=null,bc.call(t))}function xA(t,n){if(!(n.state.loading&4)){var a=wc.get(t);if(a)var o=a.get(null);else{a=new Map,wc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=bc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var vl={$$typeof:fe,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function VA(t,n,a,o,h,f,y,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function N_(t,n,a,o,h,f,y,T,N,z,K,J){return t=new VA(t,n,a,y,N,z,K,J,T),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),t.current=f,f.stateNode=t,n=lf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},ff(f),t}function D_(t){return t?(t=Ea,t):Ea}function O_(t,n,a,o,h,f){h=D_(h),o.context===null?o.context=h:o.pendingContext=h,o=Vs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ms(t,o,n),a!==null&&(pn(a,t,n),Jo(a,t,n))}function x_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Dd(t,n){x_(t,n),(t=t.alternate)&&x_(t,n)}function V_(t){if(t.tag===13||t.tag===31){var n=Dr(t,67108864);n!==null&&pn(n,t,67108864),Dd(t,67108864)}}function M_(t){if(t.tag===13||t.tag===31){var n=In();n=_r(n);var a=Dr(t,n);a!==null&&pn(a,t,n),Dd(t,n)}}var Ic=!0;function MA(t,n,a,o){var h=G.T;G.T=null;var f=se.p;try{se.p=2,Od(t,n,a,o)}finally{se.p=f,G.T=h}}function kA(t,n,a,o){var h=G.T;G.T=null;var f=se.p;try{se.p=8,Od(t,n,a,o)}finally{se.p=f,G.T=h}}function Od(t,n,a,o){if(Ic){var h=xd(o);if(h===null)yd(t,n,o,Cc,a),L_(t,o);else if(PA(h,t,n,a,o))o.stopPropagation();else if(L_(t,o),n&4&&-1<LA.indexOf(t)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=fi(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var N=1<<31-yt(y);T.entanglements[1]|=N,y&=~N}Oi(f),(Ke&6)===0&&(cc=an()+500,dl(0))}}break;case 31:case 13:T=Dr(f,2),T!==null&&pn(T,f,2),fc(),Dd(f,2)}if(f=xd(o),f===null&&yd(t,n,o,Cc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else yd(t,n,o,null,a)}}function xd(t){return t=Dn(t),Vd(t)}var Cc=null;function Vd(t){if(Cc=null,t=yi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cc=t,null}function k_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case So:return 2;case Ao:return 8;case _s:case Uh:return 32;case au:return 268435456;default:return 32}default:return 32}}var Md=!1,Gs=null,Ys=null,Ks=null,El=new Map,Tl=new Map,Qs=[],LA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L_(t,n){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":El.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(n.pointerId)}}function Sl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Nn(n),n!==null&&V_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function PA(t,n,a,o,h){switch(n){case"focusin":return Gs=Sl(Gs,t,n,a,o,h),!0;case"dragenter":return Ys=Sl(Ys,t,n,a,o,h),!0;case"mouseover":return Ks=Sl(Ks,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return El.set(f,Sl(El.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Tl.set(f,Sl(Tl.get(f)||null,t,n,a,o,h)),!0}return!1}function P_(t){var n=yi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Qn(t.priority,function(){M_(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Qn(t.priority,function(){M_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=xd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);ko=o,a.target.dispatchEvent(o),ko=null}else return n=Nn(a),n!==null&&V_(n),t.blockedOn=a,!1;n.shift()}return!0}function U_(t,n,a){Nc(t)&&a.delete(n)}function UA(){Md=!1,Gs!==null&&Nc(Gs)&&(Gs=null),Ys!==null&&Nc(Ys)&&(Ys=null),Ks!==null&&Nc(Ks)&&(Ks=null),El.forEach(U_),Tl.forEach(U_)}function Dc(t,n){t.blockedOn===n&&(t.blockedOn=null,Md||(Md=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,UA)))}var Oc=null;function j_(t){Oc!==t&&(Oc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Vd(o||a)===null)continue;break}var f=Nn(a);f!==null&&(t.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Fa(t){function n(N){return Dc(N,t)}Gs!==null&&Dc(Gs,t),Ys!==null&&Dc(Ys,t),Ks!==null&&Dc(Ks,t),El.forEach(n),Tl.forEach(n);for(var a=0;a<Qs.length;a++){var o=Qs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Qs.length&&(a=Qs[0],a.blockedOn===null);)P_(a),a.blockedOn===null&&Qs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[jt]||null;if(typeof f=="function")y||j_(a);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[jt]||null)T=y.formAction;else if(Vd(h)!==null)continue}else T=y.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),j_(a)}}}function z_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(t){this._internalRoot=t}xc.prototype.render=kd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=In();O_(a,o,t,n,null,null)},xc.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;O_(t.current,2,null,t,null,null),fc(),n[gi]=null}};function xc(t){this._internalRoot=t}xc.prototype.unstable_scheduleHydration=function(t){if(t){var n=fu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Qs.length&&n!==0&&n<Qs[a].priority;a++);Qs.splice(a,0,t),a===0&&P_(t)}};var B_=e.version;if(B_!=="19.2.3")throw Error(r(527,B_,"19.2.3"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var jA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Yn=Vc.inject(jA),Ht=Vc}catch{}}return bl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=Qp,f=Xp,y=$p;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=N_(t,1,!1,null,null,a,o,null,h,f,y,z_),t[gi]=n.current,pd(t),new kd(n)},bl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=Qp,y=Xp,T=$p,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=N_(t,1,!0,n,a??null,o,h,N,f,y,T,z_),n.context=D_(null),a=n.current,o=In(),o=_r(o),h=Vs(o),h.callback=null,Ms(a,h,o),a=o,n.current.lanes=a,pr(n,a),Oi(n),t[gi]=n.current,pd(t),new xc(n)},bl.version="19.2.3",bl}var J_;function XA(){if(J_)return Ud.exports;J_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=QA(),Ud.exports}var $A=XA();const JA=()=>{};var W_={};const NE=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},WA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},DE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,S=c>>2,b=(c&3)<<4|g>>4;let I=(g&15)<<2|_>>6,P=_&63;p||(P=64,d||(I=64)),r.push(i[S],i[b],i[I],i[P])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(NE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):WA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||_==null||b==null)throw new ZA;const I=c<<2|g>>4;if(r.push(I),_!==64){const P=g<<4&240|_>>2;if(r.push(P),b!==64){const Y=_<<6&192|b;r.push(Y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ZA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eb=function(s){const e=NE(s);return DE.encodeByteArray(e,!0)},$c=function(s){return eb(s).replace(/\./g,"")},OE=function(s){try{return DE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nb=()=>tb().__FIREBASE_DEFAULTS__,ib=()=>{if(typeof process>"u"||typeof W_>"u")return;const s=W_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},sb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&OE(s[1]);return e&&JSON.parse(e)},_h=()=>{try{return JA()||nb()||ib()||sb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},xE=s=>_h()?.emulatorHosts?.[s],rb=s=>{const e=xE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},VE=()=>_h()?.config,ME=s=>_h()?.[`_${s}`];class ab{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function ho(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kE(s){return(await fetch(s,{credentials:"include"})).ok}function ob(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[$c(JSON.stringify(i)),$c(JSON.stringify(d)),""].join(".")}const Vl={};function lb(){const s={prod:[],emulator:[]};for(const e of Object.keys(Vl))Vl[e]?s.emulator.push(e):s.prod.push(e);return s}function ub(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Z_=!1;function LE(s,e){if(typeof window>"u"||typeof document>"u"||!ho(window.location.host)||Vl[s]===e||Vl[s]||Z_)return;Vl[s]=e;function i(I){return`__firebase__banner__${I}`}const r="__firebase__banner",c=lb().prod.length>0;function d(){const I=document.getElementById(r);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,P){I.setAttribute("width","24"),I.setAttribute("id",P),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Z_=!0,d()},I}function S(I,P){I.setAttribute("id",P),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function b(){const I=ub(r),P=i("text"),Y=document.getElementById(P)||document.createElement("span"),B=i("learnmore"),W=document.getElementById(B)||document.createElement("a"),ne=i("preprendIcon"),ce=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const fe=I.element;g(fe),S(W,B);const Oe=_();p(ce,ne),fe.append(ce,Y,W,Oe),document.body.appendChild(fe)}c?(Y.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function hb(){const s=_h()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function db(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function mb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gb(){const s=nn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function pb(){return!hb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yb(){try{return typeof indexedDB=="object"}catch{return!1}}function _b(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const vb="FirebaseError";class gs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=vb,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?Eb(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new gs(l,g,r)}}function Eb(s,e){return s.replace(Tb,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const Tb=/\{\$([^}]+)}/g;function Sb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Yr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(ev(c)&&ev(d)){if(!Yr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function ev(s){return s!==null&&typeof s=="object"}function Xl(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Il(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Cl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function Ab(s,e){const i=new bb(s,e);return i.subscribe.bind(i)}class bb{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");wb(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wb(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function qd(){}function sn(s){return s&&s._delegate?s._delegate:s}class Kr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Hr="[DEFAULT]";class Rb{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new ab;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cb(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ib(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ib(s){return s===Hr?void 0:s}function Cb(s){return s.instantiationMode==="EAGER"}class Nb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Rb(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const Db={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Ob=Pe.INFO,xb={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Vb=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=xb[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=Ob,this._logHandler=Vb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Db[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Mb=(s,e)=>e.some(i=>s instanceof i);let tv,nv;function kb(){return tv||(tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lb(){return nv||(nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PE=new WeakMap,em=new WeakMap,UE=new WeakMap,Hd=new WeakMap,Nm=new WeakMap;function Pb(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(nr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&PE.set(i,s)}).catch(()=>{}),Nm.set(e,s),e}function Ub(s){if(em.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});em.set(s,e)}let tm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return em.get(s);if(e==="objectStoreNames")return s.objectStoreNames||UE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function jb(s){tm=s(tm)}function zb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Fd(this),e,...i);return UE.set(r,e.sort?e.sort():[e]),nr(r)}:Lb().includes(s)?function(...e){return s.apply(Fd(this),e),nr(PE.get(this))}:function(...e){return nr(s.apply(Fd(this),e))}}function Bb(s){return typeof s=="function"?zb(s):(s instanceof IDBTransaction&&Ub(s),Mb(s,kb())?new Proxy(s,tm):s)}function nr(s){if(s instanceof IDBRequest)return Pb(s);if(Hd.has(s))return Hd.get(s);const e=Bb(s);return e!==s&&(Hd.set(s,e),Nm.set(e,s)),e}const Fd=s=>Nm.get(s);function qb(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=nr(d);return r&&d.addEventListener("upgradeneeded",p=>{r(nr(d.result),p.oldVersion,p.newVersion,nr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const Hb=["get","getKey","getAll","getAllKeys","count"],Fb=["put","add","delete","clear"],Gd=new Map;function iv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=Fb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Hb.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&p.done]))[0]};return Gd.set(e,c),c}jb(s=>({...s,get:(e,i,r)=>iv(e,i)||s.get(e,i,r),has:(e,i)=>!!iv(e,i)||s.has(e,i)}));class Gb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Yb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Yb(s){return s.getComponent()?.type==="VERSION"}const nm="@firebase/app",sv="0.14.7";const cs=new Cm("@firebase/app"),Kb="@firebase/app-compat",Qb="@firebase/analytics-compat",Xb="@firebase/analytics",$b="@firebase/app-check-compat",Jb="@firebase/app-check",Wb="@firebase/auth",Zb="@firebase/auth-compat",ew="@firebase/database",tw="@firebase/data-connect",nw="@firebase/database-compat",iw="@firebase/functions",sw="@firebase/functions-compat",rw="@firebase/installations",aw="@firebase/installations-compat",ow="@firebase/messaging",lw="@firebase/messaging-compat",uw="@firebase/performance",cw="@firebase/performance-compat",hw="@firebase/remote-config",fw="@firebase/remote-config-compat",dw="@firebase/storage",mw="@firebase/storage-compat",gw="@firebase/firestore",pw="@firebase/ai",yw="@firebase/firestore-compat",_w="firebase",vw="12.8.0";const im="[DEFAULT]",Ew={[nm]:"fire-core",[Kb]:"fire-core-compat",[Xb]:"fire-analytics",[Qb]:"fire-analytics-compat",[Jb]:"fire-app-check",[$b]:"fire-app-check-compat",[Wb]:"fire-auth",[Zb]:"fire-auth-compat",[ew]:"fire-rtdb",[tw]:"fire-data-connect",[nw]:"fire-rtdb-compat",[iw]:"fire-fn",[sw]:"fire-fn-compat",[rw]:"fire-iid",[aw]:"fire-iid-compat",[ow]:"fire-fcm",[lw]:"fire-fcm-compat",[uw]:"fire-perf",[cw]:"fire-perf-compat",[hw]:"fire-rc",[fw]:"fire-rc-compat",[dw]:"fire-gcs",[mw]:"fire-gcs-compat",[gw]:"fire-fst",[yw]:"fire-fst-compat",[pw]:"fire-vertex","fire-js":"fire-js",[_w]:"fire-js-all"};const Jc=new Map,Tw=new Map,sm=new Map;function rv(s,e){try{s.container.addComponent(e)}catch(i){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function io(s){const e=s.name;if(sm.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,s);for(const i of Jc.values())rv(i,s);for(const i of Tw.values())rv(i,s);return!0}function Dm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Bn(s){return s==null?!1:s.settings!==void 0}const Sw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new Ql("app","Firebase",Sw);class Aw{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const fo=vw;function jE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:im,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=VE()),!i)throw ir.create("no-options");const c=Jc.get(l);if(c){if(Yr(i,c.options)&&Yr(r,c.config))return c;throw ir.create("duplicate-app",{appName:l})}const d=new Nb(l);for(const p of sm.values())d.addComponent(p);const g=new Aw(i,r,d);return Jc.set(l,g),g}function zE(s=im){const e=Jc.get(s);if(!e&&s===im&&VE())return jE();if(!e)throw ir.create("no-app",{appName:s});return e}function sr(s,e,i){let r=Ew[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(d.join(" "));return}io(new Kr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const bw="firebase-heartbeat-database",ww=1,jl="firebase-heartbeat-store";let Yd=null;function BE(){return Yd||(Yd=qb(bw,ww,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(jl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),Yd}async function Rw(s){try{const i=(await BE()).transaction(jl),r=await i.objectStore(jl).get(qE(s));return await i.done,r}catch(e){if(e instanceof gs)cs.warn(e.message);else{const i=ir.create("idb-get",{originalErrorMessage:e?.message});cs.warn(i.message)}}}async function av(s,e){try{const r=(await BE()).transaction(jl,"readwrite");await r.objectStore(jl).put(e,qE(s)),await r.done}catch(i){if(i instanceof gs)cs.warn(i.message);else{const r=ir.create("idb-set",{originalErrorMessage:i?.message});cs.warn(r.message)}}}function qE(s){return`${s.name}!${s.options.appId}`}const Iw=1024,Cw=30;class Nw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ow(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ov();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Cw){const l=xw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ov(),{heartbeatsToSend:i,unsentEntries:r}=Dw(this._heartbeatsCache.heartbeats),l=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return cs.warn(e),""}}}function ov(){return new Date().toISOString().substring(0,10)}function Dw(s,e=Iw){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),lv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),lv(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Ow{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yb()?_b().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Rw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lv(s){return $c(JSON.stringify({version:2,heartbeats:s})).length}function xw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function Vw(s){io(new Kr("platform-logger",e=>new Gb(e),"PRIVATE")),io(new Kr("heartbeat",e=>new Nw(e),"PRIVATE")),sr(nm,sv,s),sr(nm,sv,"esm2020"),sr("fire-js","")}Vw("");function HE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mw=HE,FE=new Ql("auth","Firebase",HE());const Wc=new Cm("@firebase/auth");function kw(s,...e){Wc.logLevel<=Pe.WARN&&Wc.warn(`Auth (${fo}): ${s}`,...e)}function zc(s,...e){Wc.logLevel<=Pe.ERROR&&Wc.error(`Auth (${fo}): ${s}`,...e)}function ui(s,...e){throw Om(s,...e)}function Vi(s,...e){return Om(s,...e)}function GE(s,e,i){const r={...Mw(),[e]:i};return new Ql("auth","Firebase",r).create(e,{appName:s.name})}function ls(s){return GE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Om(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return FE.create(s,...e)}function ve(s,e,...i){if(!s)throw Om(e,...i)}function rs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw zc(e),new Error(e)}function hs(s,e){s||rs(e)}function rm(){return typeof self<"u"&&self.location?.href||""}function Lw(){return uv()==="http:"||uv()==="https:"}function uv(){return typeof self<"u"&&self.location?.protocol||null}function Pw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lw()||db()||"connection"in navigator)?navigator.onLine:!0}function Uw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class $l{constructor(e,i){this.shortDelay=e,this.longDelay=i,hs(i>e,"Short delay should be less than long delay!"),this.isMobile=cb()||mb()}get(){return Pw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xm(s,e){hs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class YE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bw=new $l(3e4,6e4);function ps(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ji(s,e,i,r,l={}){return KE(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=Xl({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:p,...c};return fb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&ho(s.emulatorConfig.host)&&(_.credentials="include"),YE.fetch()(await QE(s,s.config.apiHost,i,g),_)})}async function KE(s,e,i){s._canInitEmulator=!1;const r={...jw,...e};try{const l=new Hw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Mc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw Mc(s,"user-disabled",d);const S=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw GE(s,S,_);ui(s,S)}}catch(l){if(l instanceof gs)throw l;ui(s,"network-request-failed",{message:String(l)})}}async function Jl(s,e,i,r,l={}){const c=await ji(s,e,i,r,l);return"mfaPendingCredential"in c&&ui(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function QE(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?xm(s.config,l):`${s.config.apiScheme}://${l}`;return zw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function qw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Vi(this.auth,"network-request-failed")),Bw.get())})}}function Mc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Vi(s,e,r);return l.customData._tokenResponse=i,l}function cv(s){return s!==void 0&&s.enterprise!==void 0}class Fw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return qw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gw(s,e){return ji(s,"GET","/v2/recaptchaConfig",ps(s,e))}async function Yw(s,e){return ji(s,"POST","/v1/accounts:delete",e)}async function Zc(s,e){return ji(s,"POST","/v1/accounts:lookup",e)}function Ml(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kw(s,e=!1){const i=sn(s),r=await i.getIdToken(e),l=Vm(r);ve(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Ml(Kd(l.auth_time)),issuedAtTime:Ml(Kd(l.iat)),expirationTime:Ml(Kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(s){return Number(s)*1e3}function Vm(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=OE(i);return l?JSON.parse(l):(zc("Failed to decode base64 JWT payload"),null)}catch(l){return zc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function hv(s){const e=Vm(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function so(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof gs&&Qw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Qw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Xw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eh(s){const e=s.auth,i=await s.getIdToken(),r=await so(s,Zc(e,{idToken:i}));ve(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?XE(l.providerUserInfo):[],d=Jw(s.providerData,c),g=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!d?.length,_=g?p:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function $w(s){const e=sn(s);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Jw(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function XE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Ww(s,e){const i=await KE(s,{},async()=>{const r=Xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await QE(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return s.emulatorConfig&&ho(s.emulatorConfig.host)&&(p.credentials="include"),YE.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Zw(s,e){return ji(s,"POST","/v2/accounts:revokeToken",ps(s,e))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=hv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Ww(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Ja;return r&&(ve(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(ve(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ve(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return rs("not implemented")}}function $s(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class si{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Xw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await so(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Kw(this,e)}reload(){return $w(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await so(this,Yw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:I,isAnonymous:P,providerData:Y,stsTokenManager:B}=i;ve(b&&B,e,"internal-error");const W=Ja.fromJSON(this.name,B);ve(typeof b=="string",e,"internal-error"),$s(r,e.name),$s(l,e.name),ve(typeof I=="boolean",e,"internal-error"),ve(typeof P=="boolean",e,"internal-error"),$s(c,e.name),$s(d,e.name),$s(g,e.name),$s(p,e.name),$s(_,e.name),$s(S,e.name);const ne=new si({uid:b,auth:e,email:l,emailVerified:I,displayName:r,isAnonymous:P,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:_,lastLoginAt:S});return Y&&Array.isArray(Y)&&(ne.providerData=Y.map(ce=>({...ce}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,i,r=!1){const l=new Ja;l.updateFromServerResponse(i);const c=new si({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await eh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];ve(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?XE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Ja;g.updateFromIdToken(r);const p=new si({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}const fv=new Map;function as(s){hs(s instanceof Function,"Expected a class definition");let e=fv.get(s);return e?(hs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,fv.set(s,e),e)}class $E{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}$E.type="NONE";const dv=$E;function Bc(s,e,i){return`firebase:${s}:${e}:${i}`}class Wa{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Bc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Zc(this.auth,{idToken:e}).catch(()=>{});return i?si._fromGetAccountInfoResponse(this.auth,i,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Wa(as(dv),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||as(dv);const d=Bc(r,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const S=await _._get(d);if(S){let b;if(typeof S=="string"){const I=await Zc(e,{idToken:S}).catch(()=>{});if(!I)break;b=await si._fromGetAccountInfoResponse(e,I,S)}else b=si._fromJSON(e,S);_!==c&&(g=b),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Wa(c,e,r):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Wa(c,e,r))}}function mv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nT(e))return"Blackberry";if(iT(e))return"Webos";if(WE(e))return"Safari";if((e.includes("chrome/")||ZE(e))&&!e.includes("edge/"))return"Chrome";if(tT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function JE(s=nn()){return/firefox\//i.test(s)}function WE(s=nn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZE(s=nn()){return/crios\//i.test(s)}function eT(s=nn()){return/iemobile/i.test(s)}function tT(s=nn()){return/android/i.test(s)}function nT(s=nn()){return/blackberry/i.test(s)}function iT(s=nn()){return/webos/i.test(s)}function Mm(s=nn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function e1(s=nn()){return Mm(s)&&!!window.navigator?.standalone}function t1(){return gb()&&document.documentMode===10}function sT(s=nn()){return Mm(s)||tT(s)||iT(s)||nT(s)||/windows phone/i.test(s)||eT(s)}function rT(s,e=[]){let i;switch(s){case"Browser":i=mv(nn());break;case"Worker":i=`${mv(nn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${fo}/${r}`}class n1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,g)=>{try{const p=e(c);d(p)}catch(p){g(p)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function i1(s,e={}){return ji(s,"GET","/v2/passwordPolicy",ps(s,e))}const s1=6;class r1{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??s1,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class a1{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gv(this),this.idTokenSubscription=new gv(this),this.beforeStateQueue=new n1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=as(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Zc(this,{idToken:e}),r=await si._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Uw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(ls(this));const i=e?sn(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i1(this),i=new r1(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ql("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Zw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&as(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[as(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,r,l);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function dr(s){return sn(s)}class gv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ab(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o1(s){vh=s}function aT(s){return vh.loadJS(s)}function l1(){return vh.recaptchaEnterpriseScript}function u1(){return vh.gapiScript}function c1(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class h1{constructor(){this.enterprise=new f1}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class f1{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const d1="recaptcha-enterprise",oT="NO_RECAPTCHA";class m1{constructor(e){this.type=d1,this.auth=dr(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{Gw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new Fw(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,d,g){const p=window.grecaptcha;cv(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(oT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new h1().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(g=>{if(!i&&cv(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=l1();p.length!==0&&(p+=g),aT(p).then(()=>{l(g,c,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function pv(s,e,i,r=!1,l=!1){const c=new m1(s);let d;if(l)d=oT;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function th(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await pv(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await pv(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function g1(s,e){const i=Dm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Yr(c,e??{}))return l;ui(l,"already-initialized")}return i.initialize({options:e})}function p1(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(as);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function y1(s,e,i){const r=dr(s);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=lT(e),{host:d,port:g}=_1(e),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(Yr(_,r.config.emulator)&&Yr(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,ho(d)?(kE(`${c}//${d}${p}`),LE("Auth",!0)):v1()}function lT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function _1(s){const e=lT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:yv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:yv(d)}}}function yv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function v1(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class km{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,i){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function E1(s,e){return ji(s,"POST","/v1/accounts:signUp",e)}async function T1(s,e){return Jl(s,"POST","/v1/accounts:signInWithPassword",ps(s,e))}async function S1(s,e){return ji(s,"POST","/v1/accounts:sendOobCode",ps(s,e))}async function A1(s,e){return S1(s,e)}async function b1(s,e){return Jl(s,"POST","/v1/accounts:signInWithEmailLink",ps(s,e))}async function w1(s,e){return Jl(s,"POST","/v1/accounts:signInWithEmailLink",ps(s,e))}class zl extends km{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new zl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new zl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,i,"signInWithPassword",T1);case"emailLink":return b1(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,r,"signUpPassword",E1);case"emailLink":return w1(e,{idToken:i,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Za(s,e){return Jl(s,"POST","/v1/accounts:signInWithIdp",ps(s,e))}const R1="http://localhost";class Qr extends km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Qr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ui("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Qr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Za(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Za(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Za(e,i)}buildRequest(){const e={requestUri:R1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Xl(i)}return e}}function I1(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C1(s){const e=Il(Cl(s)).link,i=e?Il(Cl(e)).deep_link_id:null,r=Il(Cl(s)).deep_link_id;return(r?Il(Cl(r)).link:null)||r||i||e||s}class Lm{constructor(e){const i=Il(Cl(e)),r=i.apiKey??null,l=i.oobCode??null,c=I1(i.mode??null);ve(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=C1(e);try{return new Lm(i)}catch{return null}}}class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(e,i){return zl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Lm.parseLink(i);return ve(r,"argument-error"),zl._fromEmailAndCode(e,r.code,r.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class uT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wl extends uT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Js extends Wl{constructor(){super("facebook.com")}static credential(e){return Qr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";class Ws extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Qr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Ws.credential(i,r)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";class Zs extends Wl{constructor(){super("github.com")}static credential(e){return Qr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";class er extends Wl{constructor(){super("twitter.com")}static credential(e,i){return Qr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return er.credential(i,r)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";async function N1(s,e){return Jl(s,"POST","/v1/accounts:signUp",ps(s,e))}class Xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await si._fromIdTokenResponse(e,r,l),d=_v(r);return new Xr({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=_v(r);return new Xr({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function _v(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class nh extends gs{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new nh(e,i,r,l)}}function cT(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(s,c,e,r):c})}async function D1(s,e,i=!1){const r=await so(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Xr._forOperation(s,"link",r)}async function O1(s,e,i=!1){const{auth:r}=s;if(Bn(r.app))return Promise.reject(ls(r));const l="reauthenticate";try{const c=await so(s,cT(r,l,e,s),i);ve(c.idToken,r,"internal-error");const d=Vm(c.idToken);ve(d,r,"internal-error");const{sub:g}=d;return ve(s.uid===g,r,"user-mismatch"),Xr._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ui(r,"user-mismatch"),c}}async function hT(s,e,i=!1){if(Bn(s.app))return Promise.reject(ls(s));const r="signIn",l=await cT(s,r,e),c=await Xr._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function x1(s,e){return hT(dr(s),e)}async function fT(s){const e=dr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function V1(s,e,i){const r=dr(s);await th(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",A1)}async function M1(s,e,i){if(Bn(s.app))return Promise.reject(ls(s));const r=dr(s),d=await th(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&fT(s),p}),g=await Xr._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function k1(s,e,i){return Bn(s.app)?Promise.reject(ls(s)):x1(sn(s),mo.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fT(s),r})}async function L1(s,e){return ji(s,"POST","/v1/accounts:update",e)}async function P1(s,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const r=sn(s),c={idToken:await r.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},d=await so(r,L1(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const g=r.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function U1(s,e,i,r){return sn(s).onIdTokenChanged(e,i,r)}function j1(s,e,i){return sn(s).beforeAuthStateChanged(e,i)}function z1(s,e,i,r){return sn(s).onAuthStateChanged(e,i,r)}function B1(s){return sn(s).signOut()}const ih="__sak";class dT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const q1=1e3,H1=10;class mT extends dT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);t1()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,H1):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},q1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}mT.type="LOCAL";const F1=mT;class gT extends dT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}gT.type="SESSION";const pT=gT;function G1(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Eh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),p=await G1(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];function Pm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class Y1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=Pm("",20);l.port1.start();const S=setTimeout(()=>{p(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const I=b;if(I.data.eventId===_)switch(I.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(I.data.response);break;default:clearTimeout(S),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Mi(){return window}function K1(s){Mi().location.href=s}function yT(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function Q1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X1(){return navigator?.serviceWorker?.controller||null}function $1(){return yT()?self:null}const _T="firebaseLocalStorageDb",J1=1,sh="firebaseLocalStorage",vT="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Th(s,e){return s.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function W1(){const s=indexedDB.deleteDatabase(_T);return new Zl(s).toPromise()}function om(){const s=indexedDB.open(_T,J1);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(sh,{keyPath:vT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(sh)?e(r):(r.close(),await W1(),e(await om()))})})}async function vv(s,e,i){const r=Th(s,!0).put({[vT]:e,value:i});return new Zl(r).toPromise()}async function Z1(s,e){const i=Th(s,!1).get(e),r=await new Zl(i).toPromise();return r===void 0?null:r.value}function Ev(s,e){const i=Th(s,!0).delete(e);return new Zl(i).toPromise()}const eR=800,tR=3;class ET{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>tR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance($1()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Q1(),!this.activeServiceWorker)return;this.sender=new Y1(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await om();return await vv(e,ih,"1"),await Ev(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>vv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>Z1(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ev(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Th(l,!1).getAll();return new Zl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ET.type="LOCAL";const nR=ET;new $l(3e4,6e4);function iR(s,e){return e?as(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Um extends km{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Za(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function sR(s){return hT(s.auth,new Um(s),s.bypassAuthState)}function rR(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),O1(i,new Um(s),s.bypassAuthState)}async function aR(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),D1(i,new Um(s),s.bypassAuthState)}class TT{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sR;case"linkViaPopup":case"linkViaRedirect":return aR;case"reauthViaPopup":case"reauthViaRedirect":return rR;default:ui(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oR=new $l(2e3,1e4);class Xa extends TT{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oR.get())};e()}}Xa.currentPopupAction=null;const lR="pendingRedirect",qc=new Map;class uR extends TT{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=qc.get(this.auth._key());if(!e){try{const r=await cR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cR(s,e){const i=dR(e),r=fR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function hR(s,e){qc.set(s._key(),e)}function fR(s){return as(s._redirectPersistence)}function dR(s){return Bc(lR,s.config.apiKey,s.name)}async function mR(s,e,i=!1){if(Bn(s.app))return Promise.reject(ls(s));const r=dr(s),l=iR(r,e),d=await new uR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const gR=600*1e3;class pR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!ST(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Vi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tv(e))}saveEventToCache(e){this.cachedEventUids.add(Tv(e)),this.lastProcessedEventTime=Date.now()}}function Tv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function ST({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function yR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ST(s);default:return!1}}async function _R(s,e={}){return ji(s,"GET","/v1/projects",e)}const vR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ER=/^https?/;async function TR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await _R(s);for(const i of e)try{if(SR(i))return}catch{}ui(s,"unauthorized-domain")}function SR(s){const e=rm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!ER.test(i))return!1;if(vR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const AR=new $l(3e4,6e4);function Sv(){const s=Mi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function bR(s){return new Promise((e,i)=>{function r(){Sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sv(),i(Vi(s,"network-request-failed"))},timeout:AR.get()})}if(Mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mi().gapi?.load)r();else{const l=c1("iframefcb");return Mi()[l]=()=>{gapi.load?r():i(Vi(s,"network-request-failed"))},aT(`${u1()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function wR(s){return Hc=Hc||bR(s),Hc}const RR=new $l(5e3,15e3),IR="__/auth/iframe",CR="emulator/auth/iframe",NR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OR(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?xm(e,CR):`https://${s.config.authDomain}/${IR}`,r={apiKey:e.apiKey,appName:s.name,v:fo},l=DR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Xl(r).slice(1)}`}async function xR(s){const e=await wR(s),i=Mi().gapi;return ve(i,s,"internal-error"),e.open({where:document.body,url:OR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Vi(s,"network-request-failed"),g=Mi().setTimeout(()=>{c(d)},RR.get());function p(){Mi().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{c(d)})}))}const VR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MR=500,kR=600,LR="_blank",PR="http://localhost";class Av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UR(s,e,i,r=MR,l=kR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p={...VR,width:r.toString(),height:l.toString(),top:c,left:d},_=nn().toLowerCase();i&&(g=ZE(_)?LR:i),JE(_)&&(e=e||PR,p.scrollbars="yes");const S=Object.entries(p).reduce((I,[P,Y])=>`${I}${P}=${Y},`,"");if(e1(_)&&g!=="_self")return jR(e||"",g),new Av(null);const b=window.open(e||"",g,S);ve(b,s,"popup-blocked");try{b.focus()}catch{}return new Av(b)}function jR(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const zR="__/auth/handler",BR="emulator/auth/handler",qR=encodeURIComponent("fac");async function bv(s,e,i,r,l,c){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:fo,eventId:l};if(e instanceof uT){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",Sb(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(e instanceof Wl){const S=e.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const p=await s._getAppCheckToken(),_=p?`#${qR}=${encodeURIComponent(p)}`:"";return`${HR(s)}?${Xl(g).slice(1)}${_}`}function HR({config:s}){return s.emulator?xm(s,BR):`https://${s.authDomain}/${zR}`}const Qd="webStorageSupport";class FR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pT,this._completeRedirectFn=mR,this._overrideRedirectResult=hR}async _openPopup(e,i,r,l){hs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await bv(e,i,r,rm(),l);return UR(e,c,Pm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await bv(e,i,r,rm(),l);return K1(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(hs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await xR(e),r=new pR(e);return i.register("authEvent",l=>(ve(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Qd,{type:Qd},l=>{const c=l?.[0]?.[Qd];c!==void 0&&i(!!c),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=TR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return sT()||WE()||Mm()}}const GR=FR;var wv="@firebase/auth",Rv="1.12.0";class YR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function KR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QR(s){io(new Kr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rT(s)},_=new a1(r,l,c,p);return p1(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),io(new Kr("auth-internal",e=>{const i=dr(e.getProvider("auth").getImmediate());return(r=>new YR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(wv,Rv,KR(s)),sr(wv,Rv,"esm2020")}const XR=300,$R=ME("authIdTokenMaxAge")||XR;let Iv=null;const JR=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>$R)return;const l=i?.token;Iv!==l&&(Iv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function WR(s=zE()){const e=Dm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=g1(s,{popupRedirectResolver:GR,persistence:[nR,F1,pT]}),r=ME("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=JR(c.toString());j1(i,d,()=>d(i.currentUser)),U1(i,g=>d(g))}}const l=xE("auth");return l&&y1(i,`http://${l}`),i}function ZR(){return document.getElementsByTagName("head")?.[0]??document}o1({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Vi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",ZR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QR("Browser");var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rr,AT;(function(){var s;function e(R,w){function D(){}D.prototype=w.prototype,R.F=w.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(M,x,L){for(var C=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)C[rt-2]=arguments[rt];return w.prototype[x].apply(M,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,w,D){D||(D=0);const M=Array(16);if(typeof w=="string")for(var x=0;x<16;++x)M[x]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(x=0;x<16;++x)M[x]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=R.g[0],D=R.g[1],x=R.g[2];let L=R.g[3],C;C=w+(L^D&(x^L))+M[0]+3614090360&4294967295,w=D+(C<<7&4294967295|C>>>25),C=L+(x^w&(D^x))+M[1]+3905402710&4294967295,L=w+(C<<12&4294967295|C>>>20),C=x+(D^L&(w^D))+M[2]+606105819&4294967295,x=L+(C<<17&4294967295|C>>>15),C=D+(w^x&(L^w))+M[3]+3250441966&4294967295,D=x+(C<<22&4294967295|C>>>10),C=w+(L^D&(x^L))+M[4]+4118548399&4294967295,w=D+(C<<7&4294967295|C>>>25),C=L+(x^w&(D^x))+M[5]+1200080426&4294967295,L=w+(C<<12&4294967295|C>>>20),C=x+(D^L&(w^D))+M[6]+2821735955&4294967295,x=L+(C<<17&4294967295|C>>>15),C=D+(w^x&(L^w))+M[7]+4249261313&4294967295,D=x+(C<<22&4294967295|C>>>10),C=w+(L^D&(x^L))+M[8]+1770035416&4294967295,w=D+(C<<7&4294967295|C>>>25),C=L+(x^w&(D^x))+M[9]+2336552879&4294967295,L=w+(C<<12&4294967295|C>>>20),C=x+(D^L&(w^D))+M[10]+4294925233&4294967295,x=L+(C<<17&4294967295|C>>>15),C=D+(w^x&(L^w))+M[11]+2304563134&4294967295,D=x+(C<<22&4294967295|C>>>10),C=w+(L^D&(x^L))+M[12]+1804603682&4294967295,w=D+(C<<7&4294967295|C>>>25),C=L+(x^w&(D^x))+M[13]+4254626195&4294967295,L=w+(C<<12&4294967295|C>>>20),C=x+(D^L&(w^D))+M[14]+2792965006&4294967295,x=L+(C<<17&4294967295|C>>>15),C=D+(w^x&(L^w))+M[15]+1236535329&4294967295,D=x+(C<<22&4294967295|C>>>10),C=w+(x^L&(D^x))+M[1]+4129170786&4294967295,w=D+(C<<5&4294967295|C>>>27),C=L+(D^x&(w^D))+M[6]+3225465664&4294967295,L=w+(C<<9&4294967295|C>>>23),C=x+(w^D&(L^w))+M[11]+643717713&4294967295,x=L+(C<<14&4294967295|C>>>18),C=D+(L^w&(x^L))+M[0]+3921069994&4294967295,D=x+(C<<20&4294967295|C>>>12),C=w+(x^L&(D^x))+M[5]+3593408605&4294967295,w=D+(C<<5&4294967295|C>>>27),C=L+(D^x&(w^D))+M[10]+38016083&4294967295,L=w+(C<<9&4294967295|C>>>23),C=x+(w^D&(L^w))+M[15]+3634488961&4294967295,x=L+(C<<14&4294967295|C>>>18),C=D+(L^w&(x^L))+M[4]+3889429448&4294967295,D=x+(C<<20&4294967295|C>>>12),C=w+(x^L&(D^x))+M[9]+568446438&4294967295,w=D+(C<<5&4294967295|C>>>27),C=L+(D^x&(w^D))+M[14]+3275163606&4294967295,L=w+(C<<9&4294967295|C>>>23),C=x+(w^D&(L^w))+M[3]+4107603335&4294967295,x=L+(C<<14&4294967295|C>>>18),C=D+(L^w&(x^L))+M[8]+1163531501&4294967295,D=x+(C<<20&4294967295|C>>>12),C=w+(x^L&(D^x))+M[13]+2850285829&4294967295,w=D+(C<<5&4294967295|C>>>27),C=L+(D^x&(w^D))+M[2]+4243563512&4294967295,L=w+(C<<9&4294967295|C>>>23),C=x+(w^D&(L^w))+M[7]+1735328473&4294967295,x=L+(C<<14&4294967295|C>>>18),C=D+(L^w&(x^L))+M[12]+2368359562&4294967295,D=x+(C<<20&4294967295|C>>>12),C=w+(D^x^L)+M[5]+4294588738&4294967295,w=D+(C<<4&4294967295|C>>>28),C=L+(w^D^x)+M[8]+2272392833&4294967295,L=w+(C<<11&4294967295|C>>>21),C=x+(L^w^D)+M[11]+1839030562&4294967295,x=L+(C<<16&4294967295|C>>>16),C=D+(x^L^w)+M[14]+4259657740&4294967295,D=x+(C<<23&4294967295|C>>>9),C=w+(D^x^L)+M[1]+2763975236&4294967295,w=D+(C<<4&4294967295|C>>>28),C=L+(w^D^x)+M[4]+1272893353&4294967295,L=w+(C<<11&4294967295|C>>>21),C=x+(L^w^D)+M[7]+4139469664&4294967295,x=L+(C<<16&4294967295|C>>>16),C=D+(x^L^w)+M[10]+3200236656&4294967295,D=x+(C<<23&4294967295|C>>>9),C=w+(D^x^L)+M[13]+681279174&4294967295,w=D+(C<<4&4294967295|C>>>28),C=L+(w^D^x)+M[0]+3936430074&4294967295,L=w+(C<<11&4294967295|C>>>21),C=x+(L^w^D)+M[3]+3572445317&4294967295,x=L+(C<<16&4294967295|C>>>16),C=D+(x^L^w)+M[6]+76029189&4294967295,D=x+(C<<23&4294967295|C>>>9),C=w+(D^x^L)+M[9]+3654602809&4294967295,w=D+(C<<4&4294967295|C>>>28),C=L+(w^D^x)+M[12]+3873151461&4294967295,L=w+(C<<11&4294967295|C>>>21),C=x+(L^w^D)+M[15]+530742520&4294967295,x=L+(C<<16&4294967295|C>>>16),C=D+(x^L^w)+M[2]+3299628645&4294967295,D=x+(C<<23&4294967295|C>>>9),C=w+(x^(D|~L))+M[0]+4096336452&4294967295,w=D+(C<<6&4294967295|C>>>26),C=L+(D^(w|~x))+M[7]+1126891415&4294967295,L=w+(C<<10&4294967295|C>>>22),C=x+(w^(L|~D))+M[14]+2878612391&4294967295,x=L+(C<<15&4294967295|C>>>17),C=D+(L^(x|~w))+M[5]+4237533241&4294967295,D=x+(C<<21&4294967295|C>>>11),C=w+(x^(D|~L))+M[12]+1700485571&4294967295,w=D+(C<<6&4294967295|C>>>26),C=L+(D^(w|~x))+M[3]+2399980690&4294967295,L=w+(C<<10&4294967295|C>>>22),C=x+(w^(L|~D))+M[10]+4293915773&4294967295,x=L+(C<<15&4294967295|C>>>17),C=D+(L^(x|~w))+M[1]+2240044497&4294967295,D=x+(C<<21&4294967295|C>>>11),C=w+(x^(D|~L))+M[8]+1873313359&4294967295,w=D+(C<<6&4294967295|C>>>26),C=L+(D^(w|~x))+M[15]+4264355552&4294967295,L=w+(C<<10&4294967295|C>>>22),C=x+(w^(L|~D))+M[6]+2734768916&4294967295,x=L+(C<<15&4294967295|C>>>17),C=D+(L^(x|~w))+M[13]+1309151649&4294967295,D=x+(C<<21&4294967295|C>>>11),C=w+(x^(D|~L))+M[4]+4149444226&4294967295,w=D+(C<<6&4294967295|C>>>26),C=L+(D^(w|~x))+M[11]+3174756917&4294967295,L=w+(C<<10&4294967295|C>>>22),C=x+(w^(L|~D))+M[2]+718787259&4294967295,x=L+(C<<15&4294967295|C>>>17),C=D+(L^(x|~w))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+x&4294967295,R.g[3]=R.g[3]+L&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const D=w-this.blockSize,M=this.C;let x=this.h,L=0;for(;L<w;){if(x==0)for(;L<=D;)l(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<w;)if(M[x++]=R.charCodeAt(L++),x==this.blockSize){l(this,M),x=0;break}}else for(;L<w;)if(M[x++]=R[L++],x==this.blockSize){l(this,M),x=0;break}}this.h=x,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,D=0;D<4;++D)for(let M=0;M<32;M+=8)R[w++]=this.g[D]>>>M&255;return R};function c(R,w){var D=g;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=w(R)}function d(R,w){this.h=w;const D=[];let M=!0;for(let x=R.length-1;x>=0;x--){const L=R[x]|0;M&&L==w||(D[x]=L,M=!1)}this.g=D}var g={};function p(R){return-128<=R&&R<128?c(R,function(w){return new d([w|0],w<0?-1:0)}):new d([R|0],R<0?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return W(_(-R));const w=[];let D=1;for(let M=0;R>=D;M++)w[M]=R/D|0,D*=4294967296;return new d(w,0)}function S(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return W(S(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=_(Math.pow(w,8));let M=b;for(let L=0;L<R.length;L+=8){var x=Math.min(8,R.length-L);const C=parseInt(R.substring(L,L+x),w);x<8?(x=_(Math.pow(w,x)),M=M.j(x).add(_(C))):(M=M.j(D),M=M.add(_(C)))}return M}var b=p(0),I=p(1),P=p(16777216);s=d.prototype,s.m=function(){if(B(this))return-W(this).m();let R=0,w=1;for(let D=0;D<this.g.length;D++){const M=this.i(D);R+=(M>=0?M:4294967296+M)*w,w*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Y(this))return"0";if(B(this))return"-"+W(this).toString(R);const w=_(Math.pow(R,6));var D=this;let M="";for(;;){const x=Oe(D,w).g;D=ne(D,x.j(w));let L=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=x,Y(D))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Y(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function B(R){return R.h==-1}s.l=function(R){return R=ne(this,R),B(R)?-1:Y(R)?0:1};function W(R){const w=R.g.length,D=[];for(let M=0;M<w;M++)D[M]=~R.g[M];return new d(D,~R.h).add(I)}s.abs=function(){return B(this)?W(this):this},s.add=function(R){const w=Math.max(this.g.length,R.g.length),D=[];let M=0;for(let x=0;x<=w;x++){let L=M+(this.i(x)&65535)+(R.i(x)&65535),C=(L>>>16)+(this.i(x)>>>16)+(R.i(x)>>>16);M=C>>>16,L&=65535,C&=65535,D[x]=C<<16|L}return new d(D,D[D.length-1]&-2147483648?-1:0)};function ne(R,w){return R.add(W(w))}s.j=function(R){if(Y(this)||Y(R))return b;if(B(this))return B(R)?W(this).j(W(R)):W(W(this).j(R));if(B(R))return W(this.j(W(R)));if(this.l(P)<0&&R.l(P)<0)return _(this.m()*R.m());const w=this.g.length+R.g.length,D=[];for(var M=0;M<2*w;M++)D[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<R.g.length;x++){const L=this.i(M)>>>16,C=this.i(M)&65535,rt=R.i(x)>>>16,gt=R.i(x)&65535;D[2*M+2*x]+=C*gt,ce(D,2*M+2*x),D[2*M+2*x+1]+=L*gt,ce(D,2*M+2*x+1),D[2*M+2*x+1]+=C*rt,ce(D,2*M+2*x+1),D[2*M+2*x+2]+=L*rt,ce(D,2*M+2*x+2)}for(R=0;R<w;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=w;R<2*w;R++)D[R]=0;return new d(D,0)};function ce(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function fe(R,w){this.g=R,this.h=w}function Oe(R,w){if(Y(w))throw Error("division by zero");if(Y(R))return new fe(b,b);if(B(R))return w=Oe(W(R),w),new fe(W(w.g),W(w.h));if(B(w))return w=Oe(R,W(w)),new fe(W(w.g),w.h);if(R.g.length>30){if(B(R)||B(w))throw Error("slowDivide_ only works with positive integers.");for(var D=I,M=w;M.l(R)<=0;)D=Ne(D),M=Ne(M);var x=oe(D,1),L=oe(M,1);for(M=oe(M,2),D=oe(D,2);!Y(M);){var C=L.add(M);C.l(R)<=0&&(x=x.add(D),L=C),M=oe(M,1),D=oe(D,1)}return w=ne(R,x.j(w)),new fe(x,w)}for(x=b;R.l(w)>=0;){for(D=Math.max(1,Math.floor(R.m()/w.m())),M=Math.ceil(Math.log(D)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=_(D),C=L.j(w);B(C)||C.l(R)>0;)D-=M,L=_(D),C=L.j(w);Y(L)&&(L=I),x=x.add(L),R=ne(R,C)}return new fe(x,R)}s.B=function(R){return Oe(this,R).h},s.and=function(R){const w=Math.max(this.g.length,R.g.length),D=[];for(let M=0;M<w;M++)D[M]=this.i(M)&R.i(M);return new d(D,this.h&R.h)},s.or=function(R){const w=Math.max(this.g.length,R.g.length),D=[];for(let M=0;M<w;M++)D[M]=this.i(M)|R.i(M);return new d(D,this.h|R.h)},s.xor=function(R){const w=Math.max(this.g.length,R.g.length),D=[];for(let M=0;M<w;M++)D[M]=this.i(M)^R.i(M);return new d(D,this.h^R.h)};function Ne(R){const w=R.g.length+1,D=[];for(let M=0;M<w;M++)D[M]=R.i(M)<<1|R.i(M-1)>>>31;return new d(D,R.h)}function oe(R,w){const D=w>>5;w%=32;const M=R.g.length-D,x=[];for(let L=0;L<M;L++)x[L]=w>0?R.i(L+D)>>>w|R.i(L+D+1)<<32-w:R.i(L+D);return new d(x,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,rr=d}).apply(typeof Cv<"u"?Cv:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bT,Nl,wT,Fc,lm,RT,IT,CT;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in v))break e;v=v[U]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,U,H){for(var te=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)te[Ie-2]=arguments[Ie];return m.prototype[U].apply(A,te)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function Y(u,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const H=U.length||0;u.length=v+H;for(let te=0;te<H;te++)u[v+te]=U[te]}else u.push(U)}}class B{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ne(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ce{constructor(){this.h=this.g=null}add(m,v){const A=fe.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var fe=new B(()=>new Oe,u=>u.reset());class Oe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,oe=!1,R=new ce,w=()=>{const u=Promise.resolve(void 0);Ne=()=>{u.then(D)}};function D(){for(var u;u=ne();){try{u.h.call(u.g)}catch(v){W(v)}var m=fe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}oe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function rt(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(rt,x),rt.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),G=0;function se(u,m,v,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++G,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Me(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Ge(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)u[v]=A[v];for(let H=0;H<X.length;H++)v=X[H],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,v,A,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const te=Ae(u,m,A,U);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new se(m,this.src,H,!!A,U),m.fa=v,u.push(m)),m};function Te(u,m){const v=m.type;if(v in u.g){var A=u.g[v],U=Array.prototype.indexOf.call(A,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(A,U,1),H&&(me(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ae(u,m,v,A){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==A)return U}return-1}var ee="closure_lm_"+(Math.random()*1e6|0),ie={};function Se(u,m,v,A,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Se(u,m[H],v,A,U);return null}return v=To(v),u&&u[gt]?u.J(m,v,g(A)?!!A.capture:!1,U):qe(u,m,v,!1,A,U)}function qe(u,m,v,A,U,H){if(!m)throw Error("Invalid event type");const te=g(U)?!!U.capture:!!U;let Ie=pt(u);if(Ie||(u[ee]=Ie=new le(u)),v=Ie.add(m,v,A,te,H),v.proxy)return v;if(A=nt(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)L||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(rn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function nt(){function u(v){return m.call(u.src,u.listener,v)}const m=_n;return u}function un(u,m,v,A,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)un(u,m[H],v,A,U);else A=g(A)?!!A.capture:!!A,v=To(v),u&&u[gt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Ae(m,v,A,U),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=pt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,v,A,U)),(v=u>-1?m[u]:null)&&Gn(v))}function Gn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[gt])Te(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(rn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=pt(m))?(Te(v,u),v.h==0&&(v.src=null,m[ee]=null)):me(u)}}}function rn(u){return u in ie?ie[u]:ie[u]="on"+u}function _n(u,m){if(u.da)u=!0;else{m=new rt(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Gn(u),u=v.call(A,m)}return u}function pt(u){return u=u[ee],u instanceof le?u:null}var Ut="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(u){return typeof u=="function"?u:(u[Ut]||(u[Ut]=function(m){return u.handleEvent(m)}),u[Ut])}function St(){M.call(this),this.i=new le(this),this.M=this,this.G=null}b(St,M),St.prototype[gt]=!0,St.prototype.removeEventListener=function(u,m,v,A){un(this,u,m,v,A)};function kt(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var U=m;m=new x(A,u),re(m,U)}U=!0;let H,te;if(v)for(te=v.length-1;te>=0;te--)H=m.g=v[te],U=ys(H,A,!0,m)&&U;if(H=m.g=u,U=ys(H,A,!0,m)&&U,U=ys(H,A,!1,m)&&U,v)for(te=0;te<v.length;te++)H=m.g=v[te],U=ys(H,A,!1,m)&&U}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)me(v[A]);delete u.g[m],u.h--}}this.G=null},St.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},St.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function ys(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const te=m[H];if(te&&!te.da&&te.capture==v){const Ie=te.listener,_t=te.ha||te.src;te.fa&&Te(u.i,te),U=Ie.call(_t,A)!==!1&&U}}return U&&!A.defaultPrevented}function Ph(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ru(u){u.g=Ph(()=>{u.g=null,u.i&&(u.i=!1,ru(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class an extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(u){M.call(this),this.h=u,this.g={}}b(mr,M);var So=[];function Ao(u){Me(u.g,function(m,v){this.g.hasOwnProperty(v)&&Gn(m)},u),u.g={}}mr.prototype.N=function(){mr.Z.N.call(this),Ao(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=d.JSON.stringify,Uh=d.JSON.parse,au=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ou(){}function lu(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){x.call(this,"d")}b(Ht,x);function Cn(){x.call(this,"c")}b(Cn,x);var yt={},uu=null;function sa(){return uu=uu||new St}yt.Ia="serverreachability";function cu(u){x.call(this,yt.Ia,u)}b(cu,x);function hi(u){const m=sa();kt(m,new cu(m))}yt.STAT_EVENT="statevent";function gr(u,m){x.call(this,yt.STAT_EVENT,u),this.stat=m}b(gr,x);function At(u){const m=sa();kt(m,new gr(m,u))}yt.Ja="timingevent";function fi(u,m){x.call(this,yt.Ja,u),this.size=m}b(fi,x);function di(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function jh(u,m,v,A,U,H){u.info(function(){if(u.g)if(H){var te="",Ie=H.split("&");for(let Ye=0;Ye<Ie.length;Ye++){var _t=Ie[Ye].split("=");if(_t.length>1){const ut=_t[0];_t=_t[1];const xn=ut.split("_");te=xn.length>=2&&xn[1]=="type"?te+(ut+"="+_t+"&"):te+(ut+"=redacted&")}}}else te=null;else te=H;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+te})}function hu(u,m,v,A,U,H,te){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+H+" "+te})}function mi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(u,v)+(A?" "+A:"")})}function pr(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function zh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<A.length;te++)A[te]=""}}}}return _s(H)}catch{return m}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function _r(){}b(_r,ou),_r.prototype.g=function(){return new XMLHttpRequest},wo=new _r;function zi(u){return encodeURIComponent(String(u))}function fu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Qn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var bt={},jt={};function gi(u,m,v){u.M=1,u.A=vr(Rt(m)),u.u=v,u.R=!0,ra(u,null)}function ra(u,m){u.F=Date.now(),pi(u),u.B=Rt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),ua(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Xn,u.g=Iu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new an(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(So[0]=U.toString()),U=So);for(let H=0;H<U.length;H++){const te=Se(v,U[H],A||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),hi(),jh(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Wn(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=Wn(this.g),_t=this.g.ya(),Ye=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ie!=4||_t==7||(_t==8||Ye<=0?hi(3):hi(2)),yi(this);var m=this.g.ca();this.X=m;var v=Bh(this);if(this.o=m==200,hu(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var H=A;break t}}H=null}if(u=H)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,At(12),vn(this),Nn(this);break e}}if(this.R){u=!0;let ut;for(;!this.K&&this.C<v.length;)if(ut=mu(this,v),ut==jt){Ie==4&&(this.m=4,At(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==bt){this.m=4,At(15),mi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,ut,null),_i(this,ut);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,At(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(te),te.P=!0,At(11))}}else mi(this.i,this.l,v,null),_i(this,v);Ie==4&&vn(this),this.o&&!this.K&&(Ie==4?Au(this.j,this):(this.o=!1,pi(this)))}else qi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),vn(this),Nn(this)}}}catch{}};function Bh(u){if(!du(u))return u.g.la();const m=Ft(u.g);if(m==="")return"";let v="";const A=m.length,U=Wn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vn(u),Nn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<A;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(U&&H==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function du(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function mu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?jt:(v=Number(m.substring(v,A)),isNaN(v)?bt:(A+=1,A+v>m.length?jt:(m=m.slice(A,A+v),u.C=A+v,m)))}Qn.prototype.cancel=function(){this.K=!0,vn(this)};function pi(u){u.T=Date.now()+u.H,aa(u,u.H)}function aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=di(_(u.aa,u),m)}function yi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(hi(),At(17)),vn(this),this.m=2,Nn(this)):aa(this,this.T-u)};function Nn(u){u.j.I==0||u.K||Au(u.j,u)}function vn(u){yi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ao(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function _i(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ei(v.h,u))){if(!u.L&&Ei(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ma(v),Rs(v);else break e;Rr(v),At(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(_(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((u.L||v.g==u)&&ma(v),!C(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ye=U[m];const ut=Ye[0];if(!(ut<=v.K))if(v.K=ut,Ye=Ye[1],v.I==2)if(Ye[0]=="c"){v.M=Ye[1],v.ba=Ye[2];const xn=Ye[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const Ii=Ye[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const Zn=Ye[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(A=1.5*Zn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ei=u.g;if(ei){const Ir=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var H=A.h;H.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Co(H,H.h),H.h=null))}if(A.G){const ga=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(A.wa=ga,Xe(A.J,A.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var te=u;if(A.na=Ru(A,A.L?A.ba:null,A.W),te.L){No(A.h,te);var Ie=te,_t=A.O;_t&&(Ie.H=_t),Ie.D&&(yi(Ie),pi(Ie)),A.g=te}else Tu(A);v.i.length>0&&wi(v)}else Ye[0]!="stop"&&Ye[0]!="close"||Ri(v,7);else v.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ri(v,7):Uo(v):Ye[0]!="noop"&&v.l&&v.l.qa(Ye),v.A=0)}}hi(4)}catch{}}var wt=class{constructor(u,m){this.g=u,this.map=m}};function Ro(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Co(u,m){u.g?u.g.add(m):u.h=m}function No(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ro.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Do(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return P(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let U,H=null;A>=0?(U=u[v].substring(0,A),H=u[v].substring(A+1)):U=u[v],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof En?(this.l=u.l,zt(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.u),this.h=u.h,Oo(this,vu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,zt(this,m[1]||"",!0),this.o=Ti(m[2]||""),this.g=Ti(m[3]||"",!0),vs(this,m[4]),this.h=Ti(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=Ti(m[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}En.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Er(m,la,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Er(m,la,!0),"@"),u.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Er(v,v.charAt(0)=="/"?xo:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Er(v,yu)),u.join("")},En.prototype.resolve=function(u){const m=Rt(this);let v=!!u.j;v?zt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)vs(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let te=0;te<U.length;){const Ie=U[te++];Ie=="."?A&&te==U.length&&H.push(""):Ie==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&te==U.length&&H.push("")):(H.push(Ie),A=!0)}A=H.join("/")}else A=U}return v?m.h=A:v=u.i.toString()!=="",v?Oo(m,vu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Rt(u){return new En(u)}function zt(u,m,v){u.j=v?Ti(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Oo(u,m,v){m instanceof Ts?(u.i=m,ca(u.i,u.l)):(v||(m=Er(m,Es)),u.i=new Ts(m,u.l))}function Xe(u,m,v){u.i.set(m,v)}function vr(u){return Xe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Er(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,cn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var la=/[#\/\?@]/g,pu=/[#\?:]/g,xo=/[#\?]/g,Es=/[#\?@]/g,yu=/#/g;function Ts(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&oa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ts.prototype,s.add=function(u,m){hn(this),this.i=null,u=Ss(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _u(u,m){hn(u),m=Ss(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vo(u,m){return hn(u),m=Ss(u,m),u.g.has(m)}s.forEach=function(u,m){hn(this),this.g.forEach(function(v,A){v.forEach(function(U){u.call(m,U,A,this)},this)},this)};function Mo(u,m){hn(u);let v=[];if(typeof m=="string")Vo(u,m)&&(v=v.concat(u.g.get(Ss(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return hn(this),this.i=null,u=Ss(this,u),Vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,v){_u(u,m),v.length>0&&(u.i=null,u.g.set(Ss(u,m),P(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const U=zi(v);v=Mo(this,v);for(let H=0;H<v.length;H++){let te=U;v[H]!==""&&(te+="="+zi(v[H])),u.push(te)}}return this.i=u.join("&")};function vu(u){const m=new Ts;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ss(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ca(u,m){m&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(_u(this,A),ua(this,U,v))},u)),u.j=m}function $n(u,m){const v=new Kn;if(d.Image){const A=new Image;A.onload=S(Dn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=S(Dn,v,"TestLoadImage: error",!1,m,A),A.onabort=S(Dn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=S(Dn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function ko(u,m){const v=new Kn,A=new AbortController,U=setTimeout(()=>{A.abort(),Dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(H=>{clearTimeout(U),H.ok?Dn(v,"TestPingServer: ok",!0,m):Dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Dn(v,"TestPingServer: error",!1,m)})}function Dn(u,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function As(){this.g=new au}function Si(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Si,ou),Si.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(u,m){St.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Tr,St),s=Tr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?bs(this):Jn(this),this.readyState==3&&ha(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,bs(this))},s.Na=function(u){this.g&&(this.response=u,bs(this))},s.ga=function(){this.g&&bs(this)};function bs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Jn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return Me(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Sr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=On(v),typeof u=="string"?v!=null&&zi(v):Xe(u,m,v))}function We(u){St.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(We,St);var Ai=/^https?$/i,Lo=["POST","PUT"];s=We.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=I(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Ar(this,H);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Lo,m,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,te]of v)this.g.setRequestHeader(H,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Ar(this,H)}};function Ar(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Po(u),Bi(u)}function Po(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,kt(this,"complete"),kt(this,"abort"),Bi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),We.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},s.Xa=function(){br(this)};function br(u){if(u.h&&typeof c<"u"){if(u.v&&Wn(u)==4)setTimeout(u.Ca.bind(u),0);else if(kt(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=H===0){let te=String(u.D).match(gu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),A=!Ai.test(te?te.toLowerCase():"")}v=A}if(v)kt(u,"complete"),kt(u,"success");else{u.o=6;try{var U=Wn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Po(u)}}finally{Bi(u)}}}}function Bi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||kt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Uh(m)}};function Ft(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(u){const m={};u=(u.g&&Wn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var v=fu(u[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[U]||[];m[U]=H,H.push(v)}Ge(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ws(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,u),this.Za=bi("retryDelaySeedMs",1e4,u),this.Ta=bi("forwardChannelMaxRetries",2,u),this.va=bi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(u&&u.concurrentRequestLimit),this.Ba=new As,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ws.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){At(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ru(this,null,this.W),wi(this)};function Uo(u){if(fa(u),u.I==3){var m=u.V++,v=Rt(u.J);if(Xe(v,"SID",u.M),Xe(v,"RID",m),Xe(v,"TYPE","terminate"),wr(u,v),m=new Qn(u,u.j,m),m.M=2,m.A=vr(Rt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}wu(u)}function Rs(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function fa(u){Rs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wi(u){if(!Io(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ne||w(),oe||(Ne(),oe=!0),R.add(m,u),u.D=0}}function da(u,m){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=di(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Qn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=V(H),re(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Eu(this,U,m),v=Rt(this.J),Xe(v,"RID",u),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),wr(this,v),H&&(this.R?m="headers="+zi(On(H))+"&"+m:this.u&&Sr(v,this.u,H)),Co(this.h,U),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",m),Xe(v,"SID","null"),U.U=!0,gi(U,v,null)):gi(U,v,m),this.I=2}}else this.I==3&&(u?jo(this,u):this.i.length==0||Io(this.h)||jo(this))};function jo(u,m){var v;m?v=m.l:v=u.V++;const A=Rt(u.J);Xe(A,"SID",u.M),Xe(A,"RID",v),Xe(A,"AID",u.K),wr(u,A),u.u&&u.o&&Sr(A,u.u,u.o),v=new Qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Eu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Co(u.h,v),gi(v,A,m)}function wr(u,m){u.H&&Me(u.H,function(v,A){Xe(m,A,v)}),u.l&&Me({},function(v,A){Xe(m,A,v)})}function Eu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ie=-1;for(;;){const _t=["count="+v];Ie==-1?v>0?(Ie=U[0].g,_t.push("ofs="+Ie)):Ie=0:_t.push("ofs="+Ie);let Ye=!0;for(let ut=0;ut<v;ut++){var H=U[ut].g;const xn=U[ut].map;if(H-=Ie,H<0)Ie=Math.max(0,U[ut].g-100),Ye=!1;else try{H="req"+H+"_"||"";try{var te=xn instanceof Map?xn:Object.entries(xn);for(const[Ii,Zn]of te){let ei=Zn;g(Zn)&&(ei=_s(Zn)),_t.push(H+Ii+"="+encodeURIComponent(ei))}}catch(Ii){throw _t.push(H+"type="+encodeURIComponent("_badmap")),Ii}}catch{A&&A(xn)}}if(Ye){te=_t.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function Tu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ne||w(),oe||(Ne(),oe=!0),R.add(m,u),u.A=0}}function Rr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=di(_(u.Da,u),bu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=di(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Rs(this),Su(this))};function zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Su(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Rt(u.na);Xe(m,"RID","rpc"),Xe(m,"SID",u.M),Xe(m,"AID",u.K),Xe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xe(m,"TO",u.ia),Xe(m,"TYPE","xmlhttp"),wr(u,m),u.u&&u.o&&Sr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=vr(Rt(m)),v.u=null,v.R=!0,ra(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Rs(this),Rr(this),At(19))};function ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Au(u,m){var v=null;if(u.g==m){ma(u),zo(u),u.g=null;var A=2}else if(Ei(u.h,m))v=m.G,No(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;A=sa(),kt(A,new fi(A,v)),wi(u)}else Tu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&da(u,m)||A==2&&Rr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),A=u.Ua;const U=!A;A=new En(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||zt(A,"https"),vr(A),U?$n(A.toString(),v):ko(A.toString(),v)}else At(2);u.I=0,u.l&&u.l.pa(m),wu(u),fa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const m=Do(u.h);(m.length!=0||u.i.length!=0)&&(Y(u.ja,m),Y(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function Ru(u,m,v){var A=v instanceof En?Rt(v):new En(v);if(A.g!="")m&&(A.g=m+"."+A.g),vs(A,A.u);else{var U=d.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new En(null);A&&zt(H,A),m&&(H.g=m),U&&vs(H,U),v&&(H.h=v),A=H}return v=u.G,m=u.wa,v&&m&&Xe(A,v,m),Xe(A,"VER",u.ka),wr(u,A),A}function Iu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new We(new Si({ab:v})):new We(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}s=Cu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Is(){}Is.prototype.g=function(u,m){return new on(u,m)};function on(u,m){St.call(this),this.g=new ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Hi(this)}b(on,St),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Uo(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_s(u),u=v);m.i.push(new wt(m.Ya++,u)),m.I==3&&wi(m)},on.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,on.Z.N.call(this)};function Nu(u){Ht.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Nu,Ht);function Du(){Cn.call(this),this.status=1}b(Du,Cn);function Hi(u){this.g=u}b(Hi,Cu),Hi.prototype.ra=function(){kt(this.g,"a")},Hi.prototype.qa=function(u){kt(this.g,new Nu(u))},Hi.prototype.pa=function(u){kt(this.g,new Du)},Hi.prototype.oa=function(){kt(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,CT=function(){return new Is},IT=function(){return sa()},RT=yt,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Fc=yr,bo.COMPLETE="complete",wT=bo,lu.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",St.prototype.listen=St.prototype.J,Nl=lu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,bT=We}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let go="12.8.0";function eI(s){go=s}const $r=new Cm("@firebase/firestore");function Ga(){return $r.logLevel}function ue(s,...e){if($r.logLevel<=Pe.DEBUG){const i=e.map(jm);$r.debug(`Firestore (${go}): ${s}`,...i)}}function fs(s,...e){if($r.logLevel<=Pe.ERROR){const i=e.map(jm);$r.error(`Firestore (${go}): ${s}`,...i)}}function ro(s,...e){if($r.logLevel<=Pe.WARN){const i=e.map(jm);$r.warn(`Firestore (${go}): ${s}`,...i)}}function jm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ee(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,NT(s,r,i)}function NT(s,e,i){let r=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw fs(r),new Error(r)}function Qe(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||NT(e,l,r)}function Re(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends gs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class us{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class DT{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class nI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class iI{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Qe(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let c=new us;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new us,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new us)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new DT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class sI{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class rI{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new sI(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aI{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Qe(this.o===void 0,3512);const r=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Qe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Nv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function oI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=oI(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function Ue(s,e){return s<e?-1:s>e?1:0}function um(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return Xd(l)===Xd(c)?Ue(l,c):Xd(l)?1:-1}return Ue(s.length,e.length)}const lI=55296,uI=57343;function Xd(s){const e=s.charCodeAt(0);return e>=lI&&e<=uI}function ao(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const Dv="__name__";class xi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ee(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=xi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Ue(e.length,i.length)}static compareSegments(e,i){const r=xi.isNumericId(e),l=xi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?xi.extractNumericId(e).compare(xi.extractNumericId(i)):um(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rr.fromString(e.substring(4,e.length-2))}}class at extends xi{construct(e,i,r){return new at(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new at(i)}static emptyPath(){return new at([])}}const cI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends xi{construct(e,i,r){return new $t(e,i,r)}static isValidIdentifier(e){return cI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new $t([Dv])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ae($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ae($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ae($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(i)}static emptyPath(){return new $t([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(at.fromString(e))}static fromName(e){return new ye(at.fromString(e).popFirst(5))}static empty(){return new ye(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return at.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new at(e.slice()))}}function OT(s,e,i){if(!i)throw new ae($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function hI(s,e,i,r){if(e===!0&&r===!0)throw new ae($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ov(s){if(!ye.isDocumentKey(s))throw new ae($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function xv(s){if(ye.isDocumentKey(s))throw new ae($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function xT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Sh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function ds(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sh(s);throw new ae($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Vt(s,e){const i={typeString:s};return e&&(i.value=e),i}function eu(s,e){if(!xT(s))throw new ae($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ae($.INVALID_ARGUMENT,i);return!0}const Vv=-62135596800,Mv=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Mv);return new st(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Vv)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mv}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Vt("string",st._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new st(0,0))}static max(){return new be(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function fI(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=be.fromTimestamp(r===1e9?new st(i+1,0):new st(i,r));return new or(l,ye.empty(),e)}function dI(s){return new or(s.readTime,s.key,Bl)}class or{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new or(be.min(),ye.empty(),Bl)}static max(){return new or(be.max(),ye.empty(),Bl)}}function mI(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(s.documentKey,e.documentKey),i!==0?i:Ue(s.largestBatchId,e.largestBatchId))}const gI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function po(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==gI)throw s;ue("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(p=>r(p)))})),d=!0,c===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,l)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;i(e[_]).next((S=>{d[_]=S,++g,g===c&&r(d)}),(S=>l(S)))}}))}static doWhile(e,i){return new Z(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function yI(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yo(s){return s.name==="IndexedDbTransactionError"}class Ah{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ah.ce=-1;const Bm=-1;function bh(s){return s==null}function rh(s){return s===0&&1/s==-1/0}function _I(s){return typeof s=="number"&&Number.isInteger(s)&&!rh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const VT="";function vI(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=kv(e)),e=EI(s.get(i),e);return kv(e)}function EI(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case VT:i+="";break;default:i+=c}}return i}function kv(s){return s+VT+""}function Lv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Wr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function MT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ht{constructor(e,i){this.comparator=e,this.root=i||Xt.EMPTY}insert(e,i){return new ht(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??Xt.RED,this.left=l??Xt.EMPTY,this.right=c??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new Xt(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Xt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new Xt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Pt(this.comparator);return i.data=e,i}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ri{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new ri([])}unionWith(e){let i=new Pt($t.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ri(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class kT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new kT("Invalid base64 string: "+c):c}})(e);return new Jt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Jt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const TI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(s){if(Qe(!!s,39018),typeof s=="string"){let e=0;const i=TI.exec(s);if(Qe(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(s.seconds),nanos:Tt(s.nanos)}}function Tt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ur(s){return typeof s=="string"?Jt.fromBase64String(s):Jt.fromUint8Array(s)}const LT="server_timestamp",PT="__type__",UT="__previous_value__",jT="__local_write_time__";function qm(s){return(s?.mapValue?.fields||{})[PT]?.stringValue===LT}function wh(s){const e=s.mapValue.fields[UT];return qm(e)?wh(e):e}function ql(s){const e=lr(s.mapValue.fields[jT].timestampValue);return new st(e.seconds,e.nanos)}class SI{constructor(e,i,r,l,c,d,g,p,_,S,b){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=b}}const ah="(default)";class Hl{constructor(e,i){this.projectId=e,this.database=i||ah}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}function AI(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ae($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(s.options.projectId,e)}const zT="__type__",bI="__max__",Pc={mapValue:{}},BT="__vector__",oh="value";function cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?qm(s)?4:RI(s)?9007199254740991:wI(s)?10:11:Ee(28295,{value:s})}function Ui(s,e){if(s===e)return!0;const i=cr(s);if(i!==cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ql(s).isEqual(ql(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=lr(l.timestampValue),g=lr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return ur(l.bytesValue).isEqual(ur(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Tt(l.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(l.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Tt(l.integerValue)===Tt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Tt(l.doubleValue),g=Tt(c.doubleValue);return d===g?rh(d)===rh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return ao(s.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Lv(d)!==Lv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!Ui(d[p],g[p])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function Fl(s,e){return(s.values||[]).find((i=>Ui(i,e)))!==void 0}function oo(s,e){if(s===e)return 0;const i=cr(s),r=cr(e);if(i!==r)return Ue(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Tt(c.integerValue||c.doubleValue),p=Tt(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,e);case 3:return Uv(s.timestampValue,e.timestampValue);case 4:return Uv(ql(s),ql(e));case 5:return um(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=ur(c),p=ur(d);return g.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const S=Ue(g[_],p[_]);if(S!==0)return S}return Ue(g.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Ue(Tt(c.latitude),Tt(d.latitude));return g!==0?g:Ue(Tt(c.longitude),Tt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return jv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},p=d.fields||{},_=g[oh]?.arrayValue,S=p[oh]?.arrayValue,b=Ue(_?.values?.length||0,S?.values?.length||0);return b!==0?b:jv(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},S=Object.keys(_);p.sort(),S.sort();for(let b=0;b<p.length&&b<S.length;++b){const I=um(p[b],S[b]);if(I!==0)return I;const P=oo(g[p[b]],_[S[b]]);if(P!==0)return P}return Ue(p.length,S.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function Uv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const i=lr(s),r=lr(e),l=Ue(i.seconds,r.seconds);return l!==0?l:Ue(i.nanos,r.nanos)}function jv(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=oo(i[l],r[l]);if(c)return c}return Ue(i.length,r.length)}function lo(s){return cm(s)}function cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=lr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ur(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ye.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=cm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${cm(i.fields[d])}`;return l+"}"})(s.mapValue):Ee(61005,{value:s})}function Gc(s){switch(cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(s);return e?16+Gc(e):16;case 5:return 2*s.stringValue.length;case 6:return ur(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Gc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Wr(r.fields,((c,d)=>{l+=c.length+Gc(d)})),l})(s.mapValue);default:throw Ee(13486,{value:s})}}function zv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function hm(s){return!!s&&"integerValue"in s}function Hm(s){return!!s&&"arrayValue"in s}function Bv(s){return!!s&&"nullValue"in s}function qv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function wI(s){return(s?.mapValue?.fields||{})[zT]?.stringValue===BT}function kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Wr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=kl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=kl(s.arrayValue.values[i]);return e}return{...s}}function RI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===bI}class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(i)}setAll(e){let i=$t.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=kl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Yc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Wr(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new qn(kl(this.value))}}function qT(s){const e=[];return Wr(s.fields,((i,r)=>{const l=new $t([i]);if(Yc(r)){const c=qT(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new ri(e)}class tn{constructor(e,i,r,l,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new tn(e,0,be.min(),be.min(),be.min(),qn.empty(),0)}static newFoundDocument(e,i,r,l){return new tn(e,1,i,be.min(),r,l,0)}static newNoDocument(e,i){return new tn(e,2,i,be.min(),be.min(),qn.empty(),0)}static newUnknownDocument(e,i){return new tn(e,3,i,be.min(),be.min(),qn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(e,i){this.position=e,this.inclusive=i}}function Hv(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=ye.comparator(ye.fromName(d.referenceValue),i.key):r=oo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ui(s.position[i],e.position[i]))return!1;return!0}class Gl{constructor(e,i="asc"){this.field=e,this.dir=i}}function II(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class HT{}class xt extends HT{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new NI(e,i,r):i==="array-contains"?new xI(e,r):i==="in"?new VI(e,r):i==="not-in"?new MI(e,r):i==="array-contains-any"?new kI(e,r):new xt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new DI(e,r):new OI(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(oo(i,this.value)):i!==null&&cr(this.value)===cr(i)&&this.matchesComparison(oo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends HT{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ci(e,i)}matches(e){return FT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FT(s){return s.op==="and"}function GT(s){return CI(s)&&FT(s)}function CI(s){for(const e of s.filters)if(e instanceof ci)return!1;return!0}function fm(s){if(s instanceof xt)return s.field.canonicalString()+s.op.toString()+lo(s.value);if(GT(s))return s.filters.map((e=>fm(e))).join(",");{const e=s.filters.map((i=>fm(i))).join(",");return`${s.op}(${e})`}}function YT(s,e){return s instanceof xt?(function(r,l){return l instanceof xt&&r.op===l.op&&r.field.isEqual(l.field)&&Ui(r.value,l.value)})(s,e):s instanceof ci?(function(r,l){return l instanceof ci&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&YT(d,l.filters[g])),!0):!1})(s,e):void Ee(19439)}function KT(s){return s instanceof xt?(function(i){return`${i.field.canonicalString()} ${i.op} ${lo(i.value)}`})(s):s instanceof ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(KT).join(" ,")+"}"})(s):"Filter"}class NI extends xt{constructor(e,i,r){super(e,i,r),this.key=ye.fromName(r.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class DI extends xt{constructor(e,i){super(e,"in",i),this.keys=QT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class OI extends xt{constructor(e,i){super(e,"not-in",i),this.keys=QT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function QT(s,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class xI extends xt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Hm(i)&&Fl(i.arrayValue,this.value)}}class VI extends xt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Fl(this.value.arrayValue,i)}}class MI extends xt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fl(this.value.arrayValue,i)}}class kI extends xt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Fl(this.value.arrayValue,r)))}}class LI{constructor(e,i=null,r=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Gv(s,e=null,i=[],r=[],l=null,c=null,d=null){return new LI(s,e,i,r,l,c,d)}function Fm(s){const e=Re(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>fm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),bh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>lo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>lo(r))).join(",")),e.Te=i}return e.Te}function Gm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!II(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!YT(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Fv(s.startAt,e.startAt)&&Fv(s.endAt,e.endAt)}function dm(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _o{constructor(e,i=null,r=[],l=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function PI(s,e,i,r,l,c,d,g){return new _o(s,e,i,r,l,c,d,g)}function Ym(s){return new _o(s)}function Yv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function UI(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function XT(s){return s.collectionGroup!==null}function Ll(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Pt($t.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Gl(c,r))})),i.has($t.keyField().canonicalString())||e.Ie.push(new Gl($t.keyField(),r))}return e.Ie}function ki(s){const e=Re(s);return e.Ee||(e.Ee=jI(e,Ll(s))),e.Ee}function jI(s,e){if(s.limitType==="F")return Gv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Gl(l.field,c)}));const i=s.endAt?new lh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new lh(s.startAt.position,s.startAt.inclusive):null;return Gv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function mm(s,e){const i=s.filters.concat([e]);return new _o(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function zI(s,e){const i=s.explicitOrderBy.concat([e]);return new _o(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function gm(s,e,i){return new _o(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Rh(s,e){return Gm(ki(s),ki(e))&&s.limitType===e.limitType}function $T(s){return`${Fm(ki(s))}|lt:${s.limitType}`}function Ya(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>KT(l))).join(", ")}]`),bh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>lo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>lo(l))).join(",")),`Target(${r})`})(ki(s))}; limitType=${s.limitType})`}function Ih(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ye.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Ll(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,p){const _=Hv(d,g,p);return d.inclusive?_<=0:_<0})(r.startAt,Ll(r),l)||r.endAt&&!(function(d,g,p){const _=Hv(d,g,p);return d.inclusive?_>=0:_>0})(r.endAt,Ll(r),l))})(s,e)}function BI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function JT(s){return(e,i)=>{let r=!1;for(const l of Ll(s)){const c=qI(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function qI(s,e,i){const r=s.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?oo(p,_):Ee(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:s.dir})}}class Zr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Wr(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return MT(this.inner)}size(){return this.innerSize}}const HI=new ht(ye.comparator);function ms(){return HI}const WT=new ht(ye.comparator);function Dl(...s){let e=WT;for(const i of s)e=e.insert(i.key,i);return e}function ZT(s){let e=WT;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Fr(){return Pl()}function e0(){return Pl()}function Pl(){return new Zr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const FI=new ht(ye.comparator),GI=new Pt(ye.comparator);function je(...s){let e=GI;for(const i of s)e=e.add(i);return e}const YI=new Pt(Ue);function KI(){return YI}function Km(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function t0(s){return{integerValue:""+s}}function QI(s,e){return _I(e)?t0(e):Km(s,e)}class Ch{constructor(){this._=void 0}}function XI(s,e,i){return s instanceof uh?(function(l,c){const d={fields:{[PT]:{stringValue:LT},[jT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&qm(c)&&(c=wh(c)),c&&(d.fields[UT]=c),{mapValue:d}})(i,e):s instanceof Yl?i0(s,e):s instanceof Kl?s0(s,e):(function(l,c){const d=n0(l,c),g=Kv(d)+Kv(l.Ae);return hm(d)&&hm(l.Ae)?t0(g):Km(l.serializer,g)})(s,e)}function $I(s,e,i){return s instanceof Yl?i0(s,e):s instanceof Kl?s0(s,e):i}function n0(s,e){return s instanceof ch?(function(r){return hm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class uh extends Ch{}class Yl extends Ch{constructor(e){super(),this.elements=e}}function i0(s,e){const i=r0(e);for(const r of s.elements)i.some((l=>Ui(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Kl extends Ch{constructor(e){super(),this.elements=e}}function s0(s,e){let i=r0(e);for(const r of s.elements)i=i.filter((l=>!Ui(l,r)));return{arrayValue:{values:i}}}class ch extends Ch{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Kv(s){return Tt(s.integerValue||s.doubleValue)}function r0(s){return Hm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function JI(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Yl&&l instanceof Yl||r instanceof Kl&&l instanceof Kl?ao(r.elements,l.elements,Ui):r instanceof ch&&l instanceof ch?Ui(r.Ae,l.Ae):r instanceof uh&&l instanceof uh})(s.transform,e.transform)}class WI{constructor(e,i){this.version=e,this.transformResults=i}}class oi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Nh{}function a0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Qm(s.key,oi.none()):new tu(s.key,s.data,oi.none());{const i=s.data,r=qn.empty();let l=new Pt($t.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new ea(s.key,r,new ri(l.toArray()),oi.none())}}function ZI(s,e,i){s instanceof tu?(function(l,c,d){const g=l.value.clone(),p=Xv(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof ea?(function(l,c,d){if(!Kc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Xv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(o0(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ul(s,e,i,r){return s instanceof tu?(function(c,d,g,p){if(!Kc(c.precondition,d))return g;const _=c.value.clone(),S=$v(c.fieldTransforms,p,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof ea?(function(c,d,g,p){if(!Kc(c.precondition,d))return g;const _=$v(c.fieldTransforms,p,d),S=d.data;return S.setAll(o0(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,e,i,r):(function(c,d,g){return Kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function eC(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=n0(r.transform,l||null);c!=null&&(i===null&&(i=qn.empty()),i.set(r.field,c))}return i||null}function Qv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ao(r,l,((c,d)=>JI(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class tu extends Nh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ea extends Nh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function o0(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function Xv(s,e,i){const r=new Map;Qe(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);r.set(c.field,$I(d,g,i[l]))}return r}function $v(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,XI(c,d,e))}return r}class Qm extends Nh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tC extends Nh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nC{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&ZI(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Ul(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Ul(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=e0();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=a0(d,g);p!==null&&r.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),je())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,((i,r)=>Qv(i,r)))&&ao(this.baseMutations,e.baseMutations,((i,r)=>Qv(i,r)))}}class Xm{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return FI})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Xm(e,i,r,l)}}class iC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sC{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ot,Be;function rC(s){switch(s){case $.OK:return Ee(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function l0(s){if(s===void 0)return fs("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ot.OK:return $.OK;case Ot.CANCELLED:return $.CANCELLED;case Ot.UNKNOWN:return $.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return $.INTERNAL;case Ot.UNAVAILABLE:return $.UNAVAILABLE;case Ot.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ot.NOT_FOUND:return $.NOT_FOUND;case Ot.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ot.ABORTED:return $.ABORTED;case Ot.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ot.DATA_LOSS:return $.DATA_LOSS;default:return Ee(39323,{code:s})}}(Be=Ot||(Ot={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function aC(){return new TextEncoder}const oC=new rr([4294967295,4294967295],0);function Jv(s){const e=aC().encode(s),i=new AT;return i.update(e),new Uint8Array(i.digest())}function Wv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new rr([i,r],0),new rr([l,c],0)]}class $m{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ol(`Invalid padding: ${i}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=rr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(rr.fromNumber(r)));return l.compare(oC)===1&&(l=new rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Jv(e),[r,l]=Wv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $m(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Jv(e),[r,l]=Wv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Dh(be.min(),l,new ht(Ue),ms(),je())}}class nu{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new nu(r,i,je(),je(),je())}}class Qc{constructor(e,i,r,l){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=l}}class u0{constructor(e,i){this.targetId=e,this.Ce=i}}class c0{constructor(e,i,r=Jt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Zv{constructor(){this.ve=0,this.Fe=eE(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),i=je(),r=je();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Ee(38017,{changeType:c})}})),new nu(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=eE()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class lC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ms(),this.He=Uc(),this.Je=Uc(),this.Ze=new ht(Ue)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(dm(c))if(r===0){const d=new ye(c.path);this.et(i,d,tn.newNoDocument(d,be.min()))}else Qe(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),p=g?this.ct(g,e,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=ur(r).toUint8Array()}catch(p){if(p instanceof kT)return ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new $m(d,l,c)}catch(p){return ro(p instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&dm(g.target)){const p=new ye(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,tn.newNoDocument(p,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=je();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Dh(e,i,this.Ze,this.je,r);return this.je=ms(),this.He=Uc(),this.Je=Uc(),this.Ze=new ht(Ue),l}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Zv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Pt(Ue),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Pt(Ue),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Uc(){return new ht(ye.comparator)}function eE(){return new ht(ye.comparator)}const uC={asc:"ASCENDING",desc:"DESCENDING"},cC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hC={and:"AND",or:"OR"};class fC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function pm(s,e){return s.useProto3Json||bh(e)?e:{value:e}}function hh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function dC(s,e){return hh(s,e.toTimestamp())}function Li(s){return Qe(!!s,49232),be.fromTimestamp((function(i){const r=lr(i);return new st(r.seconds,r.nanos)})(s))}function Jm(s,e){return ym(s,e).canonicalString()}function ym(s,e){const i=(function(l){return new at(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function f0(s){const e=at.fromString(s);return Qe(y0(e),10190,{key:e.toString()}),e}function _m(s,e){return Jm(s.databaseId,e.path)}function $d(s,e){const i=f0(e);if(i.get(1)!==s.databaseId.projectId)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ye(m0(i))}function d0(s,e){return Jm(s.databaseId,e)}function mC(s){const e=f0(s);return e.length===4?at.emptyPath():m0(e)}function vm(s){return new at(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function m0(s){return Qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function tE(s,e,i){return{name:_m(s,e),fields:i.value.mapValue.fields}}function gC(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Qe(S===void 0||typeof S=="string",58123),Jt.fromBase64String(S||"")):(Qe(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Jt.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const S=_.code===void 0?$.UNKNOWN:l0(_.code);return new ae(S,_.message||"")})(d);i=new c0(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=$d(s,r.document.name),c=Li(r.document.updateTime),d=r.document.createTime?Li(r.document.createTime):be.min(),g=new qn({mapValue:{fields:r.document.fields}}),p=tn.newFoundDocument(l,c,d,g),_=r.targetIds||[],S=r.removedTargetIds||[];i=new Qc(_,S,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=$d(s,r.document),c=r.readTime?Li(r.readTime):be.min(),d=tn.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Qc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=$d(s,r.document),c=r.removedTargetIds||[];i=new Qc([],c,l,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new sC(l,c),g=r.targetId;i=new u0(g,d)}}return i}function pC(s,e){let i;if(e instanceof tu)i={update:tE(s,e.key,e.value)};else if(e instanceof Qm)i={delete:_m(s,e.key)};else if(e instanceof ea)i={update:tE(s,e.key,e.data),updateMask:wC(e.fieldMask)};else{if(!(e instanceof tC))return Ee(16599,{dt:e.type});i={verify:_m(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof uh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ch)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ee(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:dC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(s,e.precondition)),i}function yC(s,e){return s&&s.length>0?(Qe(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Li(l.updateTime):Li(c);return d.isEqual(be.min())&&(d=Li(c)),new WI(d,l.transformResults||[])})(i,e)))):[]}function _C(s,e){return{documents:[d0(s,e.path)]}}function vC(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=d0(s,l);const c=(function(_){if(_.length!==0)return p0(ci.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(I){return{field:Ka(I.field),direction:SC(I.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=pm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function EC(s){let e=mC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Qe(r===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(b){const I=g0(b);return I instanceof ci&&GT(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((I=>(function(Y){return new Gl(Qa(Y.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(I)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let I;return I=typeof b=="object"?b.value:b,bh(I)?null:I})(i.limit));let p=null;i.startAt&&(p=(function(b){const I=!!b.before,P=b.values||[];return new lh(P,I)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const I=!b.before,P=b.values||[];return new lh(P,I)})(i.endAt)),PI(e,l,d,c,g,"F",p,_)}function TC(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function g0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Qa(i.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return xt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return xt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(i){return xt.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ci.create(i.compositeFilter.filters.map((r=>g0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(s):Ee(30097,{filter:s})}function SC(s){return uC[s]}function AC(s){return cC[s]}function bC(s){return hC[s]}function Ka(s){return{fieldPath:s.canonicalString()}}function Qa(s){return $t.fromServerFormat(s.fieldPath)}function p0(s){return s instanceof xt?(function(i){if(i.op==="=="){if(qv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NAN"}};if(Bv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(qv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NAN"}};if(Bv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(i.field),op:AC(i.op),value:i.value}}})(s):s instanceof ci?(function(i){const r=i.getFilters().map((l=>p0(l)));return r.length===1?r[0]:{compositeFilter:{op:bC(i.op),filters:r}}})(s):Ee(54877,{filter:s})}function wC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function y0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function _0(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class tr{constructor(e,i,r,l,c=be.min(),d=be.min(),g=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RC{constructor(e){this.yt=e}}function IC(s){const e=EC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gm(e,e.limit,"L"):e}class CC{constructor(){this.Sn=new NC}addToCollectionParentIndex(e,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(or.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(or.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class NC{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Pt(at.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Pt(at.comparator)).toArray()}}const nE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},v0=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(v0,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class uo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new uo(0)}static ar(){return new uo(-1)}}const iE="LruGarbageCollector",DC=1048576;function sE([s,e],[i,r]){const l=Ue(s,i);return l===0?Ue(e,r):l}class OC{constructor(e){this.Pr=e,this.buffer=new Pt(sE),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();sE(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class xC{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(iE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){yo(i)?ue(iE,"Ignoring IndexedDB error during garbage collection: ",i):await po(i)}await this.Ar(3e5)}))}}class VC{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Ah.ce);const r=new OC(i);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(nE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nE):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,l,c,d,g,p,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(e,l)))).next((b=>(r=b,g=Date.now(),this.removeTargets(e,r,i)))).next((b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(_=Date.now(),Ga()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(_-p)+`ms
Total Duration: ${_-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function MC(s,e){return new VC(s,e)}class kC{constructor(){this.changes=new Zr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class PC{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Ul(r.mutation,l,ri.empty(),st.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=je()){const l=Fr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=Dl();return c.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Fr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,je())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,l){let c=ms();const d=Pl(),g=(function(){return Pl()})();return i.forEach(((p,_)=>{const S=r.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof ea)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Ul(S.mutation,_,S.mutation.getFieldMask(),st.now())):d.set(_.key,ri.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>g.set(_,new LC(S,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Pl();let l=new ht(((d,g)=>d-g)),c=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let S=r.get(p)||ri.empty();S=g.applyToLocalView(_,S),r.set(p,S);const b=(l.get(g.batchId)||je()).add(p);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,S=p.value,b=e0();S.forEach((I=>{if(!c.has(I)){const P=a0(i.get(I),r.get(I));P!==null&&b.set(I,P),c=c.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return UI(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):XT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):Z.resolve(Fr());let g=Bl,p=c;return d.next((_=>Z.forEach(_,((S,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(e,S).next((I=>{p=p.insert(S,I)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,p,_,je()))).next((S=>({batchId:g,changes:ZT(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((r=>{let l=Dl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(p=>{const _=(function(b,I){return new _o(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((S=>{S.forEach(((b,I)=>{d=d.insert(b,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((p,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,tn.newInvalidDocument(S)))}));let g=Dl();return d.forEach(((p,_)=>{const S=c.get(p);S!==void 0&&Ul(S.mutation,_,ri.empty(),st.now()),Ih(i,_)&&(g=g.insert(p,_))})),g}))}}class UC{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Li(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:IC(l.bundledQuery),readTime:Li(l.readTime)}})(i)),Z.resolve()}}class jC{constructor(){this.overlays=new ht(ye.comparator),this.Lr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Fr();return Z.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.bt(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const l=Fr(),c=i.length+1,d=new ye(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>r&&l.set(p.getKey(),p)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new ht(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let S=c.get(_.largestBatchId);S===null&&(S=Fr(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=Fr(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,S)=>g.set(_,S))),!(g.size()>=l)););return Z.resolve(g)}bt(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new iC(i,r));let c=this.Lr.get(i);c===void 0&&(c=je(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class zC{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Wm{constructor(){this.kr=new Pt(qt.Kr),this.qr=new Pt(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new qt(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new qt(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new ye(new at([])),r=new qt(i,e),l=new qt(i,e+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ye(new at([])),r=new qt(i,e),l=new qt(i,e+1);let c=je();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new qt(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ye.comparator(e.key,i.key)||Ue(e.Hr,i.Hr)}static Ur(e,i){return Ue(e.Hr,i.Hr)||ye.comparator(e.key,i.key)}}class BC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(qt.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new nC(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new qt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Bm:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new qt(i,0),l=new qt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Pt(Ue);return i.forEach((l=>{const c=new qt(l,0),d=new qt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{r=r.add(g.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;ye.isDocumentKey(c)||(c=c.child(""));const d=new qt(new ye(c),0);let g=new Pt(Ue);return this.Jr.forEachWhile((p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Hr)),!0)}),d),Z.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Qe(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(i.mutations,(l=>{const c=new qt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new qt(i,0),l=this.Jr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class qC{constructor(e){this.ti=e,this.docs=(function(){return new ht(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(e,i){let r=ms();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():tn.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=ms();const d=i.path,g=new ye(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:S}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||mI(dI(S),r)<=0||(l.has(S.key)||Ih(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,r,l){Ee(9500)}ni(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new HC(this)}getSize(e){return Z.resolve(this.size)}}class HC extends kC{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class FC{constructor(e){this.persistence=e,this.ri=new Zr((i=>Fm(i)),Gm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new Wm,this.targetCount=0,this.oi=uo._r()}forEachTarget(e,i){return this.ri.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),Z.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new uo(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.lr(i),Z.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this.si.containsKey(i))}}class E0{constructor(e,i){this._i={},this.overlays={},this.ai=new Ah(0),this.ui=!1,this.ui=!0,this.ci=new zC,this.referenceDelegate=e(this),this.li=new FC(this),this.indexManager=new CC,this.remoteDocumentCache=(function(l){return new qC(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new RC(i),this.Pi=new UC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new jC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new BC(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){ue("MemoryPersistence","Starting transaction:",e);const l=new GC(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class GC extends pI{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Ri=new Wm,this.Ai=null}static Vi(e){return new Zm(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const l=ye.fromPath(r);return this.mi(e,l).next((c=>{c||i.removeEntry(l,be.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class fh{constructor(e,i){this.persistence=e,this.fi=new Zr((r=>vI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=MC(this,i)}static Vi(e,i){return new fh(e,i)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return Z.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(r++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Gc(e.data.value)),i}wr(e,i,r){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class eg{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=l}static Es(e,i){let r=je(),l=je();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new eg(e,i.fromCache,r,l)}}class YC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class KC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return pb()?8:yI(nn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new YC;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,r,l){return r.documentReadCount<this.Vs?(Ga()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ya(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Ga()<=Pe.DEBUG&&ue("QueryEngine","Query:",Ya(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Ga()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ya(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(i))):Z.resolve())}gs(e,i){if(Yv(i))return Z.resolve(null);let r=ki(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gm(i,null,"F"),r=ki(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=je(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((p=>{const _=this.bs(i,g);return this.Ss(i,_,d,p.readTime)?this.gs(e,gm(i,null,"F")):this.Ds(e,_,i,p)}))))})))))}ps(e,i,r,l){return Yv(i)||l.isEqual(be.min())?Z.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,l)?Z.resolve(null):(Ga()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(i)),this.Ds(e,d,i,fI(l,Bl)).next((g=>g)))}))}bs(e,i){let r=new Pt(JT(e));return i.forEach(((l,c)=>{Ih(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,r){return Ga()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ya(i)),this.fs.getDocumentsMatchingQuery(e,i,or.min(),r)}Ds(e,i,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",QC=3e8;class XC{constructor(e,i,r,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new ht(Ue),this.Fs=new Zr((c=>Fm(c)),Gm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function $C(s,e,i,r){return new XC(s,e,i,r)}async function T0(s,e){const i=Re(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let p=je();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)p=p.add(S.key)}for(const _ of c){g.push(_.batchId);for(const S of _.mutations)p=p.add(S.key)}return i.localDocuments.getDocuments(r,p).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function JC(s,e){const i=Re(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,S){const b=_.batch,I=b.keys();let P=Z.resolve();return I.forEach((Y=>{P=P.next((()=>S.getEntry(p,Y))).next((B=>{const W=_.docVersions.get(Y);Qe(W!==null,48541),B.version.compareTo(W)<0&&(b.applyToRemoteDocument(B,_),B.isValidDocument()&&(B.setReadTime(_.commitVersion),S.addEntry(B)))}))})),P.next((()=>g.mutationQueue.removeMutationBatch(p,b)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=je();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function S0(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function WC(s,e){const i=Re(s),r=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];e.targetChanges.forEach(((S,b)=>{const I=l.get(b);if(!I)return;g.push(i.li.removeMatchingKeys(c,S.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,b))));let P=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(Jt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):S.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(S.resumeToken,r)),l=l.insert(b,P),(function(B,W,ne){return B.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=QC?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(I,P,S)&&g.push(i.li.updateTargetData(c,P))}));let p=ms(),_=je();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(ZC(c,d,e.documentUpdates).next((S=>{p=S.Bs,_=S.Ls}))),!r.isEqual(be.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(S)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.vs=l,c)))}function ZC(s,e,i){let r=je(),l=je();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=ms();return i.forEach(((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ue(tg,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{Bs:d,Ls:l}}))}function eN(s,e){const i=Re(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tN(s,e){const i=Re(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,e).next((c=>c?(l=c,Z.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new tr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Em(s,e,i){const r=Re(s),l=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!yo(d))throw d;ue(tg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function rE(s,e,i){const r=Re(s);let l=be.min(),c=je();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,S){const b=Re(p),I=b.Fs.get(S);return I!==void 0?Z.resolve(b.vs.get(I)):b.li.getTargetData(_,S)})(r,d,ki(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((p=>{c=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?l:be.min(),i?c:je()))).next((g=>(nN(r,BI(e),g),{documents:g,ks:c})))))}function nN(s,e,i){let r=s.Ms.get(e)||be.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class aE{constructor(){this.activeTargetIds=KI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iN{constructor(){this.vo=new aE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new aE,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sN{Mo(e){}shutdown(){}}const oE="ConnectivityMonitor";class lE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(oE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(oE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Tm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const Jd="RestConnection",rN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class aN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===ah?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,i,r,l,c){const d=Tm(),g=this.Qo(e,i.toUriEncodedString());ue(Jd,`Sending RPC '${e}' ${d}:`,g,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,l,c);const{host:_}=new URL(g),S=ho(_);return this.zo(e,g,p,r,S).then((b=>(ue(Jd,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw ro(Jd,`RPC '${e}' ${d} failed with error: `,b,"url: ",g,"request:",r),b}))}jo(e,i,r,l,c,d){return this.Wo(e,i,r,l,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const r=rN[e];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class oN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Zt="WebChannelConnection",wl=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class eo extends aN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!eo.c_){const e=IT();wl(e,RT.STAT_EVENT,(i=>{i.stat===lm.PROXY?ue(Zt,"STAT_EVENT: detected buffering proxy"):i.stat===lm.NOPROXY&&ue(Zt,"STAT_EVENT: detected no buffering proxy")})),eo.c_=!0}}zo(e,i,r,l,c){const d=Tm();return new Promise(((g,p)=>{const _=new bT;_.setWithCredentials(!0),_.listenOnce(wT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fc.NO_ERROR:const b=_.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),g(b);break;case Fc.TIMEOUT:ue(Zt,`RPC '${e}' ${d} timed out`),p(new ae($.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const I=_.getStatus();if(ue(Zt,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const Y=P?.error;if(Y&&Y.status&&Y.message){const B=(function(ne){const ce=ne.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ce)>=0?ce:$.UNKNOWN})(Y.status);p(new ae(B,Y.message))}else p(new ae($.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ae($.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ue(Zt,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(l);ue(Zt,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",S,r,15)}))}T_(e,i,r){const l=Tm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const _=c.join("");ue(Zt,`Creating RPC '${e}' stream ${l}: ${_}`,g);const S=d.createWebChannel(_,g);this.I_(S);let b=!1,I=!1;const P=new oN({Ho:Y=>{I?ue(Zt,`Not sending because RPC '${e}' stream ${l} is closed:`,Y):(b||(ue(Zt,`Opening RPC '${e}' stream ${l} transport.`),S.open(),b=!0),ue(Zt,`RPC '${e}' stream ${l} sending:`,Y),S.send(Y))},Jo:()=>S.close()});return wl(S,Nl.EventType.OPEN,(()=>{I||(ue(Zt,`RPC '${e}' stream ${l} transport opened.`),P.i_())})),wl(S,Nl.EventType.CLOSE,(()=>{I||(I=!0,ue(Zt,`RPC '${e}' stream ${l} transport closed`),P.o_(),this.E_(S))})),wl(S,Nl.EventType.ERROR,(Y=>{I||(I=!0,ro(Zt,`RPC '${e}' stream ${l} transport errored. Name:`,Y.name,"Message:",Y.message),P.o_(new ae($.UNAVAILABLE,"The operation could not be completed")))})),wl(S,Nl.EventType.MESSAGE,(Y=>{if(!I){const B=Y.data[0];Qe(!!B,16349);const W=B,ne=W?.error||W[0]?.error;if(ne){ue(Zt,`RPC '${e}' stream ${l} received error:`,ne);const ce=ne.status;let fe=(function(oe){const R=Ot[oe];if(R!==void 0)return l0(R)})(ce),Oe=ne.message;fe===void 0&&(fe=$.INTERNAL,Oe="Unknown error status: "+ce+" with message "+ne.message),I=!0,P.o_(new ae(fe,Oe)),S.close()}else ue(Zt,`RPC '${e}' stream ${l} received:`,B),P.__(B)}})),eo.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return CT()}}function lN(s){return new eo(s)}function Wd(){return typeof document<"u"?document:null}function Oh(s){return new fC(s,!0)}eo.c_=!1;class A0{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const uE="PersistentStream";class b0{constructor(e,i,r,l,c,d,g,p){this.Ci=e,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new A0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(fs(i.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ae($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(uE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ue(uE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uN extends b0{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=gC(this.serializer,e),r=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Li(d.readTime):be.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=vm(this.serializer),i.addTarget=(function(c,d){let g;const p=d.target;if(g=dm(p)?{documents:_C(c,p)}:{query:vC(c,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=h0(c,d.resumeToken);const _=pm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(be.min())>0){g.readTime=hh(c,d.snapshotVersion.toTimestamp());const _=pm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=TC(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=vm(this.serializer),i.removeTarget=e,this.K_(i)}}class cN extends b0{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=yC(e.writeResults,e.commitTime),r=Li(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=vm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>pC(this.serializer,r)))};this.K_(i)}}class hN{}class fN extends hN{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,ym(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae($.UNKNOWN,c.toString())}))}jo(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,ym(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function dN(s,e,i,r){return new fN(s,e,i,r)}class mN{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class gN{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ta(this)&&(ue(Jr,"Restarting streams for network reachability change."),await(async function(p){const _=Re(p);_.Ea.add(4),await iu(_),_.Va.set("Unknown"),_.Ea.delete(4),await xh(_)})(this))}))})),this.Va=new mN(r,l)}}async function xh(s){if(ta(s))for(const e of s.Ra)await e(!0)}async function iu(s){for(const e of s.Ra)await e(!1)}function w0(s,e){const i=Re(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),rg(i)?sg(i):vo(i).O_()&&ig(i,e))}function ng(s,e){const i=Re(s),r=vo(i);i.Ia.delete(e),r.O_()&&R0(i,e),i.Ia.size===0&&(r.O_()?r.L_():ta(i)&&i.Va.set("Unknown"))}function ig(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}vo(s).Z_(e)}function R0(s,e){s.da.$e(e),vo(s).X_(e)}function sg(s){s.da=new lC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),vo(s).start(),s.Va.ua()}function rg(s){return ta(s)&&!vo(s).x_()&&s.Ia.size>0}function ta(s){return Re(s).Ea.size===0}function I0(s){s.da=void 0}async function pN(s){s.Va.set("Online")}async function yN(s){s.Ia.forEach(((e,i)=>{ig(s,e)}))}async function _N(s,e){I0(s),rg(s)?(s.Va.ha(e),sg(s)):s.Va.set("Unknown")}async function vN(s,e,i){if(s.Va.set("Online"),e instanceof c0&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,e)}catch(r){ue(Jr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dh(s,r)}else if(e instanceof Qc?s.da.Xe(e):e instanceof u0?s.da.st(e):s.da.tt(e),!i.isEqual(be.min()))try{const r=await S0(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,_)=>{const S=c.Ia.get(p);if(!S)return;c.Ia.set(p,S.withResumeToken(Jt.EMPTY_BYTE_STRING,S.snapshotVersion)),R0(c,p);const b=new tr(S.target,p,_,S.sequenceNumber);ig(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ue(Jr,"Failed to raise snapshot:",r),await dh(s,r)}}async function dh(s,e,i){if(!yo(e))throw e;s.Ea.add(1),await iu(s),s.Va.set("Offline"),i||(i=()=>S0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(Jr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await xh(s)}))}function C0(s,e){return e().catch((i=>dh(s,i,e)))}async function Vh(s){const e=Re(s),i=hr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bm;for(;EN(e);)try{const l=await eN(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,TN(e,l)}catch(l){await dh(e,l)}N0(e)&&D0(e)}function EN(s){return ta(s)&&s.Ta.length<10}function TN(s,e){s.Ta.push(e);const i=hr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function N0(s){return ta(s)&&!hr(s).x_()&&s.Ta.length>0}function D0(s){hr(s).start()}async function SN(s){hr(s).ra()}async function AN(s){const e=hr(s);for(const i of s.Ta)e.ea(i.mutations)}async function bN(s,e,i){const r=s.Ta.shift(),l=Xm.from(r,e,i);await C0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Vh(s)}async function wN(s,e){e&&hr(s).Y_&&await(async function(r,l){if((function(d){return rC(d)&&d!==$.ABORTED})(l.code)){const c=r.Ta.shift();hr(r).B_(),await C0(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Vh(r)}})(s,e),N0(s)&&D0(s)}async function cE(s,e){const i=Re(s);i.asyncQueue.verifyOperationInProgress(),ue(Jr,"RemoteStore received new credentials");const r=ta(i);i.Ea.add(3),await iu(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await xh(i)}async function RN(s,e){const i=Re(s);e?(i.Ea.delete(2),await xh(i)):e||(i.Ea.add(2),await iu(i),i.Va.set("Unknown"))}function vo(s){return s.ma||(s.ma=(function(i,r,l){const c=Re(i);return c.sa(),new uN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:pN.bind(null,s),Yo:yN.bind(null,s),t_:_N.bind(null,s),J_:vN.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),rg(s)?sg(s):s.Va.set("Unknown")):(await s.ma.stop(),I0(s))}))),s.ma}function hr(s){return s.fa||(s.fa=(function(i,r,l){const c=Re(i);return c.sa(),new cN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:SN.bind(null,s),t_:wN.bind(null,s),ta:AN.bind(null,s),na:bN.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Vh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(Jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ag{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,g=new ag(e,i,d,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(s,e){if(fs("AsyncQueue",`${e}: ${s}`),yo(s))return new ae($.UNAVAILABLE,`${e}: ${s}`);throw s}class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ye.comparator(i.key,r.key):(i,r)=>ye.comparator(i.key,r.key),this.keyedMap=Dl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new to;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class hE{constructor(){this.ga=new ht(ye.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class co{constructor(e,i,r,l,c,d,g,p,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new co(e,i,to.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class IN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class CN{constructor(){this.queries=fE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Re(i),c=l.queries;l.queries=fE(),c.forEach(((d,g)=>{for(const p of g.ba)p.onError(r)}))})(this,new ae($.ABORTED,"Firestore shutting down"))}}function fE(){return new Zr((s=>$T(s)),Rh)}async function O0(s,e){const i=Re(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(r=2):(c=new IN,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=og(d,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&lg(i)}async function x0(s,e){const i=Re(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function NN(s,e){const i=Re(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(r=!0);d.wa=l}}r&&lg(i)}function DN(s,e,i){const r=Re(s),l=r.queries.get(e);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(e)}function lg(s){s.Ca.forEach((e=>{e.next()}))}var Sm,dE;(dE=Sm||(Sm={})).Ma="default",dE.Cache="cache";class V0{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sm.Cache}}class M0{constructor(e){this.key=e}}class k0{constructor(e){this.key=e}}class ON{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=JT(e),this.tu=new to(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new hE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,b)=>{const I=l.get(S),P=Ih(this.query,b)?b:null,Y=!!I&&this.mutatedKeys.has(I.key),B=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let W=!1;I&&P?I.data.isEqual(P.data)?Y!==B&&(r.track({type:3,doc:P}),W=!0):this.su(I,P)||(r.track({type:2,doc:P}),W=!0,(p&&this.eu(P,p)>0||_&&this.eu(P,_)<0)&&(g=!0)):!I&&P?(r.track({type:0,doc:P}),W=!0):I&&!P&&(r.track({type:1,doc:I}),W=!0,(p||_)&&(g=!0)),W&&(P?(d=d.add(P),c=B?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,b)=>(function(P,Y){const B=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:W})}};return B(P)-B(Y)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],p=this.Ya.size===0&&this.current&&!l?1:0,_=p!==this.Xa;return this.Xa=p,d.length!==0||_?{snapshot:new co(this.query,e.tu,c,d,e.mutatedKeys,p===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new k0(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new M0(r))})),i}cu(e){this.Za=e.ks,this.Ya=je();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ug="SyncEngine";class xN{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class VN{constructor(e){this.key=e,this.hu=!1}}class MN{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Zr((g=>$T(g)),Rh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(ye.comparator),this.Au=new Map,this.Vu=new Wm,this.du={},this.mu=new Map,this.fu=uo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kN(s,e,i=!0){const r=B0(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await L0(r,e,i,!0),l}async function LN(s,e){const i=B0(s);await L0(i,e,!0,!1)}async function L0(s,e,i,r){const l=await tN(s.localStore,ki(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await PN(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&w0(s.remoteStore,l),g}async function PN(s,e,i,r,l){s.pu=(b,I,P)=>(async function(B,W,ne,ce){let fe=W.view.ru(ne);fe.Ss&&(fe=await rE(B.localStore,W.query,!1).then((({documents:R})=>W.view.ru(R,fe))));const Oe=ce&&ce.targetChanges.get(W.targetId),Ne=ce&&ce.targetMismatches.get(W.targetId)!=null,oe=W.view.applyChanges(fe,B.isPrimaryClient,Oe,Ne);return gE(B,W.targetId,oe.au),oe.snapshot})(s,b,I,P);const c=await rE(s.localStore,e,!0),d=new ON(e,c.ks),g=d.ru(c.documents),p=nu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,p);gE(s,i,_.au);const S=new xN(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function UN(s,e,i){const r=Re(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Rh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Em(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&ng(r.remoteStore,l.targetId),Am(r,l.targetId)})).catch(po)):(Am(r,l.targetId),await Em(r.localStore,l.targetId,!0))}async function jN(s,e){const i=Re(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),ng(i.remoteStore,r.targetId))}async function zN(s,e,i){const r=KN(s);try{const l=await(function(d,g){const p=Re(d),_=st.now(),S=g.reduce(((P,Y)=>P.add(Y.key)),je());let b,I;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let Y=ms(),B=je();return p.xs.getEntries(P,S).next((W=>{Y=W,Y.forEach(((ne,ce)=>{ce.isValidDocument()||(B=B.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,Y))).next((W=>{b=W;const ne=[];for(const ce of g){const fe=eC(ce,b.get(ce.key).overlayedDocument);fe!=null&&ne.push(new ea(ce.key,fe,qT(fe.value.mapValue),oi.exists(!0)))}return p.mutationQueue.addMutationBatch(P,_,ne,g)})).next((W=>{I=W;const ne=W.applyToLocalDocumentSet(b,B);return p.documentOverlayCache.saveOverlays(P,W.batchId,ne)}))})).then((()=>({batchId:I.batchId,changes:ZT(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let _=d.du[d.currentUser.toKey()];_||(_=new ht(Ue)),_=_.insert(g,p),d.du[d.currentUser.toKey()]=_})(r,l.batchId,i),await su(r,l.changes),await Vh(r.remoteStore)}catch(l){const c=og(l,"Failed to persist write");i.reject(c)}}async function P0(s,e){const i=Re(s);try{const r=await WC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qe(d.hu,14607):l.removedDocuments.size>0&&(Qe(d.hu,42227),d.hu=!1))})),await su(i,r,e)}catch(r){await po(r)}}function mE(s,e,i){const r=Re(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=Re(d);p.onlineState=g;let _=!1;p.queries.forEach(((S,b)=>{for(const I of b.ba)I.va(g)&&(_=!0)})),_&&lg(p)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BN(s,e,i){const r=Re(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new ht(ye.comparator);d=d.insert(c,tn.newNoDocument(c,be.min()));const g=je().add(c),p=new Dh(be.min(),new Map,new ht(Ue),d,g);await P0(r,p),r.Ru=r.Ru.remove(c),r.Au.delete(e),cg(r)}else await Em(r.localStore,e,!1).then((()=>Am(r,e,i))).catch(po)}async function qN(s,e){const i=Re(s),r=e.batch.batchId;try{const l=await JC(i.localStore,e);j0(i,r,null),U0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await su(i,l)}catch(l){await po(l)}}async function HN(s,e,i){const r=Re(s);try{const l=await(function(d,g){const p=Re(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return p.mutationQueue.lookupMutationBatch(_,g).next((b=>(Qe(b!==null,37113),S=b.keys(),p.mutationQueue.removeMutationBatch(_,b)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,S,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>p.localDocuments.getDocuments(_,S)))}))})(r.localStore,e);j0(r,e,i),U0(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await su(r,l)}catch(l){await po(l)}}function U0(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function j0(s,e,i){const r=Re(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function Am(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||z0(s,r)}))}function z0(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(ng(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),cg(s))}function gE(s,e,i){for(const r of i)r instanceof M0?(s.Vu.addReference(r.key,e),FN(s,r)):r instanceof k0?(ue(ug,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||z0(s,r.key)):Ee(19791,{wu:r})}function FN(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(ue(ug,"New document in limbo: "+i),s.Eu.add(r),cg(s))}function cg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ye(at.fromString(e)),r=s.fu.next();s.Au.set(r,new VN(i)),s.Ru=s.Ru.insert(i,r),w0(s.remoteStore,new tr(ki(Ym(i.path)),r,"TargetPurposeLimboResolution",Ah.ce))}}async function su(s,e,i){const r=Re(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{d.push(r.pu(p,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(_){l.push(_);const S=eg.Es(p.targetId,_);c.push(S)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(p,_){const S=Re(p);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(_,(I=>Z.forEach(I.Ts,(P=>S.persistence.referenceDelegate.addReference(b,I.targetId,P))).next((()=>Z.forEach(I.Is,(P=>S.persistence.referenceDelegate.removeReference(b,I.targetId,P)))))))))}catch(b){if(!yo(b))throw b;ue(tg,"Failed to update sequence numbers: "+b)}for(const b of _){const I=b.targetId;if(!b.fromCache){const P=S.vs.get(I),Y=P.snapshotVersion,B=P.withLastLimboFreeSnapshotVersion(Y);S.vs=S.vs.insert(I,B)}}})(r.localStore,c))}async function GN(s,e){const i=Re(s);if(!i.currentUser.isEqual(e)){ue(ug,"User change. New user:",e.toKey());const r=await T0(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new ae($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await su(i,r.Ns)}}function YN(s,e){const i=Re(s),r=i.Au.get(e);if(r&&r.hu)return je().add(r.key);{let l=je();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function B0(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=P0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BN.bind(null,e),e.Pu.J_=NN.bind(null,e.eventManager),e.Pu.yu=DN.bind(null,e.eventManager),e}function KN(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HN.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return $C(this.persistence,new KC,e.initialUser,this.serializer)}Cu(e){return new E0(Zm.Vi,this.serializer)}Du(e){return new iN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class QN extends mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Qe(this.persistence.referenceDelegate instanceof fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xC(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new E0((r=>fh.Vi(r,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GN.bind(null,this.syncEngine),await RN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CN})()}createDatastore(e){const i=Oh(e.databaseInfo.databaseId),r=lN(e.databaseInfo);return dN(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,g){return new gN(r,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>mE(this.syncEngine,i,0)),(function(){return lE.v()?new lE:new sN})())}createSyncEngine(e,i){return(function(l,c,d,g,p,_,S){const b=new MN(l,c,d,g,p,_);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Re(i);ue(Jr,"RemoteStore shutting down."),r.Ea.add(5),await iu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class q0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const fr="FirestoreClient";class XN{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ue(fr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ue(fr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=og(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Zd(s,e){s.asyncQueue.verifyOperationInProgress(),ue(fr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await T0(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function pE(s,e){s.asyncQueue.verifyOperationInProgress();const i=await $N(s);ue(fr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>cE(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>cE(e.remoteStore,l))),s._onlineComponents=e}async function $N(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(fr,"Using user provided OfflineComponentProvider");try{await Zd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ro("Error using user provided cache. Falling back to memory cache: "+i),await Zd(s,new mh)}}else ue(fr,"Using default OfflineComponentProvider"),await Zd(s,new QN(void 0));return s._offlineComponents}async function H0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(fr,"Using user provided OnlineComponentProvider"),await pE(s,s._uninitializedComponentsProvider._online)):(ue(fr,"Using default OnlineComponentProvider"),await pE(s,new bm))),s._onlineComponents}function JN(s){return H0(s).then((e=>e.syncEngine))}async function F0(s){const e=await H0(s),i=e.eventManager;return i.onListen=kN.bind(null,e.syncEngine),i.onUnlisten=UN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=LN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=jN.bind(null,e.syncEngine),i}function WN(s,e,i={}){const r=new us;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,p,_){const S=new q0({next:I=>{S.Nu(),d.enqueueAndForget((()=>x0(c,b)));const P=I.docs.has(g);!P&&I.fromCache?_.reject(new ae($.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&I.fromCache&&p&&p.source==="server"?_.reject(new ae($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),b=new V0(Ym(g.path),S,{includeMetadataChanges:!0,Ka:!0});return O0(c,b)})(await F0(s),s.asyncQueue,e,i,r))),r.promise}function ZN(s,e,i={}){const r=new us;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,p,_){const S=new q0({next:I=>{S.Nu(),d.enqueueAndForget((()=>x0(c,b))),I.fromCache&&p.source==="server"?_.reject(new ae($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),b=new V0(g,S,{includeMetadataChanges:!0,Ka:!0});return O0(c,b)})(await F0(s),s.asyncQueue,e,i,r))),r.promise}function eD(s,e){const i=new us;return s.asyncQueue.enqueueAndForget((async()=>zN(await JN(s),e,i))),i.promise}function G0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const tD="ComponentProvider",yE=new Map;function nD(s,e,i,r,l){return new SI(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,G0(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const Y0="firestore.googleapis.com",_E=!0;class vE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y0,this.ssl=_E}else this.host=e.host,this.ssl=e.ssl??_E;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=v0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DC)throw new ae($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tI;switch(r.type){case"firstParty":return new rI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=yE.get(i);r&&(ue(tD,"Removing Datastore"),yE.delete(i),r.terminate())})(this),Promise.resolve()}}function iD(s,e,i,r={}){s=ds(s,Mh);const l=ho(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(kE(`https://${g}`),LE("Firestore",!0)),c.host!==Y0&&c.host!==g&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:l,emulatorOptions:r};if(!Yr(p,d)&&(s._setSettings(p),r.mockUserToken)){let _,S;if(typeof r.mockUserToken=="string")_=r.mockUserToken,S=en.MOCK_USER;else{_=ob(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ae($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new en(b)}s._authCredentials=new nI(new DT(_,S))}}class na{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class Mt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(eu(i,Mt._jsonSchema))return new Mt(e,r||null,new ye(at.fromString(i.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Vt("string",Mt._jsonSchemaVersion),referencePath:Vt("string")};class ar extends na{constructor(e,i,r){super(e,i,Ym(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ye(e))}withConverter(e){return new ar(this.firestore,e,this._path)}}function ai(s,e,...i){if(s=sn(s),OT("collection","path",e),s instanceof Mh){const r=at.fromString(e,...i);return xv(r),new ar(s,null,r)}{if(!(s instanceof Mt||s instanceof ar))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(at.fromString(e,...i));return xv(r),new ar(s.firestore,null,r)}}function Fn(s,e,...i){if(s=sn(s),arguments.length===1&&(e=zm.newId()),OT("doc","path",e),s instanceof Mh){const r=at.fromString(e,...i);return Ov(r),new Mt(s,null,new ye(r))}{if(!(s instanceof Mt||s instanceof ar))throw new ae($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(at.fromString(e,...i));return Ov(r),new Mt(s.firestore,s instanceof ar?s.converter:null,new ye(r))}}const EE="AsyncQueue";class TE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new A0(this,"async_queue_retry"),this._c=()=>{const r=Wd();r&&ue(EE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Wd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Wd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!yo(e))throw e;ue(EE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",SE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ag.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:SE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function SE(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Eo extends Mh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new TE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TE(e),this._firestoreClient=void 0,await e}}}function sD(s,e){const i=typeof s=="object"?s:zE(),r=typeof s=="string"?s:ah,l=Dm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=rb("firestore");c&&iD(l,...c)}return l}function hg(s){if(s._terminated)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||rD(s),s._firestoreClient}function rD(s){const e=s._freezeSettings(),i=nD(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new XN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Jt.fromBase64String(e))}catch(i){throw new ae($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Hn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Vt("string",Hn._jsonSchemaVersion),bytes:Vt("string")};class K0{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ae($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Q0{constructor(e){this._methodName=e}}class Pi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ae($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ae($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(eu(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Vt("string",Pi._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class li{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new li(e.vectorValues);throw new ae($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Vt("string",li._jsonSchemaVersion),vectorValues:Vt("object")};const aD=/^__.*__$/;class oD{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,i,this.fieldTransforms):new tu(e,this.data,i,this.fieldTransforms)}}function X0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:s})}}class fg{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new fg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(X0(this.dataSource)&&aD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class lD{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Oh(e)}createContext(e,i,r,l=!1){return new fg({dataSource:e,methodName:i,targetDoc:r,path:$t.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dg(s){const e=s._freezeSettings(),i=Oh(s._databaseId);return new lD(s._databaseId,!!e.ignoreUndefinedProperties,i)}function $0(s,e,i,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);Z0("Data must be an object, but it was:",d,r);const g=J0(r,d);let p,_;if(c.merge)p=new ri(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const I=kh(e,b,i);if(!d.contains(I))throw new ae($.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);fD(S,I)||S.push(I)}p=new ri(S),_=d.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,_=d.fieldTransforms;return new oD(new qn(g),p,_)}function uD(s,e,i,r=!1){return mg(i,s.createContext(r?4:3,e))}function mg(s,e){if(W0(s=sn(s)))return Z0("Unsupported field value:",e,s),J0(s,e);if(s instanceof Q0)return(function(r,l){if(!X0(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let p=mg(g,l.childContextForArray(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=st.fromDate(r);return{timestampValue:hh(l.serializer,c)}}if(r instanceof st){const c=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hh(l.serializer,c)}}if(r instanceof Pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:h0(l.serializer,r._byteString)};if(r instanceof Mt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Jm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof li)return(function(d,g){const p=d instanceof li?d.toArray():d;return{mapValue:{fields:{[zT]:{stringValue:BT},[oh]:{arrayValue:{values:p.map((S=>{if(typeof S!="number")throw g.createError("VectorValues must only contain numeric values.");return Km(g.serializer,S)}))}}}}}})(r,l);if(_0(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Sh(r)}`)})(s,e)}function J0(s,e){const i={};return MT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(s,((r,l)=>{const c=mg(l,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function W0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof st||s instanceof Pi||s instanceof Hn||s instanceof Mt||s instanceof Q0||s instanceof li||_0(s))}function Z0(s,e,i){if(!W0(i)||!xT(i)){const r=Sh(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function kh(s,e,i){if((e=sn(e))instanceof K0)return e._internalPath;if(typeof e=="string")return hD(s,e);throw gh("Field path arguments must be of type string or ",s,!1,void 0,i)}const cD=new RegExp("[~\\*/\\[\\]]");function hD(s,e,i){if(e.search(cD)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new K0(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function gh(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${r}`),d&&(p+=` in document ${l}`),p+=")"),new ae($.INVALID_ARGUMENT,g+s+p)}function fD(s,e){return s.some((i=>i.isEqual(e)))}class dD{convertValue(e,i="none"){switch(cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Wr(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[oh].arrayValue?.values?.map((r=>Tt(r.doubleValue)));return new li(i)}convertGeoPoint(e){return new Pi(Tt(e.latitude),Tt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=wh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const i=lr(e);return new st(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=at.fromString(e);Qe(y0(r),9688,{name:e});const l=new Hl(r.get(1),r.get(3)),c=new ye(r.popFirst(5));return l.isEqual(i)||fs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class eS extends dD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,i)}}const AE="@firebase/firestore",bE="4.10.0";class tS{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(kh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class mD extends tS{data(){return super.data()}}function gD(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class nS extends gg{}function ph(s,e,...i){let r=[];e instanceof gg&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((p=>p instanceof yg)).length,g=c.filter((p=>p instanceof pg)).length;if(d>1||d>0&&g>0)throw new ae($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class pg extends nS{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new pg(e,i,r)}_apply(e){const i=this._parse(e);return iS(e._query,i),new na(e.firestore,e.converter,mm(e._query,i))}_parse(e){const i=dg(e.firestore);return(function(c,d,g,p,_,S,b){let I;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new ae($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){RE(b,S);const Y=[];for(const B of b)Y.push(wE(p,c,B));I={arrayValue:{values:Y}}}else I=wE(p,c,b)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||RE(b,S),I=uD(g,d,b,S==="in"||S==="not-in");return xt.create(_,S,I)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class yg extends gg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new yg(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ci.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)iS(d,p),d=mm(d,p)})(e._query,i),new na(e.firestore,e.converter,mm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _g extends nS{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new _g(e,i)}_apply(e){const i=(function(l,c,d){if(l.startAt!==null)throw new ae($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ae($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(c,d)})(e._query,this._field,this._direction);return new na(e.firestore,e.converter,zI(e._query,i))}}function yh(s,e="asc"){const i=e,r=kh("orderBy",s);return _g._create(r,i)}function wE(s,e,i){if(typeof(i=sn(i))=="string"){if(i==="")throw new ae($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XT(e)&&i.indexOf("/")!==-1)throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(at.fromString(i));if(!ye.isDocumentKey(r))throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zv(s,new ye(r))}if(i instanceof Mt)return zv(s,i._key);throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(i)}.`)}function RE(s,e){if(!Array.isArray(s)||s.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iS(s,e){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ae($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function sS(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class xl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gr extends tS{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(kh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:Vt("string",Gr._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Xc extends Gr{data(e={}){return super.data(e)}}class no{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new xl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Xc(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ae($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new Xc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new xl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new Xc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new xl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:pD(g.type),doc:p,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=no._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Vt("string",no._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};function rS(s){s=ds(s,Mt);const e=ds(s.firestore,Eo),i=hg(e);return WN(i,s._key).then((r=>yD(e,s,r)))}function os(s){s=ds(s,na);const e=ds(s.firestore,Eo),i=hg(e),r=new eS(e);return gD(s._query),ZN(i,s._query).then((l=>new no(e,r,s,l)))}function wm(s,e,i){s=ds(s,Mt);const r=ds(s.firestore,Eo),l=sS(s.converter,e,i),c=dg(r);return vg(r,[$0(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,oi.none())])}function $a(s){return vg(ds(s.firestore,Eo),[new Qm(s._key,oi.none())])}function aS(s,e){const i=ds(s.firestore,Eo),r=Fn(s),l=sS(s.converter,e),c=dg(s.firestore);return vg(i,[$0(c,"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,oi.exists(!1))]).then((()=>r))}function vg(s,e){const i=hg(s);return eD(i,e)}function yD(s,e,i){const r=i.docs.get(e._key),l=new eS(s);return new Gr(s,l,e._key,r,new xl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){eI(fo),io(new Kr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new Eo(new iI(r.getProvider("auth-internal")),new aI(d,r.getProvider("app-check-internal")),AI(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),sr(AE,bE,e),sr(AE,bE,"esm2020")})();var _D="firebase",vD="12.8.0";sr(_D,vD,"app");const ED={apiKey:"AIzaSyDEDUYhSHIIliMaTEM0YuZA33ZvQjS2OaE",authDomain:"fitness-tracker-31833.firebaseapp.com",projectId:"fitness-tracker-31833",storageBucket:"fitness-tracker-31833.firebasestorage.app",messagingSenderId:"632317219909",appId:"1:632317219909:web:4f8a33914ac00bd5d37f2c"},oS=jE(ED),Rl=WR(oS),mt=sD(oS),lS=pe.createContext();function ia(){return pe.useContext(lS)}function TD({children:s}){const[e,i]=pe.useState(null),[r,l]=pe.useState(null),[c,d]=pe.useState(!0);async function g(Y,B,W){const ne=await M1(Rl,Y,B);await P1(ne.user,{displayName:W});const ce=Fn(mt,"users",ne.user.uid),fe={displayName:W,email:Y,createdAt:new Date().toISOString(),settings:{name:W,weight:"",height:"",calorieGoal:2e3,proteinGoal:150,workoutDaysGoal:4,weightUnit:"lbs",heightUnit:"in",theme:"dark"}};return await wm(ce,fe),l(fe),ne}function p(Y,B){return k1(Rl,Y,B)}function _(){return l(null),B1(Rl)}function S(Y){return V1(Rl,Y)}async function b(Y){const B=Fn(mt,"users",Y),W=await rS(B);if(W.exists()){const ne=W.data();return l(ne),ne}return null}async function I(Y){if(!e)return;const B=Fn(mt,"users",e.uid);await wm(B,Y,{merge:!0}),l(W=>({...W,...Y}))}pe.useEffect(()=>z1(Rl,async B=>{i(B),B?await b(B.uid):l(null),d(!1)}),[]);const P={currentUser:e,userProfile:r,signup:g,login:p,logout:_,resetPassword:S,updateUserProfile:I,fetchUserProfile:b};return E.jsx(lS.Provider,{value:P,children:!c&&s})}async function Lh(s){const e=await rS(Fn(mt,"users",s));return e.exists()?e.data().settings:null}async function Rm(s,e){const i=Fn(mt,"users",s);await wm(i,{settings:e},{merge:!0})}async function Eg(s){const e=ai(mt,"users",s,"workouts"),i=ph(e,yh("timestamp","desc"));return(await os(i)).docs.map(l=>({id:l.id,...l.data()}))}async function uS(s,e){const i=ai(mt,"users",s,"workouts");return(await aS(i,{...e,timestamp:st.now()})).id}async function SD(s,e){const i=Fn(mt,"users",s,"workouts",e);await $a(i)}async function Tg(s){const e=ai(mt,"users",s,"nutrition"),i=ph(e,yh("timestamp","desc"));return(await os(i)).docs.map(l=>({id:l.id,...l.data()}))}async function cS(s,e){const i=ai(mt,"users",s,"nutrition");return(await aS(i,{...e,timestamp:st.now()})).id}async function AD(s,e){const i=Fn(mt,"users",s,"nutrition",e);await $a(i)}async function bD(s){const[e,i,r]=await Promise.all([Eg(s),Tg(s),Lh(s)]);return{settings:r,workouts:e,nutrition:i,exportDate:new Date().toISOString()}}async function wD(s,e){if(e.settings&&await Rm(s,e.settings),e.workouts&&Array.isArray(e.workouts))for(const i of e.workouts)await uS(s,{name:i.name,reps:i.reps,resistance:i.resistance,date:i.date,localTimestamp:i.timestamp||i.localTimestamp});if(e.nutrition&&Array.isArray(e.nutrition))for(const i of e.nutrition)await cS(s,{name:i.name,calories:i.calories,protein:i.protein,carbs:i.carbs,fat:i.fat,date:i.date,localTimestamp:i.timestamp||i.localTimestamp});return!0}async function RD(s=50){const e=await os(ai(mt,"users")),i=[];for(const r of e.docs){const l=r.data(),c=r.id,d=l.displayName||l.settings?.name||"Anonymous",g=ai(mt,"users",c,"workouts"),p=ph(g,yh("timestamp","desc"));(await os(p)).docs.forEach(P=>{const Y=P.data();i.push({id:`${c}-workout-${P.id}`,type:"workout",userId:c,displayName:d,data:{id:P.id,...Y},timestamp:Y.timestamp})});const S=ai(mt,"users",c,"nutrition"),b=ph(S,yh("timestamp","desc"));(await os(b)).docs.forEach(P=>{const Y=P.data();i.push({id:`${c}-nutrition-${P.id}`,type:"nutrition",userId:c,displayName:d,data:{id:P.id,...Y},timestamp:Y.timestamp})})}return i.sort((r,l)=>{const c=r.timestamp?.toDate?.()||new Date(0);return(l.timestamp?.toDate?.()||new Date(0))-c}),i.slice(0,s)}function ID(){const{currentUser:s}=ia(),[e,i]=pe.useState([]),[r,l]=pe.useState(!0),[c,d]=pe.useState(""),[g,p]=pe.useState(""),[_,S]=pe.useState("");pe.useEffect(()=>{(async()=>{if(s)try{const Y=await Eg(s.uid);i(Y)}catch(Y){console.error("Error loading workouts:",Y)}l(!1)})()},[s]);const b=async P=>{if(P.preventDefault(),!c.trim()||!g||!_)return;const Y={name:c.trim(),reps:parseInt(g),resistance:parseFloat(_),date:new Date().toISOString().split("T")[0],localTimestamp:new Date().toLocaleString()};try{const B=await uS(s.uid,Y);i([{id:B,...Y,timestamp:{toDate:()=>new Date}},...e]),d(""),p(""),S("")}catch(B){console.error("Error adding workout:",B)}},I=async P=>{try{await SD(s.uid,P),i(e.filter(Y=>Y.id!==P))}catch(Y){console.error("Error deleting workout:",Y)}};return r?E.jsx("div",{className:"workouts-page",children:E.jsx("p",{children:"Loading..."})}):E.jsxs("div",{className:"workouts-page",children:[E.jsx("h2",{className:"workouts-title",children:"Log Your Workout"}),E.jsxs("form",{className:"workout-form",onSubmit:b,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"exercise-name",children:"Exercise Name"}),E.jsx("input",{type:"text",id:"exercise-name",placeholder:"e.g., Bench Press, Squats...",value:c,onChange:P=>d(P.target.value)})]}),E.jsxs("div",{className:"form-row",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"reps",children:"Reps"}),E.jsx("input",{type:"number",id:"reps",placeholder:"10",min:"1",value:g,onChange:P=>p(P.target.value)})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"resistance",children:"Resistance (lbs)"}),E.jsx("input",{type:"number",id:"resistance",placeholder:"135",min:"0",step:"0.5",value:_,onChange:P=>S(P.target.value)})]})]}),E.jsx("button",{type:"submit",className:"add-btn",children:"Add Exercise"})]}),E.jsxs("div",{className:"exercises-list",children:[E.jsx("h3",{className:"list-title",children:"Today's Exercises"}),(()=>{const P=new Date().toISOString().split("T")[0],Y=e.filter(B=>B.date===P);return Y.length===0?E.jsx("p",{className:"empty-message",children:"No exercises logged yet. Start adding your workout!"}):E.jsx("div",{className:"exercises-grid",children:Y.map(B=>E.jsxs("div",{className:"exercise-card",children:[E.jsxs("div",{className:"exercise-header",children:[E.jsx("h4",{className:"exercise-name",children:B.name}),E.jsx("button",{className:"delete-btn",onClick:()=>I(B.id),"aria-label":"Delete exercise",children:""})]}),E.jsxs("div",{className:"exercise-details",children:[E.jsxs("div",{className:"detail",children:[E.jsx("span",{className:"detail-label",children:"Reps"}),E.jsx("span",{className:"detail-value",children:B.reps})]}),E.jsxs("div",{className:"detail",children:[E.jsx("span",{className:"detail-label",children:"Weight"}),E.jsxs("span",{className:"detail-value",children:[B.resistance," lbs"]})]})]}),E.jsx("span",{className:"exercise-time",children:B.localTimestamp||(B.timestamp?.toDate?B.timestamp.toDate().toLocaleString():"")})]},B.id))})})()]})]})}function IE(){const{currentUser:s}=ia(),[e,i]=pe.useState(new Date),[r,l]=pe.useState(new Date),[c,d]=pe.useState([]),[g,p]=pe.useState([]),[_,S]=pe.useState(!0),[b,I]=pe.useState(7),[P,Y]=pe.useState({calorieGoal:2e3,proteinGoal:150,workoutDaysGoal:4});pe.useEffect(()=>{(async()=>{if(s)try{const[ie,Se,qe]=await Promise.all([Eg(s.uid),Tg(s.uid),Lh(s.uid)]);d(ie),p(Se),qe&&Y(nt=>({...nt,...qe}))}catch(ie){console.error("Error loading dashboard data:",ie)}S(!1)})()},[s]);const B=ee=>{const ie=ee.getFullYear(),Se=ee.getMonth(),qe=new Date(ie,Se+1,0).getDate(),nt=new Date(ie,Se,1).getDay();return{daysInMonth:qe,firstDayOfMonth:nt}},W=(ee,ie,Se)=>`${ee}-${String(ie+1).padStart(2,"0")}-${String(Se).padStart(2,"0")}`,ne=()=>{const ee=new Set;return c.forEach(ie=>{ie.date&&ee.add(ie.date)}),ee},ce=()=>{const ee=W(r.getFullYear(),r.getMonth(),r.getDate());return c.filter(ie=>ie.date===ee)},fe=()=>{const ee=W(r.getFullYear(),r.getMonth(),r.getDate());return g.filter(ie=>ie.date===ee)},Oe=()=>{const ee=new Date,ie=new Date(ee);ie.setDate(ie.getDate()-7);const Se=c.filter(pt=>{const Ut=new Date(pt.date);return Ut>=ie&&Ut<=ee}),qe=g.filter(pt=>{const Ut=new Date(pt.date);return Ut>=ie&&Ut<=ee}),nt=new Set(Se.map(pt=>pt.date)).size,un=Se.length,Gn=Se.reduce((pt,Ut)=>pt+Ut.reps*Ut.resistance,0),rn=qe.length>0?Math.round(qe.reduce((pt,Ut)=>pt+Ut.calories,0)/7):0,_n=qe.length>0?Math.round(qe.reduce((pt,Ut)=>pt+Ut.protein,0)/7):0;return{workoutDays:nt,totalExercises:un,totalVolume:Gn,avgCalories:rn,avgProtein:_n}},Ne=()=>{const ee={};return c.forEach(ie=>{const Se=ie.name.toLowerCase();(!ee[Se]||ie.resistance>ee[Se].resistance)&&(ee[Se]={name:ie.name,resistance:ie.resistance,reps:ie.reps,date:ie.date})}),Object.values(ee).sort((ie,Se)=>Se.resistance-ie.resistance).slice(0,5)},oe=()=>{const ee=[...new Set(c.map(qe=>qe.date))].sort((qe,nt)=>new Date(nt)-new Date(qe));if(ee.length===0)return 0;let ie=0;const Se=new Date;Se.setHours(0,0,0,0);for(let qe=0;qe<ee.length;qe++){const nt=new Date(Se);nt.setDate(nt.getDate()-qe);const un=W(nt.getFullYear(),nt.getMonth(),nt.getDate());if(ee.includes(un))ie++;else{if(qe===0)continue;break}}return ie},R=ee=>{const ie=[],Se=new Date;for(let qe=ee-1;qe>=0;qe--){const nt=new Date(Se);nt.setDate(nt.getDate()-qe);const un=W(nt.getFullYear(),nt.getMonth(),nt.getDate()),Gn=c.filter(_n=>_n.date===un),rn=g.filter(_n=>_n.date===un);ie.push({date:un,label:nt.getDate(),exercises:Gn.length,calories:rn.reduce((_n,pt)=>_n+pt.calories,0),hasWorkout:Gn.length>0,hasMeals:rn.length>0})}return ie},w=()=>{i(new Date(e.getFullYear(),e.getMonth()-1,1))},D=()=>{i(new Date(e.getFullYear(),e.getMonth()+1,1))},M=ee=>{l(new Date(e.getFullYear(),e.getMonth(),ee))},x=ee=>{const ie=new Date;return ee===ie.getDate()&&e.getMonth()===ie.getMonth()&&e.getFullYear()===ie.getFullYear()},L=ee=>ee===r.getDate()&&e.getMonth()===r.getMonth()&&e.getFullYear()===r.getFullYear(),{daysInMonth:C,firstDayOfMonth:rt}=B(e),gt=ne(),G=ce(),se=fe(),me=Oe(),Me=Ne(),Ge=oe(),V=R(b),X=Math.max(...V.map(ee=>ee.calories),1),re=["January","February","March","April","May","June","July","August","September","October","November","December"],le=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Te=()=>{const ee=[];for(let ie=0;ie<rt;ie++)ee.push(E.jsx("div",{className:"calendar-day empty"},`empty-${ie}`));for(let ie=1;ie<=C;ie++){const Se=W(e.getFullYear(),e.getMonth(),ie),qe=gt.has(Se);ee.push(E.jsxs("button",{className:`calendar-day ${x(ie)?"today":""} ${L(ie)?"selected":""} ${qe?"has-workout":""}`,onClick:()=>M(ie),children:[E.jsx("span",{className:"day-number",children:ie}),qe&&E.jsx("span",{className:"workout-indicator"})]},ie))}return ee},Ae=se.reduce((ee,ie)=>({calories:ee.calories+ie.calories,protein:ee.protein+ie.protein,carbs:ee.carbs+ie.carbs,fat:ee.fat+ie.fat}),{calories:0,protein:0,carbs:0,fat:0});return _?E.jsx("div",{className:"dashboard-page",children:E.jsx("p",{children:"Loading..."})}):E.jsxs("div",{className:"dashboard-page",children:[E.jsx("h2",{className:"dashboard-title",children:"Dashboard"}),E.jsxs("div",{className:"stats-row",children:[E.jsxs("div",{className:"stat-card",children:[E.jsx("span",{className:"stat-icon",children:""}),E.jsxs("div",{className:"stat-info",children:[E.jsx("span",{className:"stat-value",children:Ge}),E.jsx("span",{className:"stat-label",children:"Day Streak"})]})]}),E.jsxs("div",{className:"stat-card has-progress",children:[E.jsx("span",{className:"stat-icon",children:""}),E.jsxs("div",{className:"stat-info",children:[E.jsxs("span",{className:"stat-value",children:[me.workoutDays,E.jsxs("span",{className:"stat-goal",children:["/",P.workoutDaysGoal]})]}),E.jsx("span",{className:"stat-label",children:"Workouts This Week"}),E.jsx("div",{className:"progress-bar",children:E.jsx("div",{className:"progress-fill workout",style:{width:`${Math.min(me.workoutDays/P.workoutDaysGoal*100,100)}%`}})})]})]}),E.jsxs("div",{className:"stat-card",children:[E.jsx("span",{className:"stat-icon",children:""}),E.jsxs("div",{className:"stat-info",children:[E.jsx("span",{className:"stat-value",children:me.totalVolume.toLocaleString()}),E.jsx("span",{className:"stat-label",children:"Total Volume (lbs)"})]})]}),E.jsxs("div",{className:"stat-card has-progress",children:[E.jsx("span",{className:"stat-icon",children:""}),E.jsxs("div",{className:"stat-info",children:[E.jsxs("span",{className:"stat-value",children:[me.avgCalories,E.jsxs("span",{className:"stat-goal",children:["/",P.calorieGoal]})]}),E.jsx("span",{className:"stat-label",children:"Avg Daily Calories"}),E.jsx("div",{className:"progress-bar",children:E.jsx("div",{className:"progress-fill calories",style:{width:`${Math.min(me.avgCalories/P.calorieGoal*100,100)}%`}})})]})]})]}),E.jsxs("div",{className:"activity-section",children:[E.jsxs("div",{className:"activity-header",children:[E.jsx("h3",{className:"section-title",children:"Activity"}),E.jsxs("div",{className:"activity-toggle",children:[E.jsx("button",{className:`toggle-btn ${b===7?"active":""}`,onClick:()=>I(7),children:"7 Days"}),E.jsx("button",{className:`toggle-btn ${b===30?"active":""}`,onClick:()=>I(30),children:"30 Days"})]})]}),E.jsxs("div",{className:"activity-chart",children:[E.jsx("div",{className:"chart-bars",children:V.map((ee,ie)=>E.jsx("div",{className:"chart-bar-container",children:E.jsx("div",{className:`chart-bar ${ee.hasWorkout?"has-workout":""}`,style:{height:`${Math.max(ee.calories/X*100,ee.hasWorkout?20:5)}%`},title:`${ee.date}: ${ee.calories} cal, ${ee.exercises} exercises`})},ie))}),E.jsxs("div",{className:"chart-labels",children:[E.jsxs("span",{children:[b," days ago"]}),E.jsx("span",{children:"Today"})]})]}),E.jsxs("div",{className:"chart-legend",children:[E.jsxs("div",{className:"legend-item",children:[E.jsx("span",{className:"legend-bar has-workout"}),E.jsx("span",{children:"Workout day"})]}),E.jsxs("div",{className:"legend-item",children:[E.jsx("span",{className:"legend-bar"}),E.jsx("span",{children:"Rest day"})]})]})]}),Me.length>0&&E.jsxs("div",{className:"records-section",children:[E.jsx("h3",{className:"section-title",children:" Personal Records"}),E.jsx("div",{className:"records-grid",children:Me.map((ee,ie)=>E.jsxs("div",{className:"record-card",children:[E.jsxs("span",{className:"record-rank",children:["#",ie+1]}),E.jsxs("div",{className:"record-info",children:[E.jsx("span",{className:"record-name",children:ee.name}),E.jsxs("span",{className:"record-weight",children:[ee.resistance," lbs  ",ee.reps," reps"]})]})]},ie))})]}),E.jsxs("div",{className:"dashboard-content",children:[E.jsxs("div",{className:"calendar-container",children:[E.jsxs("div",{className:"calendar-header",children:[E.jsx("button",{className:"nav-arrow",onClick:w,children:""}),E.jsxs("h3",{className:"current-month",children:[re[e.getMonth()]," ",e.getFullYear()]}),E.jsx("button",{className:"nav-arrow",onClick:D,children:""})]}),E.jsxs("div",{className:"calendar-grid",children:[le.map(ee=>E.jsx("div",{className:"calendar-day-name",children:ee},ee)),Te()]}),E.jsx("div",{className:"calendar-legend",children:E.jsxs("div",{className:"legend-item",children:[E.jsx("span",{className:"legend-dot has-workout"}),E.jsx("span",{children:"Workout logged"})]})})]}),E.jsxs("div",{className:"day-details",children:[E.jsx("h3",{className:"details-title",children:r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),E.jsxs("div",{className:"detail-section",children:[E.jsx("h4",{className:"detail-section-title",children:"Workouts"}),G.length===0?E.jsx("p",{className:"no-data",children:"No exercises logged"}):E.jsx("div",{className:"exercise-list",children:G.map(ee=>E.jsxs("div",{className:"exercise-item",children:[E.jsx("span",{className:"exercise-name",children:ee.name}),E.jsxs("div",{className:"exercise-stats",children:[E.jsxs("span",{children:[ee.reps," reps"]}),E.jsx("span",{children:""}),E.jsxs("span",{children:[ee.resistance," lbs"]})]})]},ee.id))})]}),E.jsxs("div",{className:"detail-section",children:[E.jsx("h4",{className:"detail-section-title",children:"Nutrition"}),se.length===0?E.jsx("p",{className:"no-data",children:"No meals logged"}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"nutrition-totals",children:[E.jsxs("span",{className:"macro calories",children:[Ae.calories," cal"]}),E.jsxs("span",{className:"macro protein",children:[Ae.protein,"g P"]}),E.jsxs("span",{className:"macro carbs",children:[Ae.carbs,"g C"]}),E.jsxs("span",{className:"macro fat",children:[Ae.fat,"g F"]})]}),E.jsx("div",{className:"meal-list",children:se.map(ee=>E.jsxs("div",{className:"meal-item",children:[E.jsx("span",{className:"meal-name",children:ee.name}),E.jsxs("span",{className:"meal-calories",children:[ee.calories," cal"]})]},ee.id))})]})]})]})]})]})}function CD(){const{currentUser:s}=ia(),[e,i]=pe.useState([]),[r,l]=pe.useState(!0),[c,d]=pe.useState({calorieGoal:2e3,proteinGoal:150}),[g,p]=pe.useState(""),[_,S]=pe.useState(""),[b,I]=pe.useState(""),[P,Y]=pe.useState(""),[B,W]=pe.useState("");pe.useEffect(()=>{(async()=>{if(s)try{const[R,w]=await Promise.all([Tg(s.uid),Lh(s.uid)]);i(R),w&&d(D=>({...D,...w}))}catch(R){console.error("Error loading nutrition data:",R)}l(!1)})()},[s]);const ne=async oe=>{if(oe.preventDefault(),!g.trim()||!_)return;const R={name:g.trim(),calories:parseInt(_)||0,protein:parseInt(b)||0,carbs:parseInt(P)||0,fat:parseInt(B)||0,date:new Date().toISOString().split("T")[0],localTimestamp:new Date().toLocaleString()};try{const w=await cS(s.uid,R);i([{id:w,...R,timestamp:{toDate:()=>new Date}},...e]),p(""),S(""),I(""),Y(""),W("")}catch(w){console.error("Error adding meal:",w)}},ce=async oe=>{try{await AD(s.uid,oe),i(e.filter(R=>R.id!==oe))}catch(R){console.error("Error deleting meal:",R)}};if(r)return E.jsx("div",{className:"nutrition-page",children:E.jsx("p",{children:"Loading..."})});const fe=new Date().toISOString().split("T")[0],Oe=e.filter(oe=>oe.date===fe),Ne=Oe.reduce((oe,R)=>({calories:oe.calories+R.calories,protein:oe.protein+R.protein,carbs:oe.carbs+R.carbs,fat:oe.fat+R.fat}),{calories:0,protein:0,carbs:0,fat:0});return E.jsxs("div",{className:"nutrition-page",children:[E.jsx("h2",{className:"nutrition-title",children:"Track Your Nutrition"}),E.jsxs("div",{className:"daily-summary",children:[E.jsx("h3",{className:"summary-title",children:"Today's Progress"}),E.jsxs("div",{className:"goals-section",children:[E.jsxs("div",{className:"goal-item",children:[E.jsxs("div",{className:"goal-header",children:[E.jsx("span",{className:"goal-label",children:"Calories"}),E.jsxs("span",{className:"goal-values",children:[E.jsx("span",{className:"goal-current calories",children:Ne.calories}),E.jsx("span",{className:"goal-separator",children:"/"}),E.jsx("span",{className:"goal-target",children:c.calorieGoal})]})]}),E.jsx("div",{className:"goal-progress-bar",children:E.jsx("div",{className:"goal-progress-fill calories",style:{width:`${Math.min(Ne.calories/c.calorieGoal*100,100)}%`}})}),E.jsx("span",{className:"goal-remaining",children:Ne.calories>=c.calorieGoal?`${Ne.calories-c.calorieGoal} over goal`:`${c.calorieGoal-Ne.calories} remaining`})]}),E.jsxs("div",{className:"goal-item",children:[E.jsxs("div",{className:"goal-header",children:[E.jsx("span",{className:"goal-label",children:"Protein"}),E.jsxs("span",{className:"goal-values",children:[E.jsxs("span",{className:"goal-current protein",children:[Ne.protein,"g"]}),E.jsx("span",{className:"goal-separator",children:"/"}),E.jsxs("span",{className:"goal-target",children:[c.proteinGoal,"g"]})]})]}),E.jsx("div",{className:"goal-progress-bar",children:E.jsx("div",{className:"goal-progress-fill protein",style:{width:`${Math.min(Ne.protein/c.proteinGoal*100,100)}%`}})}),E.jsx("span",{className:"goal-remaining",children:Ne.protein>=c.proteinGoal?`${Ne.protein-c.proteinGoal}g over goal`:`${c.proteinGoal-Ne.protein}g remaining`})]})]}),E.jsxs("div",{className:"summary-stats",children:[E.jsxs("div",{className:"stat",children:[E.jsx("span",{className:"stat-value calories",children:Ne.calories}),E.jsx("span",{className:"stat-label",children:"Calories"})]}),E.jsxs("div",{className:"stat",children:[E.jsxs("span",{className:"stat-value protein",children:[Ne.protein,"g"]}),E.jsx("span",{className:"stat-label",children:"Protein"})]}),E.jsxs("div",{className:"stat",children:[E.jsxs("span",{className:"stat-value carbs",children:[Ne.carbs,"g"]}),E.jsx("span",{className:"stat-label",children:"Carbs"})]}),E.jsxs("div",{className:"stat",children:[E.jsxs("span",{className:"stat-value fat",children:[Ne.fat,"g"]}),E.jsx("span",{className:"stat-label",children:"Fat"})]})]})]}),E.jsxs("form",{className:"nutrition-form",onSubmit:ne,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"food-name",children:"Food Item"}),E.jsx("input",{type:"text",id:"food-name",placeholder:"e.g., Grilled Chicken, Rice...",value:g,onChange:oe=>p(oe.target.value)})]}),E.jsxs("div",{className:"form-row",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"calories",children:"Calories"}),E.jsx("input",{type:"number",id:"calories",placeholder:"250",min:"0",value:_,onChange:oe=>S(oe.target.value)})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"protein",children:"Protein (g)"}),E.jsx("input",{type:"number",id:"protein",placeholder:"30",min:"0",value:b,onChange:oe=>I(oe.target.value)})]})]}),E.jsxs("div",{className:"form-row",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"carbs",children:"Carbs (g)"}),E.jsx("input",{type:"number",id:"carbs",placeholder:"45",min:"0",value:P,onChange:oe=>Y(oe.target.value)})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"fat",children:"Fat (g)"}),E.jsx("input",{type:"number",id:"fat",placeholder:"10",min:"0",value:B,onChange:oe=>W(oe.target.value)})]})]}),E.jsx("button",{type:"submit",className:"add-btn",children:"Add Food"})]}),E.jsxs("div",{className:"meals-list",children:[E.jsx("h3",{className:"list-title",children:"Today's Meals"}),Oe.length===0?E.jsx("p",{className:"empty-message",children:"No meals logged yet. Start tracking your nutrition!"}):E.jsx("div",{className:"meals-grid",children:Oe.map(oe=>E.jsxs("div",{className:"meal-card",children:[E.jsxs("div",{className:"meal-header",children:[E.jsx("h4",{className:"meal-name",children:oe.name}),E.jsx("button",{className:"delete-btn",onClick:()=>ce(oe.id),"aria-label":"Delete meal",children:""})]}),E.jsxs("div",{className:"meal-macros",children:[E.jsxs("span",{className:"macro calories",children:[oe.calories," cal"]}),E.jsxs("span",{className:"macro protein",children:[oe.protein,"g P"]}),E.jsxs("span",{className:"macro carbs",children:[oe.carbs,"g C"]}),E.jsxs("span",{className:"macro fat",children:[oe.fat,"g F"]})]}),E.jsx("span",{className:"meal-time",children:oe.localTimestamp||(oe.timestamp?.toDate?oe.timestamp.toDate().toLocaleString():"")})]},oe.id))})]})]})}function ND(){const{currentUser:s,updateUserProfile:e}=ia(),[i,r]=pe.useState(!0),[l,c]=pe.useState({name:"",weight:"",height:"",calorieGoal:2e3,proteinGoal:150,workoutDaysGoal:4,weightUnit:"lbs",heightUnit:"in",theme:localStorage.getItem("theme")||"light"}),[d,g]=pe.useState("");pe.useEffect(()=>{(async()=>{if(s)try{const W=await Lh(s.uid);if(W){const ne=localStorage.getItem("theme")||"light";c(ce=>({...ce,...W,theme:ne}))}}catch(W){console.error("Error loading settings:",W)}r(!1)})()},[s]);const p=(B,W)=>{c(ne=>({...ne,[B]:W})),B==="theme"&&(localStorage.setItem("theme",W),document.documentElement.setAttribute("data-theme",W))},_=async()=>{try{await Rm(s.uid,l),await e({settings:l}),g("Settings saved!"),setTimeout(()=>g(""),2e3)}catch(B){console.error("Error saving settings:",B),g("Error saving settings"),setTimeout(()=>g(""),2e3)}},S=async()=>{if(window.confirm("Are you sure you want to clear all workout data? This cannot be undone."))try{const B=ai(mt,"users",s.uid,"workouts"),ne=(await os(B)).docs.map(ce=>$a(Fn(mt,"users",s.uid,"workouts",ce.id)));await Promise.all(ne),g("Workout data cleared!"),setTimeout(()=>g(""),2e3)}catch(B){console.error("Error clearing workouts:",B),g("Error clearing data"),setTimeout(()=>g(""),2e3)}},b=async()=>{if(window.confirm("Are you sure you want to clear all nutrition data? This cannot be undone."))try{const B=ai(mt,"users",s.uid,"nutrition"),ne=(await os(B)).docs.map(ce=>$a(Fn(mt,"users",s.uid,"nutrition",ce.id)));await Promise.all(ne),g("Nutrition data cleared!"),setTimeout(()=>g(""),2e3)}catch(B){console.error("Error clearing nutrition:",B),g("Error clearing data"),setTimeout(()=>g(""),2e3)}},I=async()=>{if(window.confirm("Are you sure you want to clear ALL data? This includes workouts, nutrition, and settings. This cannot be undone."))try{const B=ai(mt,"users",s.uid,"workouts"),W=await os(B);await Promise.all(W.docs.map(Oe=>$a(Fn(mt,"users",s.uid,"workouts",Oe.id))));const ne=ai(mt,"users",s.uid,"nutrition"),ce=await os(ne);await Promise.all(ce.docs.map(Oe=>$a(Fn(mt,"users",s.uid,"nutrition",Oe.id))));const fe={name:"",weight:"",height:"",calorieGoal:2e3,proteinGoal:150,workoutDaysGoal:4,weightUnit:"lbs",heightUnit:"in",theme:"dark"};await Rm(s.uid,fe),c(fe),g("All data cleared!"),setTimeout(()=>g(""),2e3)}catch(B){console.error("Error clearing all data:",B),g("Error clearing data"),setTimeout(()=>g(""),2e3)}},P=async()=>{try{const B=await bD(s.uid),W=new Blob([JSON.stringify(B,null,2)],{type:"application/json"}),ne=URL.createObjectURL(W),ce=document.createElement("a");ce.href=ne,ce.download=`fitness-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),URL.revokeObjectURL(ne),g("Data exported!"),setTimeout(()=>g(""),2e3)}catch(B){console.error("Error exporting data:",B),g("Error exporting data"),setTimeout(()=>g(""),2e3)}},Y=async B=>{const W=B.target.files[0];if(!W)return;const ne=new FileReader;ne.onload=async ce=>{try{const fe=JSON.parse(ce.target.result);await wD(s.uid,fe),fe.settings&&c(Oe=>({...Oe,...fe.settings})),g("Data imported successfully!"),setTimeout(()=>g(""),2e3)}catch(fe){console.error("Error importing data:",fe),g("Error importing data. Invalid file format."),setTimeout(()=>g(""),3e3)}},ne.readAsText(W),B.target.value=""};return i?E.jsx("div",{className:"settings-page",children:E.jsx("p",{children:"Loading..."})}):E.jsxs("div",{className:"settings-page",children:[E.jsx("h2",{className:"settings-title",children:"Settings"}),d&&E.jsx("div",{className:"save-message",children:d}),E.jsxs("div",{className:"settings-section",children:[E.jsx("h3",{className:"section-title",children:" Appearance"}),E.jsxs("div",{className:"theme-toggle-container",children:[E.jsx("span",{className:"theme-label",children:"Theme"}),E.jsxs("div",{className:"theme-toggle",children:[E.jsx("button",{className:`theme-btn ${l.theme==="light"?"active":""}`,onClick:()=>p("theme","light"),children:" Light"}),E.jsx("button",{className:`theme-btn ${l.theme==="dark"?"active":""}`,onClick:()=>p("theme","dark"),children:" Dark"})]})]})]}),E.jsxs("div",{className:"settings-section",children:[E.jsx("h3",{className:"section-title",children:" Profile"}),E.jsxs("div",{className:"settings-grid",children:[E.jsxs("div",{className:"setting-item",children:[E.jsx("label",{htmlFor:"name",children:"Name"}),E.jsx("input",{type:"text",id:"name",placeholder:"Your name",value:l.name,onChange:B=>p("name",B.target.value)})]}),E.jsxs("div",{className:"setting-item",children:[E.jsx("label",{htmlFor:"weight",children:"Weight"}),E.jsxs("div",{className:"input-with-unit",children:[E.jsx("input",{type:"number",id:"weight",placeholder:"180",value:l.weight,onChange:B=>p("weight",B.target.value)}),E.jsxs("select",{value:l.weightUnit,onChange:B=>p("weightUnit",B.target.value),children:[E.jsx("option",{value:"lbs",children:"lbs"}),E.jsx("option",{value:"kg",children:"kg"})]})]})]}),E.jsxs("div",{className:"setting-item",children:[E.jsx("label",{htmlFor:"height",children:"Height"}),E.jsxs("div",{className:"input-with-unit",children:[E.jsx("input",{type:"number",id:"height",placeholder:"70",value:l.height,onChange:B=>p("height",B.target.value)}),E.jsxs("select",{value:l.heightUnit,onChange:B=>p("heightUnit",B.target.value),children:[E.jsx("option",{value:"in",children:"in"}),E.jsx("option",{value:"cm",children:"cm"})]})]})]})]})]}),E.jsxs("div",{className:"settings-section",children:[E.jsx("h3",{className:"section-title",children:" Daily Goals"}),E.jsxs("div",{className:"settings-grid",children:[E.jsxs("div",{className:"setting-item",children:[E.jsx("label",{htmlFor:"calorieGoal",children:"Calorie Goal"}),E.jsxs("div",{className:"input-with-unit",children:[E.jsx("input",{type:"number",id:"calorieGoal",placeholder:"2000",value:l.calorieGoal,onChange:B=>p("calorieGoal",parseInt(B.target.value)||0)}),E.jsx("span",{className:"unit-label",children:"cal"})]})]}),E.jsxs("div",{className:"setting-item",children:[E.jsx("label",{htmlFor:"proteinGoal",children:"Protein Goal"}),E.jsxs("div",{className:"input-with-unit",children:[E.jsx("input",{type:"number",id:"proteinGoal",placeholder:"150",value:l.proteinGoal,onChange:B=>p("proteinGoal",parseInt(B.target.value)||0)}),E.jsx("span",{className:"unit-label",children:"g"})]})]}),E.jsxs("div",{className:"setting-item",children:[E.jsx("label",{htmlFor:"workoutDaysGoal",children:"Weekly Workout Days"}),E.jsxs("div",{className:"input-with-unit",children:[E.jsx("input",{type:"number",id:"workoutDaysGoal",placeholder:"4",min:"1",max:"7",value:l.workoutDaysGoal,onChange:B=>p("workoutDaysGoal",parseInt(B.target.value)||0)}),E.jsx("span",{className:"unit-label",children:"days"})]})]})]}),E.jsx("button",{className:"save-btn",onClick:_,children:"Save Settings"})]}),E.jsxs("div",{className:"settings-section",children:[E.jsx("h3",{className:"section-title",children:" Data Management"}),E.jsxs("div",{className:"data-actions",children:[E.jsxs("div",{className:"data-action-group",children:[E.jsx("p",{className:"action-description",children:"Export your data for backup or transfer to another device."}),E.jsx("button",{className:"action-btn export",onClick:P,children:"Export Data"})]}),E.jsxs("div",{className:"data-action-group",children:[E.jsx("p",{className:"action-description",children:"Import previously exported data."}),E.jsxs("label",{className:"action-btn import",children:["Import Data",E.jsx("input",{type:"file",accept:".json",onChange:Y,hidden:!0})]})]})]})]}),E.jsxs("div",{className:"settings-section danger-zone",children:[E.jsx("h3",{className:"section-title",children:" Danger Zone"}),E.jsxs("div",{className:"danger-actions",children:[E.jsxs("div",{className:"danger-action",children:[E.jsxs("div",{className:"danger-info",children:[E.jsx("span",{className:"danger-title",children:"Clear Workout Data"}),E.jsx("span",{className:"danger-description",children:"Delete all logged exercises"})]}),E.jsx("button",{className:"danger-btn",onClick:S,children:"Clear Workouts"})]}),E.jsxs("div",{className:"danger-action",children:[E.jsxs("div",{className:"danger-info",children:[E.jsx("span",{className:"danger-title",children:"Clear Nutrition Data"}),E.jsx("span",{className:"danger-description",children:"Delete all logged meals"})]}),E.jsx("button",{className:"danger-btn",onClick:b,children:"Clear Nutrition"})]}),E.jsxs("div",{className:"danger-action",children:[E.jsxs("div",{className:"danger-info",children:[E.jsx("span",{className:"danger-title",children:"Clear All Data"}),E.jsx("span",{className:"danger-description",children:"Delete everything and reset the app"})]}),E.jsx("button",{className:"danger-btn danger-btn-all",onClick:I,children:"Clear Everything"})]})]})]})]})}function DD(){const{currentUser:s}=ia(),[e,i]=pe.useState([]),[r,l]=pe.useState(!0),[c,d]=pe.useState(null),[g,p]=pe.useState("all");pe.useEffect(()=>{(async()=>{try{d(null);const P=await RD(100);i(P)}catch(P){console.error("Error loading social feed:",P),d(P.message||"Failed to load social feed")}l(!1)})()},[]);const _=e.filter(I=>g==="all"?!0:g==="workouts"?I.type==="workout":g==="meals"?I.type==="nutrition":!0),S=I=>{if(!I)return"";const P=I.toDate?I.toDate():new Date(I),B=new Date-P,W=Math.floor(B/6e4),ne=Math.floor(B/36e5),ce=Math.floor(B/864e5);return W<1?"Just now":W<60?`${W}m ago`:ne<24?`${ne}h ago`:ce<7?`${ce}d ago`:P.toLocaleDateString()},b=I=>I?I.split(" ").map(P=>P[0]).join("").toUpperCase().slice(0,2):"?";return r?E.jsx("div",{className:"social-page",children:E.jsxs("div",{className:"loading-spinner",children:[E.jsx("div",{className:"spinner"}),E.jsx("p",{children:"Loading social feed..."})]})}):c?E.jsx("div",{className:"social-page",children:E.jsxs("div",{className:"empty-feed",children:[E.jsx("span",{className:"empty-icon",children:""}),E.jsx("h3",{children:"Error loading feed"}),E.jsx("p",{children:c})]})}):E.jsxs("div",{className:"social-page",children:[E.jsxs("div",{className:"social-header",children:[E.jsx("h2",{className:"social-title",children:"Community Feed"}),E.jsx("p",{className:"social-subtitle",children:"See what others are doing to stay fit!"})]}),E.jsxs("div",{className:"filter-tabs",children:[E.jsx("button",{className:`filter-tab ${g==="all"?"active":""}`,onClick:()=>p("all"),children:"All Activity"}),E.jsx("button",{className:`filter-tab ${g==="workouts"?"active":""}`,onClick:()=>p("workouts"),children:" Workouts"}),E.jsx("button",{className:`filter-tab ${g==="meals"?"active":""}`,onClick:()=>p("meals"),children:" Meals"})]}),E.jsx("div",{className:"activity-feed",children:_.length===0?E.jsxs("div",{className:"empty-feed",children:[E.jsx("span",{className:"empty-icon",children:""}),E.jsx("h3",{children:"No activity yet"}),E.jsx("p",{children:"Be the first to log a workout or meal!"})]}):_.map(I=>E.jsxs("div",{className:`activity-card ${I.type} ${I.userId===s?.uid?"own-activity":""}`,children:[E.jsxs("div",{className:"activity-header",children:[E.jsx("div",{className:"user-avatar",children:b(I.displayName)}),E.jsxs("div",{className:"activity-meta",children:[E.jsxs("span",{className:"user-name",children:[I.displayName,I.userId===s?.uid&&E.jsx("span",{className:"you-badge",children:"You"})]}),E.jsx("span",{className:"activity-time",children:S(I.timestamp)})]}),E.jsx("span",{className:`activity-type-badge ${I.type}`,children:I.type==="workout"?" Workout":" Meal"})]}),E.jsx("div",{className:"activity-content",children:I.type==="workout"?E.jsxs("div",{className:"workout-activity",children:[E.jsx("h4",{className:"activity-name",children:I.data.name}),E.jsxs("div",{className:"workout-stats",children:[E.jsxs("div",{className:"stat-item",children:[E.jsx("span",{className:"stat-value",children:I.data.reps}),E.jsx("span",{className:"stat-label",children:"Reps"})]}),E.jsxs("div",{className:"stat-item",children:[E.jsx("span",{className:"stat-value",children:I.data.resistance}),E.jsx("span",{className:"stat-label",children:"lbs"})]})]})]}):E.jsxs("div",{className:"nutrition-activity",children:[E.jsx("h4",{className:"activity-name",children:I.data.name}),E.jsxs("div",{className:"nutrition-stats",children:[E.jsxs("div",{className:"macro-item calories",children:[E.jsx("span",{className:"macro-value",children:I.data.calories}),E.jsx("span",{className:"macro-label",children:"cal"})]}),E.jsxs("div",{className:"macro-item protein",children:[E.jsxs("span",{className:"macro-value",children:[I.data.protein||0,"g"]}),E.jsx("span",{className:"macro-label",children:"protein"})]}),E.jsxs("div",{className:"macro-item carbs",children:[E.jsxs("span",{className:"macro-value",children:[I.data.carbs||0,"g"]}),E.jsx("span",{className:"macro-label",children:"carbs"})]}),E.jsxs("div",{className:"macro-item fat",children:[E.jsxs("span",{className:"macro-value",children:[I.data.fat||0,"g"]}),E.jsx("span",{className:"macro-label",children:"fat"})]})]})]})}),E.jsx("div",{className:"activity-footer",children:E.jsxs("span",{className:"activity-date",children:[" ",I.data.date||I.data.localTimestamp?.split(",")[0]]})})]},I.id))})]})}function OD(){const[s,e]=pe.useState(!0),[i,r]=pe.useState(""),[l,c]=pe.useState(""),[d,g]=pe.useState(""),[p,_]=pe.useState(""),[S,b]=pe.useState(""),[I,P]=pe.useState(""),[Y,B]=pe.useState(!1),[W,ne]=pe.useState(!1),{signup:ce,login:fe,resetPassword:Oe}=ia(),Ne=async R=>{if(R.preventDefault(),b(""),P(""),!s&&l!==d)return b("Passwords do not match");if(!s&&l.length<6)return b("Password must be at least 6 characters");B(!0);try{s?await fe(i,l):await ce(i,l,p)}catch(w){switch(console.error(w),w.code){case"auth/email-already-in-use":b("This email is already registered");break;case"auth/invalid-email":b("Invalid email address");break;case"auth/weak-password":b("Password is too weak");break;case"auth/user-not-found":b("No account found with this email");break;case"auth/wrong-password":b("Incorrect password");break;case"auth/invalid-credential":b("Invalid email or password");break;default:b("Failed to "+(s?"log in":"sign up"))}}B(!1)},oe=async R=>{if(R.preventDefault(),b(""),P(""),!i)return b("Please enter your email address");B(!0);try{await Oe(i),P("Check your email for password reset instructions"),ne(!1)}catch(w){console.error(w),b("Failed to send reset email")}B(!1)};return W?E.jsx("div",{className:"auth-container",children:E.jsxs("div",{className:"auth-card",children:[E.jsx("h2",{className:"auth-title",children:"Reset Password"}),S&&E.jsx("div",{className:"auth-error",children:S}),I&&E.jsx("div",{className:"auth-success",children:I}),E.jsxs("form",{onSubmit:oe,className:"auth-form",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"reset-email",children:"Email"}),E.jsx("input",{type:"email",id:"reset-email",value:i,onChange:R=>r(R.target.value),placeholder:"Enter your email",required:!0})]}),E.jsx("button",{type:"submit",className:"auth-btn",disabled:Y,children:Y?"Sending...":"Send Reset Email"})]}),E.jsx("div",{className:"auth-switch",children:E.jsx("button",{type:"button",onClick:()=>ne(!1),className:"switch-btn",children:"Back to Login"})})]})}):E.jsx("div",{className:"auth-container",children:E.jsxs("div",{className:"auth-card",children:[E.jsx("h2",{className:"auth-title",children:s?"Welcome Back":"Create Account"}),S&&E.jsx("div",{className:"auth-error",children:S}),I&&E.jsx("div",{className:"auth-success",children:I}),E.jsxs("form",{onSubmit:Ne,className:"auth-form",children:[!s&&E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"displayName",children:"Name"}),E.jsx("input",{type:"text",id:"displayName",value:p,onChange:R=>_(R.target.value),placeholder:"Enter your name",required:!s})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"email",children:"Email"}),E.jsx("input",{type:"email",id:"email",value:i,onChange:R=>r(R.target.value),placeholder:"Enter your email",required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"password",children:"Password"}),E.jsx("input",{type:"password",id:"password",value:l,onChange:R=>c(R.target.value),placeholder:"Enter your password",required:!0})]}),!s&&E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),E.jsx("input",{type:"password",id:"confirmPassword",value:d,onChange:R=>g(R.target.value),placeholder:"Confirm your password",required:!s})]}),E.jsx("button",{type:"submit",className:"auth-btn",disabled:Y,children:Y?"Please wait...":s?"Log In":"Sign Up"})]}),s&&E.jsx("button",{type:"button",onClick:()=>ne(!0),className:"forgot-password-btn",children:"Forgot Password?"}),E.jsxs("div",{className:"auth-switch",children:[E.jsx("span",{children:s?"Don't have an account?":"Already have an account?"}),E.jsx("button",{type:"button",onClick:()=>{e(!s),b(""),P("")},className:"switch-btn",children:s?"Sign Up":"Log In"})]})]})})}function xD(){const[s,e]=pe.useState(navigator.onLine),[i,r]=pe.useState(!1);return pe.useEffect(()=>{const l=()=>{e(!0),r(!0),setTimeout(()=>r(!1),3e3)},c=()=>{e(!1),r(!0)};return window.addEventListener("online",l),window.addEventListener("offline",c),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",c)}},[]),!i&&s?null:E.jsxs("div",{className:`offline-indicator ${s?"online":"offline"}`,children:[E.jsx("span",{className:"status-icon",children:s?"":""}),E.jsx("span",{className:"status-text",children:s?"Back online!":"You're offline - some features may be limited"})]})}function VD(){const{currentUser:s,logout:e,userProfile:i}=ia(),[r,l]=pe.useState("dashboard"),[c,d]=pe.useState(()=>localStorage.getItem("theme")||"light");pe.useEffect(()=>{document.documentElement.setAttribute("data-theme",c),localStorage.setItem("theme",c)},[c]),pe.useEffect(()=>{const _=S=>{S.key==="theme"&&S.newValue&&S.newValue!==c&&d(S.newValue)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[c]);const g=()=>{switch(r){case"dashboard":return E.jsx(IE,{});case"workouts":return E.jsx(ID,{});case"nutrition":return E.jsx(CD,{});case"social":return E.jsx(DD,{});case"settings":return E.jsx(ND,{});default:return E.jsx(IE,{})}},p=async()=>{try{await e(),l("dashboard")}catch(_){console.error("Logout error:",_)}};return s?E.jsxs("div",{className:"app",children:[E.jsxs("header",{className:"header",children:[E.jsx("h1",{className:"header-title",children:"Fitness Tracker"}),E.jsxs("nav",{className:"nav",children:[E.jsx("button",{className:`nav-btn ${r==="dashboard"?"active":""}`,onClick:()=>l("dashboard"),children:"Dashboard"}),E.jsx("button",{className:`nav-btn ${r==="workouts"?"active":""}`,onClick:()=>l("workouts"),children:"Workouts"}),E.jsx("button",{className:`nav-btn ${r==="nutrition"?"active":""}`,onClick:()=>l("nutrition"),children:"Nutrition"}),E.jsx("button",{className:`nav-btn ${r==="social"?"active":""}`,onClick:()=>l("social"),children:"Social"}),E.jsx("button",{className:`nav-btn ${r==="settings"?"active":""}`,onClick:()=>l("settings"),children:"Settings"})]}),E.jsxs("div",{className:"user-menu",children:[E.jsx("span",{className:"user-name",children:s.displayName||s.email}),E.jsx("button",{className:"logout-btn",onClick:p,children:"Logout"})]})]}),E.jsx("main",{className:"main-content",children:g()}),E.jsx(xD,{})]}):E.jsx(OD,{})}const MD="modulepreload",kD=function(s){return"/fitness-tracker/"+s},CE={},LD=function(e,i,r){let l=Promise.resolve();if(i&&i.length>0){let _=function(S){return Promise.all(S.map(b=>Promise.resolve(b).then(I=>({status:"fulfilled",value:I}),I=>({status:"rejected",reason:I}))))};var d=_;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),p=g?.nonce||g?.getAttribute("nonce");l=_(i.map(S=>{if(S=kD(S),S in CE)return;CE[S]=!0;const b=S.endsWith(".css"),I=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${S}"]${I}`))return;const P=document.createElement("link");if(P.rel=b?"stylesheet":MD,b||(P.as="script"),P.crossOrigin="",P.href=S,p&&P.setAttribute("nonce",p),document.head.appendChild(P),b)return new Promise((Y,B)=>{P.addEventListener("load",Y),P.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${S}`)))})}))}function c(g){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=g,window.dispatchEvent(p),!p.defaultPrevented)throw g}return l.then(g=>{for(const p of g||[])p.status==="rejected"&&c(p.reason);return e().catch(c)})};function PD(s={}){const{immediate:e=!1,onNeedRefresh:i,onOfflineReady:r,onRegistered:l,onRegisteredSW:c,onRegisterError:d}=s;let g,p;const _=async(b=!0)=>{await p};async function S(){if("serviceWorker"in navigator){if(g=await LD(async()=>{const{Workbox:b}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:b}},[]).then(({Workbox:b})=>new b("/fitness-tracker/sw.js",{scope:"/fitness-tracker/",type:"classic"})).catch(b=>{d?.(b)}),!g)return;g.addEventListener("activated",b=>{(b.isUpdate||b.isExternal)&&window.location.reload()}),g.addEventListener("installed",b=>{b.isUpdate||r?.()}),g.register({immediate:e}).then(b=>{c?c("/fitness-tracker/sw.js",b):l?.(b)}).catch(b=>{d?.(b)})}}return p=S(),_}const UD=PD({onNeedRefresh(){confirm("New content available. Reload?")&&UD(!0)},onOfflineReady(){console.log("App ready to work offline")}});$A.createRoot(document.getElementById("root")).render(E.jsx(pe.StrictMode,{children:E.jsx(TD,{children:E.jsx(VD,{})})}));
